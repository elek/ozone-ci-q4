2019-10-01 07:02:19,825 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-01 07:02:22,549 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-01 07:02:22,553 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-01 07:02:22,575 [main] INFO  util.log (Log.java:initialized(192)) - Logging initialized @3522ms
2019-10-01 07:02:22,702 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-10-01 07:02:22,703 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-01 07:02:22,703 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-10-01 07:02:22,704 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-01 07:02:22,704 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-10-01 07:02:22,704 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-01 07:02:22,719 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-10-01 07:02:22,719 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-01 07:02:22,721 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-10-01 07:02:44,455 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@1aafa419
2019-10-01 07:02:44,458 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-01 07:02:44,551 [main] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(114)) - Entering startup safe mode.
2019-10-01 07:02:44,624 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(57)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-01 07:02:44,638 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-01 07:02:44,778 [main] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(132)) - No pipeline exists in current db
2019-10-01 07:02:44,781 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-01 07:02:44,945 [main] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
2019-10-01 07:02:45,318 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-01 07:02:45,347 [Socket Reader #1 for port 46211] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 46211
2019-10-01 07:02:45,498 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-01 07:02:45,499 [Socket Reader #1 for port 40712] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 40712
2019-10-01 07:02:45,509 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-01 07:02:45,510 [Socket Reader #1 for port 46317] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 46317
2019-10-01 07:02:45,533 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-10-01 07:02:45,673 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-01 07:02:45,680 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-01 07:02:45,686 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-01 07:02:45,689 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-01 07:02:45,689 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-01 07:02:45,689 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-01 07:02:45,714 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(770)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:46317
2019-10-01 07:02:45,763 [main] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-10-01 07:02:45,775 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-10-01 07:02:45,775 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-10-01 07:02:46,043 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(150)) - RPC server for Client  is listening at /0.0.0.0:46317
2019-10-01 07:02:46,044 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-01 07:02:46,044 [IPC Server listener on 46317] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 46317: starting
2019-10-01 07:02:46,048 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(780)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:40712
2019-10-01 07:02:46,049 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:40712
2019-10-01 07:02:46,050 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-01 07:02:46,050 [IPC Server listener on 40712] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 40712: starting
2019-10-01 07:02:46,054 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(784)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:46211
2019-10-01 07:02:46,054 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:46211
2019-10-01 07:02:46,054 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-01 07:02:46,055 [IPC Server listener on 46211] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 46211: starting
2019-10-01 07:02:46,059 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 33602
2019-10-01 07:02:46,061 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-01 07:02:46,103 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@158a3b2e{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-01 07:02:46,104 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5e1fa5b1{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-01 07:02:46,141 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@61edc883{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-10-01 07:02:46,148 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@780ec4a5{HTTP/1.1,[http/1.1]}{0.0.0.0:33602}
2019-10-01 07:02:46,148 [main] INFO  server.Server (Server.java:doStart(419)) - Started @27096ms
2019-10-01 07:02:46,150 [main] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2019-10-01 07:02:46,151 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(301)) - Registered sink prometheus
2019-10-01 07:02:46,152 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:33602
2019-10-01 07:02:46,162 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1b822fcc] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-01 07:02:46,167 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-01 07:02:46,404 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-01 07:02:46,405 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-01 07:02:46,406 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(652)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-10-01 07:02:46,406 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(658)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 997a9ac3-0a53-4114-94bb-35f489f90248
2019-10-01 07:02:46,408 [main] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(609)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-10-01 07:02:47,093 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-01 07:02:47,101 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-10-01 07:02:47,102 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-01 07:02:47,102 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-10-01 07:02:47,102 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-01 07:02:47,102 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-10-01 07:02:47,103 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-01 07:02:47,103 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-10-01 07:02:47,103 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-01 07:02:47,103 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-10-01 07:02:47,104 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-01 07:02:47,104 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-10-01 07:02:47,104 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-01 07:02:47,104 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-10-01 07:02:47,104 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-01 07:02:47,105 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-10-01 07:02:47,105 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-01 07:02:47,105 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-10-01 07:02:47,105 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-01 07:02:47,106 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-10-01 07:02:47,106 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-01 07:02:47,106 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-10-01 07:02:47,106 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-01 07:02:47,107 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-10-01 07:02:47,107 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-01 07:02:47,107 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-10-01 07:02:48,062 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-01 07:02:48,064 [Socket Reader #1 for port 40851] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 40851
2019-10-01 07:02:48,082 [main] INFO  om.OzoneManager (OzoneManager.java:start(1243)) - OzoneManager RPC server is listening at localhost/127.0.0.1:40851
2019-10-01 07:02:48,082 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-01 07:02:48,083 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-01 07:02:48,083 [IPC Server listener on 40851] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 40851: starting
2019-10-01 07:02:48,090 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-10-01 07:02:48,091 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-01 07:02:48,092 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-01 07:02:48,093 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-01 07:02:48,094 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-01 07:02:48,094 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-01 07:02:48,094 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-01 07:02:48,096 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 38484
2019-10-01 07:02:48,096 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-01 07:02:48,098 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5cf8edcf{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-01 07:02:48,099 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@629f066f{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-01 07:02:48,103 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@1cbb3d3b{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-01 07:02:48,103 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@529cfee5{HTTP/1.1,[http/1.1]}{0.0.0.0:38484}
2019-10-01 07:02:48,104 [main] INFO  server.Server (Server.java:doStart(419)) - Started @29051ms
2019-10-01 07:02:48,104 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-01 07:02:48,105 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:38484
2019-10-01 07:02:48,411 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-01 07:02:48,453 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1984-bsjj8-3390809720 ip:192.168.30.18
2019-10-01 07:02:48,482 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-01 07:02:48,484 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers/hdds to VolumeSet
2019-10-01 07:02:48,487 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@5136207f
2019-10-01 07:02:48,502 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@5136207f
2019-10-01 07:02:48,594 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-01 07:02:48,651 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-01 07:02:48,655 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-10-01 07:02:48,656 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-01 07:02:48,657 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:02:48,658 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-01 07:02:48,658 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-01 07:02:48,793 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:02:48,840 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-10-01 07:02:48,842 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-01 07:02:48,843 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-01 07:02:48,845 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-01 07:02:48,846 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-01 07:02:48,846 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-01 07:02:48,846 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-01 07:02:48,847 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 40749
2019-10-01 07:02:48,847 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-01 07:02:48,850 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@26dc9bd5{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-01 07:02:48,851 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@43045f9f{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-01 07:02:48,896 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@122d6c22{/,file:///tmp/jetty-0.0.0.0-40749-hddsDatanode-_-any-803021493472285483.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-01 07:02:48,897 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2f5ac102{HTTP/1.1,[http/1.1]}{0.0.0.0:40749}
2019-10-01 07:02:48,897 [main] INFO  server.Server (Server.java:doStart(419)) - Started @29845ms
2019-10-01 07:02:48,898 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-01 07:02:48,899 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:40749
2019-10-01 07:02:48,901 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:02:48,906 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5474162b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-01 07:02:48,995 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/meta/datanode.id
2019-10-01 07:02:49,902 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:02:50,902 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:02:50,965 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-10-01 07:02:50,967 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-10-01 07:02:50,967 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(417)) - Starting XceiverServerRatis 9455b0e0-55b4-41b0-9971-04601d21fa81 at port 0
2019-10-01 07:02:50,990 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start RPC server
2019-10-01 07:02:51,114 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: GrpcService started, listening on 0.0.0.0/0.0.0.0:44244
2019-10-01 07:02:51,114 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(427)) - XceiverServerRatis 9455b0e0-55b4-41b0-9971-04601d21fa81 is started using port 44244
2019-10-01 07:02:51,117 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(149)) - XceiverServerGrpc 9455b0e0-55b4-41b0-9971-04601d21fa81 is started using port 44814
2019-10-01 07:02:51,903 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:02:52,904 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:02:52,950 [IPC Server handler 1 on 46211] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(111)) - Added a new node: /default-rack/9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:02:52,950 [IPC Server handler 1 on 46211] INFO  node.SCMNodeManager (SCMNodeManager.java:register(266)) - Registered Data node : 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}
2019-10-01 07:02:52,957 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-10-01 07:02:52,959 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-10-01 07:02:52,960 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-10-01 07:02:53,474 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: addNew group-B48521D2FA3C:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] returns group-B48521D2FA3C:java.util.concurrent.CompletableFuture@5d2923f8[Not completed]
2019-10-01 07:02:53,490 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: new RaftServerImpl for group-B48521D2FA3C:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] with ContainerStateMachine:uninitialized
2019-10-01 07:02:53,493 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-01 07:02:53,494 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-01 07:02:53,494 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-01 07:02:53,496 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-01 07:02:53,497 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-01 07:02:53,506 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: ConfigurationManager, init=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null, confs=<EMPTY_MAP>
2019-10-01 07:02:53,507 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:02:53,514 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-01 07:02:53,517 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c does not exist. Creating ...
2019-10-01 07:02:53,547 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/in_use.lock acquired by nodename 16375@pr-hdds-1984-bsjj8-3390809720
2019-10-01 07:02:53,573 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c has been successfully formatted.
2019-10-01 07:02:53,576 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-B48521D2FA3C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-01 07:02:53,577 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-01 07:02:53,579 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-01 07:02:53,586 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-01 07:02:53,586 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:02:53,589 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:02:53,591 [pool-27-thread-1] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - ratis metrics system started (again)
2019-10-01 07:02:53,596 [pool-27-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2019-10-01 07:02:53,634 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-01 07:02:53,639 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c
2019-10-01 07:02:53,640 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-01 07:02:53,641 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-01 07:02:53,642 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:02:53,642 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-01 07:02:53,643 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-01 07:02:53,643 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-01 07:02:53,644 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-01 07:02:53,644 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-01 07:02:53,645 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-01 07:02:53,657 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-01 07:02:53,662 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-01 07:02:53,667 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-01 07:02:53,667 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-01 07:02:53,668 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-01 07:02:53,669 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-01 07:02:53,705 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: start as a follower, conf=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:02:53,706 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-01 07:02:53,708 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start FollowerState
2019-10-01 07:02:53,715 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B48521D2FA3C,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:02:53,796 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:02:53,905 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-01 07:02:54,405 [main] INFO  rpc.RpcClient (RpcClient.java:createVolume(276)) - Creating Volume: testcontainerstatemachinefailures, with jenkins1000 as owner.
2019-10-01 07:02:54,543 [IPC Server handler 1 on 40851] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(194)) - created volume:testcontainerstatemachinefailures for user:jenkins1000
2019-10-01 07:02:54,567 [main] INFO  rpc.RpcClient (RpcClient.java:createBucket(415)) - Creating Bucket: testcontainerstatemachinefailures/testcontainerstatemachinefailures, with Versioning false and Storage Type set to DISK and Encryption set to false 
2019-10-01 07:02:55,061 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - XceiverClientMetrics metrics system started (again)
2019-10-01 07:02:55,965 [Thread-148] INFO  container.ReplicationManager (ReplicationManager.java:start(162)) - Starting Replication Monitor Thread.
2019-10-01 07:02:55,971 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(225)) - Replication Monitor Thread took 4 milliseconds for processing 1 containers.
2019-10-01 07:02:58,843 [Thread-150] INFO  impl.FollowerState (FollowerState.java:run(108)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-FollowerState: change to CANDIDATE, lastRpcTime:5135ms, electionTimeout:5134ms
2019-10-01 07:02:58,846 [Thread-150] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown FollowerState
2019-10-01 07:02:58,848 [Thread-150] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-01 07:02:58,854 [Thread-150] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderElection
2019-10-01 07:02:58,880 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1: begin an election at term 1 for -1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:02:58,882 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderElection
2019-10-01 07:02:58,883 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-01 07:02:58,883 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: change Leader from null to 9455b0e0-55b4-41b0-9971-04601d21fa81 at term 1 for becomeLeader, leader elected after 5306ms
2019-10-01 07:02:58,890 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-01 07:02:58,891 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-01 07:02:58,896 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-01 07:02:58,899 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-01 07:02:58,899 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-01 07:02:58,900 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-01 07:02:58,937 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderState
2019-10-01 07:02:58,963 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-01 07:02:58,975 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:02:59,213 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/current/log_inprogress_0
2019-10-01 07:02:59,551 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B48521D2FA3C: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_1
2019-10-01 07:02:59,605 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B48521D2FA3C: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_1 time:54
2019-10-01 07:02:59,606 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: Took a snapshot at index 1
2019-10-01 07:02:59,606 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-01 07:02:59,757 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B48521D2FA3C: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_1
2019-10-01 07:02:59,782 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B48521D2FA3C: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_1 time:26
2019-10-01 07:02:59,782 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: Took a snapshot at index 1
2019-10-01 07:02:59,782 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-10-01 07:02:59,788 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B48521D2FA3C: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_4
2019-10-01 07:02:59,807 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B48521D2FA3C: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_4 time:19
2019-10-01 07:02:59,807 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: Took a snapshot at index 4
2019-10-01 07:02:59,808 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-10-01 07:02:59,810 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B48521D2FA3C: Taking a snapshot at:(t:1, i:8) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_8
2019-10-01 07:02:59,832 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B48521D2FA3C: Finished taking a snapshot at:(t:1, i:8) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_8 time:23
2019-10-01 07:02:59,833 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: Took a snapshot at index 8
2019-10-01 07:02:59,833 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 8
2019-10-01 07:02:59,896 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-01 07:03:02,732 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c]
2019-10-01 07:03:02,733 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:03:02,735 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-01 07:03:02,737 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #1
2019-10-01 07:03:04,842 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-10-01 07:03:04,848 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: close
2019-10-01 07:03:04,852 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: shutdown
2019-10-01 07:03:04,852 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B48521D2FA3C,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:03:04,854 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderState
2019-10-01 07:03:04,856 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-PendingRequests: sendNotLeaderResponses
2019-10-01 07:03:04,872 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: set stopIndex = 8
2019-10-01 07:03:04,876 [main] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: closes. applyIndex: 8
2019-10-01 07:03:04,884 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-01 07:03:04,886 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker close()
2019-10-01 07:03:04,889 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown server with port 44244 now
2019-10-01 07:03:04,893 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown server with port 44244 successfully
2019-10-01 07:03:04,901 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-01 07:03:04,924 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-10-01 07:03:04,927 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-01 07:03:04,934 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@122d6c22{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-01 07:03:04,942 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2f5ac102{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-01 07:03:04,942 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@43045f9f{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-01 07:03:04,943 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@26dc9bd5{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-01 07:03:04,948 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-10-01 07:03:04,951 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-01 07:03:05,000 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1984-bsjj8-3390809720 ip:192.168.30.18
2019-10-01 07:03:05,005 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers : 4096 
2019-10-01 07:03:05,005 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-01 07:03:05,006 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers/hdds to VolumeSet
2019-10-01 07:03:05,006 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@16a35bd
2019-10-01 07:03:05,007 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@16a35bd
2019-10-01 07:03:05,028 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-01 07:03:05,028 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-01 07:03:05,029 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44244 (custom)
2019-10-01 07:03:05,029 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-01 07:03:05,029 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:03:05,029 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-01 07:03:05,030 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-01 07:03:05,030 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:03:05,031 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c
2019-10-01 07:03:05,032 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: addNew group-B48521D2FA3C:[] returns group-B48521D2FA3C:java.util.concurrent.CompletableFuture@2db4ad1[Not completed]
2019-10-01 07:03:05,037 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: new RaftServerImpl for group-B48521D2FA3C:[] with ContainerStateMachine:uninitialized
2019-10-01 07:03:05,037 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:40749
2019-10-01 07:03:05,038 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-01 07:03:05,038 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-01 07:03:05,038 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-01 07:03:05,039 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-01 07:03:05,039 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-01 07:03:05,039 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-10-01 07:03:05,040 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:03:05,040 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-01 07:03:05,040 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-01 07:03:05,042 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-01 07:03:05,045 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-01 07:03:05,046 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-01 07:03:05,046 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-01 07:03:05,047 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-01 07:03:05,048 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 40749
2019-10-01 07:03:05,049 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-01 07:03:05,051 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2629d5dc{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-01 07:03:05,052 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@42a0501e{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-01 07:03:05,081 [pool-40-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/in_use.lock acquired by nodename 16375@pr-hdds-1984-bsjj8-3390809720
2019-10-01 07:03:05,086 [pool-40-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-B48521D2FA3C: Setting the last applied index to (t:1, i:8)
2019-10-01 07:03:05,092 [pool-40-thread-1] WARN  impl.ContainerSet (ContainerSet.java:lambda$buildMissingContainerSetAndValidate$1(257)) - Adding container 1 to missing container set.
2019-10-01 07:03:05,095 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:03:05,095 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-01 07:03:05,095 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-01 07:03:05,096 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-01 07:03:05,096 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:03:05,096 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:03:05,096 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-01 07:03:05,096 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c
2019-10-01 07:03:05,097 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-01 07:03:05,097 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-01 07:03:05,097 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:03:05,097 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-01 07:03:05,098 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-01 07:03:05,098 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-01 07:03:05,098 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-01 07:03:05,098 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-01 07:03:05,099 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-01 07:03:05,099 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-01 07:03:05,100 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@161aa04a{/,file:///tmp/jetty-0.0.0.0-40749-hddsDatanode-_-any-4334354854921988142.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-01 07:03:05,102 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@436bd4df{HTTP/1.1,[http/1.1]}{0.0.0.0:40749}
2019-10-01 07:03:05,102 [main] INFO  server.Server (Server.java:doStart(419)) - Started @46050ms
2019-10-01 07:03:05,102 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-01 07:03:05,104 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:40749
2019-10-01 07:03:05,105 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:05,106 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@385fcc72] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-01 07:03:05,110 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:03:05,112 [pool-40-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(140)) - Successfully read 9 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/current/log_inprogress_0
2019-10-01 07:03:05,112 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 8
2019-10-01 07:03:05,140 [pool-40-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLog: commitIndex: updateToMax old=8, new=6, updated? false
2019-10-01 07:03:05,141 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-01 07:03:05,141 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-01 07:03:05,141 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-01 07:03:05,141 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-01 07:03:06,105 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:07,106 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:07,114 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-10-01 07:03:07,114 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-10-01 07:03:07,115 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(417)) - Starting XceiverServerRatis 9455b0e0-55b4-41b0-9971-04601d21fa81 at port 44244
2019-10-01 07:03:07,125 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: start as a follower, conf=0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:03:07,125 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-10-01 07:03:07,126 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start FollowerState
2019-10-01 07:03:07,126 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B48521D2FA3C,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:03:07,128 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start RPC server
2019-10-01 07:03:07,132 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: GrpcService started, listening on 0.0.0.0/0.0.0.0:44244
2019-10-01 07:03:08,107 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:09,107 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:10,109 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:11,109 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:11,180 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: addNew group-2545AC940A8E:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] returns group-2545AC940A8E:java.util.concurrent.CompletableFuture@331673f7[Not completed]
2019-10-01 07:03:11,186 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: new RaftServerImpl for group-2545AC940A8E:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] with ContainerStateMachine:uninitialized
2019-10-01 07:03:11,187 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-01 07:03:11,187 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-01 07:03:11,187 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-01 07:03:11,188 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-01 07:03:11,188 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-01 07:03:11,188 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: ConfigurationManager, init=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null, confs=<EMPTY_MAP>
2019-10-01 07:03:11,189 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:03:11,190 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-01 07:03:11,190 [pool-40-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e does not exist. Creating ...
2019-10-01 07:03:11,218 [pool-40-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/in_use.lock acquired by nodename 16375@pr-hdds-1984-bsjj8-3390809720
2019-10-01 07:03:11,243 [pool-40-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e has been successfully formatted.
2019-10-01 07:03:11,247 [pool-40-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-2545AC940A8E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-01 07:03:11,247 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-01 07:03:11,247 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-01 07:03:11,247 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-01 07:03:11,248 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:03:11,248 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:03:11,248 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-01 07:03:11,248 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e
2019-10-01 07:03:11,248 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-01 07:03:11,249 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-01 07:03:11,249 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:03:11,249 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-01 07:03:11,249 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-01 07:03:11,249 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-01 07:03:11,250 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-01 07:03:11,250 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-01 07:03:11,250 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-01 07:03:11,250 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-01 07:03:11,251 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-01 07:03:11,252 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-01 07:03:11,252 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-01 07:03:11,252 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-01 07:03:11,252 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-01 07:03:11,278 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: start as a follower, conf=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:03:11,278 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-01 07:03:11,279 [pool-40-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start FollowerState
2019-10-01 07:03:11,279 [pool-40-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2545AC940A8E,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:03:11,296 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 923620ee-1c93-49bb-ae93-2545ac940a8e, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:03:12,109 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(84)) - Container #1 does not exist in datanode. Container close failed.
2019-10-01 07:03:12,110 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-01 07:03:12,192 [Thread-186] INFO  impl.FollowerState (FollowerState.java:run(108)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-FollowerState: change to CANDIDATE, lastRpcTime:5066ms, electionTimeout:5066ms
2019-10-01 07:03:12,193 [Thread-186] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown FollowerState
2019-10-01 07:03:12,193 [Thread-186] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-01 07:03:12,193 [Thread-186] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderElection
2019-10-01 07:03:12,228 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2: begin an election at term 2 for 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:03:12,229 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderElection
2019-10-01 07:03:12,229 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-10-01 07:03:12,229 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: change Leader from null to 9455b0e0-55b4-41b0-9971-04601d21fa81 at term 2 for becomeLeader, leader elected after 7134ms
2019-10-01 07:03:12,229 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-01 07:03:12,230 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-01 07:03:12,230 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-01 07:03:12,230 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-01 07:03:12,230 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-01 07:03:12,230 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-01 07:03:12,231 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderState
2019-10-01 07:03:12,231 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(390)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker: Rolling segment log-0_8 to index:8
2019-10-01 07:03:12,234 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: set configuration 9: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 9
2019-10-01 07:03:12,237 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(531)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/current/log_0-8
2019-10-01 07:03:12,295 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/current/log_inprogress_9
2019-10-01 07:03:12,309 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B48521D2FA3C: Taking a snapshot at:(t:1, i:8) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_8
2019-10-01 07:03:12,337 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B48521D2FA3C: Finished taking a snapshot at:(t:1, i:8) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_8 time:28
2019-10-01 07:03:12,338 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: Took a snapshot at index 8
2019-10-01 07:03:12,338 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: snapshotIndex: updateIncreasingly 8 -> 8
2019-10-01 07:03:12,339 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B48521D2FA3C: Taking a snapshot at:(t:1, i:8) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_8
2019-10-01 07:03:12,363 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B48521D2FA3C: Finished taking a snapshot at:(t:1, i:8) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_8 time:24
2019-10-01 07:03:12,363 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: Took a snapshot at index 8
2019-10-01 07:03:12,364 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: snapshotIndex: updateIncreasingly 8 -> 8
2019-10-01 07:03:12,760 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: remove    LEADER 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C:t2, leader=9455b0e0-55b4-41b0-9971-04601d21fa81, voted=9455b0e0-55b4-41b0-9971-04601d21fa81, raftlog=9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLog:OPENED:c10,f10,i10, conf=9: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null RUNNING
2019-10-01 07:03:12,764 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: shutdown
2019-10-01 07:03:12,764 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B48521D2FA3C,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:03:12,765 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderState
2019-10-01 07:03:12,765 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-PendingRequests: sendNotLeaderResponses
2019-10-01 07:03:12,768 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: set stopIndex = 10
2019-10-01 07:03:12,768 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B48521D2FA3C: Taking a snapshot at:(t:1, i:8) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_8
2019-10-01 07:03:12,797 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B48521D2FA3C: Finished taking a snapshot at:(t:1, i:8) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_8 time:29
2019-10-01 07:03:12,798 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: Took a snapshot at index 8
2019-10-01 07:03:12,798 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: snapshotIndex: updateIncreasingly 8 -> 8
2019-10-01 07:03:12,798 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B48521D2FA3C: Taking a snapshot at:(t:1, i:8) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_8
2019-10-01 07:03:12,823 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B48521D2FA3C: Finished taking a snapshot at:(t:1, i:8) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c/sm/snapshot.1_8 time:24
2019-10-01 07:03:12,823 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: Took a snapshot at index 8
2019-10-01 07:03:12,823 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-StateMachineUpdater: snapshotIndex: updateIncreasingly 8 -> 8
2019-10-01 07:03:12,824 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C: closes. applyIndex: 10
2019-10-01 07:03:12,824 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-01 07:03:12,825 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-B48521D2FA3C-SegmentedRaftLogWorker close()
2019-10-01 07:03:12,919 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(67)) - Pipeline destroy failed for pipeline=PipelineID=ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c dn=9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}
2019-10-01 07:03:12,920 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: ae4fc6df-aea6-46f9-b8f9-b48521d2fa3c, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-01 07:03:16,358 [Thread-191] INFO  impl.FollowerState (FollowerState.java:run(108)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-FollowerState: change to CANDIDATE, lastRpcTime:5079ms, electionTimeout:5079ms
2019-10-01 07:03:16,360 [Thread-191] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown FollowerState
2019-10-01 07:03:16,360 [Thread-191] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-01 07:03:16,360 [Thread-191] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderElection
2019-10-01 07:03:16,385 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3: begin an election at term 1 for -1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:03:16,386 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderElection
2019-10-01 07:03:16,387 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-01 07:03:16,387 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: change Leader from null to 9455b0e0-55b4-41b0-9971-04601d21fa81 at term 1 for becomeLeader, leader elected after 5139ms
2019-10-01 07:03:16,387 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-01 07:03:16,387 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-01 07:03:16,387 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-01 07:03:16,388 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-01 07:03:16,388 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-01 07:03:16,388 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-01 07:03:16,394 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderState
2019-10-01 07:03:16,395 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-01 07:03:16,396 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:03:16,454 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/current/log_inprogress_0
2019-10-01 07:03:18,436 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-2545AC940A8E: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_1
2019-10-01 07:03:18,464 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-2545AC940A8E: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_1 time:28
2019-10-01 07:03:18,464 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: Took a snapshot at index 1
2019-10-01 07:03:18,464 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-01 07:03:18,568 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-2545AC940A8E: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3
2019-10-01 07:03:18,592 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-2545AC940A8E: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3 time:25
2019-10-01 07:03:18,592 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:18,592 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 3
2019-10-01 07:03:18,592 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-2545AC940A8E: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3
2019-10-01 07:03:18,617 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-2545AC940A8E: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3 time:25
2019-10-01 07:03:18,617 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:18,617 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:03:18,622 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-01 07:03:21,470 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=923620ee-1c93-49bb-ae93-2545ac940a8e]
2019-10-01 07:03:21,470 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: 923620ee-1c93-49bb-ae93-2545ac940a8e, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:03:21,470 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 923620ee-1c93-49bb-ae93-2545ac940a8e, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-01 07:03:21,471 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #2
2019-10-01 07:03:23,579 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-10-01 07:03:23,581 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: close
2019-10-01 07:03:23,581 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: shutdown
2019-10-01 07:03:23,582 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2545AC940A8E,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:03:23,582 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderState
2019-10-01 07:03:23,583 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-PendingRequests: sendNotLeaderResponses
2019-10-01 07:03:23,589 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: set stopIndex = 4
2019-10-01 07:03:23,590 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-2545AC940A8E: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3
2019-10-01 07:03:23,622 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-2545AC940A8E: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3 time:33
2019-10-01 07:03:23,623 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:23,623 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:03:23,624 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-2545AC940A8E: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3
2019-10-01 07:03:23,641 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-2545AC940A8E: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3 time:17
2019-10-01 07:03:23,642 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:23,642 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:03:23,642 [main] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: closes. applyIndex: 4
2019-10-01 07:03:23,643 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-01 07:03:23,644 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker close()
2019-10-01 07:03:23,646 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown server with port 44244 now
2019-10-01 07:03:23,648 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown server with port 44244 successfully
2019-10-01 07:03:23,656 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-01 07:03:23,681 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-10-01 07:03:23,684 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-01 07:03:23,686 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@161aa04a{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-01 07:03:23,687 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@436bd4df{HTTP/1.1,[http/1.1]}{0.0.0.0:40749}
2019-10-01 07:03:23,688 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@42a0501e{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-01 07:03:23,688 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2629d5dc{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-01 07:03:23,690 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-10-01 07:03:23,693 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-01 07:03:23,699 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1984-bsjj8-3390809720 ip:192.168.30.18
2019-10-01 07:03:23,702 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers : 4096 
2019-10-01 07:03:23,703 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-01 07:03:23,704 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers/hdds to VolumeSet
2019-10-01 07:03:23,704 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@48eb001a
2019-10-01 07:03:23,705 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@48eb001a
2019-10-01 07:03:23,753 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-01 07:03:23,754 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-01 07:03:23,754 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44244 (custom)
2019-10-01 07:03:23,755 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-01 07:03:23,755 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:03:23,756 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-01 07:03:23,756 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-01 07:03:23,757 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:03:23,758 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e
2019-10-01 07:03:23,759 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: addNew group-2545AC940A8E:[] returns group-2545AC940A8E:java.util.concurrent.CompletableFuture@329548d0[Not completed]
2019-10-01 07:03:23,768 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: new RaftServerImpl for group-2545AC940A8E:[] with ContainerStateMachine:uninitialized
2019-10-01 07:03:23,768 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:40749
2019-10-01 07:03:23,769 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-01 07:03:23,769 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-01 07:03:23,769 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-01 07:03:23,769 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-01 07:03:23,770 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-01 07:03:23,770 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-10-01 07:03:23,770 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:03:23,770 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-01 07:03:23,771 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-01 07:03:23,772 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-01 07:03:23,774 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-01 07:03:23,775 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-01 07:03:23,775 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-01 07:03:23,775 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-01 07:03:23,777 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 40749
2019-10-01 07:03:23,777 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-01 07:03:23,779 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1115433e{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-01 07:03:23,780 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@513b52af{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-01 07:03:23,803 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/in_use.lock acquired by nodename 16375@pr-hdds-1984-bsjj8-3390809720
2019-10-01 07:03:23,804 [pool-51-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-2545AC940A8E: Setting the last applied index to (t:1, i:3)
2019-10-01 07:03:23,804 [pool-51-thread-1] WARN  impl.ContainerSet (ContainerSet.java:lambda$buildMissingContainerSetAndValidate$1(264)) - Marking container 2 unhealthy as reported BCSID 0 is smaller than ratis snapshot recorded value 3
2019-10-01 07:03:23,816 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@2e3572e8{/,file:///tmp/jetty-0.0.0.0-40749-hddsDatanode-_-any-4227326526865493327.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-01 07:03:23,817 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@77c10a5f{HTTP/1.1,[http/1.1]}{0.0.0.0:40749}
2019-10-01 07:03:23,817 [main] INFO  server.Server (Server.java:doStart(419)) - Started @64765ms
2019-10-01 07:03:23,818 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-01 07:03:23,818 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:40749
2019-10-01 07:03:23,819 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:23,820 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2b1ebd56] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-01 07:03:23,838 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:03:23,838 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-01 07:03:23,838 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-01 07:03:23,838 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-01 07:03:23,839 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:03:23,839 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:03:23,839 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-01 07:03:23,839 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e
2019-10-01 07:03:23,839 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-01 07:03:23,840 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-01 07:03:23,840 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:03:23,840 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-01 07:03:23,840 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-01 07:03:23,840 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-01 07:03:23,840 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-01 07:03:23,840 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-01 07:03:23,841 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-01 07:03:23,841 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-01 07:03:23,842 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:03:23,843 [pool-51-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(140)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/current/log_inprogress_0
2019-10-01 07:03:23,843 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
2019-10-01 07:03:23,870 [pool-51-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLog: commitIndex: updateToMax old=3, new=3, updated? false
2019-10-01 07:03:23,870 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-01 07:03:23,870 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-01 07:03:23,871 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-01 07:03:23,871 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-01 07:03:24,819 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:25,820 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:25,823 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-10-01 07:03:25,823 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-10-01 07:03:25,823 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(417)) - Starting XceiverServerRatis 9455b0e0-55b4-41b0-9971-04601d21fa81 at port 44244
2019-10-01 07:03:25,833 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: start as a follower, conf=0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:03:25,833 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-10-01 07:03:25,833 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start FollowerState
2019-10-01 07:03:25,834 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2545AC940A8E,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:03:25,835 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start RPC server
2019-10-01 07:03:25,837 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: GrpcService started, listening on 0.0.0.0/0.0.0.0:44244
2019-10-01 07:03:26,821 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:27,822 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:28,822 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:29,823 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:29,901 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: addNew group-536DD95CDE5D:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] returns group-536DD95CDE5D:java.util.concurrent.CompletableFuture@18771344[Not completed]
2019-10-01 07:03:29,904 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: new RaftServerImpl for group-536DD95CDE5D:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] with ContainerStateMachine:uninitialized
2019-10-01 07:03:29,904 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-01 07:03:29,904 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-01 07:03:29,905 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-01 07:03:29,905 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-01 07:03:29,905 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-01 07:03:29,905 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D: ConfigurationManager, init=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null, confs=<EMPTY_MAP>
2019-10-01 07:03:29,905 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:03:29,906 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-01 07:03:29,906 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d does not exist. Creating ...
2019-10-01 07:03:29,939 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d/in_use.lock acquired by nodename 16375@pr-hdds-1984-bsjj8-3390809720
2019-10-01 07:03:29,964 [pool-51-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d has been successfully formatted.
2019-10-01 07:03:29,967 [pool-51-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-536DD95CDE5D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-01 07:03:29,968 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-01 07:03:29,968 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-01 07:03:29,968 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-01 07:03:29,968 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:03:29,969 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:03:29,969 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-01 07:03:29,969 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d
2019-10-01 07:03:29,969 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-01 07:03:29,969 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-01 07:03:29,970 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:03:29,970 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-01 07:03:29,970 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-01 07:03:29,970 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-01 07:03:29,970 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-01 07:03:29,970 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-01 07:03:29,971 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-01 07:03:29,971 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-01 07:03:29,972 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-01 07:03:29,972 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-01 07:03:29,972 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-01 07:03:29,972 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-01 07:03:29,973 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-01 07:03:29,979 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D: start as a follower, conf=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:03:29,979 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-01 07:03:29,980 [pool-51-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start FollowerState
2019-10-01 07:03:29,980 [pool-51-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-536DD95CDE5D,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:03:29,993 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: cc466a29-9cd8-4ce3-a17e-536dd95cde5d, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:03:30,824 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-01 07:03:30,862 [Thread-224] INFO  impl.FollowerState (FollowerState.java:run(108)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-FollowerState: change to CANDIDATE, lastRpcTime:5028ms, electionTimeout:5028ms
2019-10-01 07:03:30,863 [Thread-224] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown FollowerState
2019-10-01 07:03:30,863 [Thread-224] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-01 07:03:30,863 [Thread-224] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderElection
2019-10-01 07:03:30,894 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4: begin an election at term 2 for 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:03:30,895 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderElection
2019-10-01 07:03:30,895 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-10-01 07:03:30,895 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: change Leader from null to 9455b0e0-55b4-41b0-9971-04601d21fa81 at term 2 for becomeLeader, leader elected after 7056ms
2019-10-01 07:03:30,895 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-01 07:03:30,895 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-01 07:03:30,895 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-01 07:03:30,895 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-01 07:03:30,896 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-01 07:03:30,896 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-01 07:03:30,896 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderState
2019-10-01 07:03:30,897 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(390)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-10-01 07:03:30,898 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: set configuration 5: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 5
2019-10-01 07:03:30,899 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(531)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/current/log_0-4
2019-10-01 07:03:30,945 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/current/log_inprogress_5
2019-10-01 07:03:30,962 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-2545AC940A8E: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3
2019-10-01 07:03:30,987 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-2545AC940A8E: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3 time:25
2019-10-01 07:03:30,988 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:30,988 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:03:30,988 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-2545AC940A8E: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3
2019-10-01 07:03:31,013 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-2545AC940A8E: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3 time:25
2019-10-01 07:03:31,013 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:31,013 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:03:31,482 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: remove    LEADER 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E:t2, leader=9455b0e0-55b4-41b0-9971-04601d21fa81, voted=9455b0e0-55b4-41b0-9971-04601d21fa81, raftlog=9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null RUNNING
2019-10-01 07:03:31,482 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: shutdown
2019-10-01 07:03:31,482 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2545AC940A8E,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:03:31,483 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderState
2019-10-01 07:03:31,483 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-PendingRequests: sendNotLeaderResponses
2019-10-01 07:03:31,486 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: set stopIndex = 6
2019-10-01 07:03:31,486 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-2545AC940A8E: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3
2019-10-01 07:03:31,515 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-2545AC940A8E: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3 time:29
2019-10-01 07:03:31,516 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:31,516 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:03:31,516 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-2545AC940A8E: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3
2019-10-01 07:03:31,541 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-2545AC940A8E: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/923620ee-1c93-49bb-ae93-2545ac940a8e/sm/snapshot.1_3 time:24
2019-10-01 07:03:31,541 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:31,541 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:03:31,542 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E: closes. applyIndex: 6
2019-10-01 07:03:31,542 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-01 07:03:31,543 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-2545AC940A8E-SegmentedRaftLogWorker close()
2019-10-01 07:03:31,558 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 923620ee-1c93-49bb-ae93-2545ac940a8e, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-01 07:03:35,056 [Thread-228] INFO  impl.FollowerState (FollowerState.java:run(108)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-FollowerState: change to CANDIDATE, lastRpcTime:5076ms, electionTimeout:5076ms
2019-10-01 07:03:35,057 [Thread-228] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown FollowerState
2019-10-01 07:03:35,058 [Thread-228] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-01 07:03:35,058 [Thread-228] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderElection
2019-10-01 07:03:35,094 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5: begin an election at term 1 for -1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:03:35,095 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderElection
2019-10-01 07:03:35,095 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-01 07:03:35,096 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D: change Leader from null to 9455b0e0-55b4-41b0-9971-04601d21fa81 at term 1 for becomeLeader, leader elected after 5128ms
2019-10-01 07:03:35,096 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-01 07:03:35,097 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-01 07:03:35,097 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-01 07:03:35,097 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-01 07:03:35,098 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-01 07:03:35,098 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-01 07:03:35,108 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderState
2019-10-01 07:03:35,109 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-01 07:03:35,110 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:03:35,153 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d/current/log_inprogress_0
2019-10-01 07:03:37,149 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-536DD95CDE5D: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d/sm/snapshot.1_1
2019-10-01 07:03:37,173 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-536DD95CDE5D: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d/sm/snapshot.1_1 time:25
2019-10-01 07:03:37,173 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater: Took a snapshot at index 1
2019-10-01 07:03:37,173 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-01 07:03:37,302 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-536DD95CDE5D: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d/sm/snapshot.1_3
2019-10-01 07:03:37,311 [pool-50-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(234)) - Chunks path does not exist
2019-10-01 07:03:37,311 [pool-50-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: c0463f5a757a2be7:c0463f5a757a2be7:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-10-01 07:03:37,314 [pool-50-thread-2] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(908)) - Unexpected error while marking container 3 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 3
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:237)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:257)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:356)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:298)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:903)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:312)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:444)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:726)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:222)
	... 13 more
2019-10-01 07:03:37,318 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #3 is in OPEN state, but the datanode 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-10-01 07:03:37,326 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-536DD95CDE5D: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d/sm/snapshot.1_3 time:24
2019-10-01 07:03:37,326 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:37,326 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 3
2019-10-01 07:03:37,327 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-536DD95CDE5D: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d/sm/snapshot.1_3
07:03:37.324 [pool-50-thread-2] ERROR DNAudit - user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 3 locID: 102885845293268996 bcsId: 3} | ret=FAILURE
java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:330) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:444) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
07:03:37.315 [grpc-default-executor-0] ERROR DNAudit - user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 3 locID: 102885845293268996 bcsId: 0,size=10]} | ret=FAILURE
org.apache.hadoop.hdds.scm.container.common.helpers.ContainerNotOpenException: Container 3 in UNHEALTHY state
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:434) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:315) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:569) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$7(RaftServerProxy.java:333) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$5(RaftServerProxy.java:328) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:109) ~[ratis-common-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$6(RaftServerProxy.java:328) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:981) ~[?:1.8.0_212]
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2124) ~[?:1.8.0_212]
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:327) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:333) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:220) ~[ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:326) ~[ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.util.SlidingWindow$Server.processRequestsFromHead(SlidingWindow.java:429) [ratis-common-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.util.SlidingWindow$Server.receivedRequest(SlidingWindow.java:421) [ratis-common-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:345) [ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:240) [ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:168) [ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-10-01 07:03:37,332 [pool-50-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(464)) - group-536DD95CDE5D: writeChunk writeStateMachineData failed: blockIdcontainerID: 3
localID: 102885845293268996
blockCommitSequenceId: 3
 logIndex 5 chunkName 102885845293268996_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-10-01 07:03:37,343 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(581)) - pipeline Action CLOSE  on pipeline PipelineID=cc466a29-9cd8-4ce3-a17e-536dd95cde5d.Reason : Unable to get Chunks directory.
2019-10-01 07:03:37,348 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: cc466a29-9cd8-4ce3-a17e-536dd95cde5d, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-10-01 07:03:37,348 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: cc466a29-9cd8-4ce3-a17e-536dd95cde5d, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:03:37,348 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: cc466a29-9cd8-4ce3-a17e-536dd95cde5d, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-01 07:03:37,349 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-10-01 07:03:37,350 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-10-01 07:03:37,351 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-536DD95CDE5D: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d/sm/snapshot.1_3 time:24
2019-10-01 07:03:37,351 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:37,351 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:03:47,358 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: remove    LEADER 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D:t1, leader=9455b0e0-55b4-41b0-9971-04601d21fa81, voted=9455b0e0-55b4-41b0-9971-04601d21fa81, raftlog=9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-SegmentedRaftLog:OPENED:c4,f4,i5, conf=0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null RUNNING
2019-10-01 07:03:47,359 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D: shutdown
2019-10-01 07:03:47,360 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-536DD95CDE5D,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:03:47,360 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderState
2019-10-01 07:03:47,360 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-PendingRequests: sendNotLeaderResponses
2019-10-01 07:03:47,365 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater: set stopIndex = 4
2019-10-01 07:03:47,366 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-536DD95CDE5D: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d/sm/snapshot.1_3
2019-10-01 07:03:47,395 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-536DD95CDE5D: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d/sm/snapshot.1_3 time:29
2019-10-01 07:03:47,395 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:47,395 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:03:47,396 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-536DD95CDE5D: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d/sm/snapshot.1_3
2019-10-01 07:03:47,429 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-536DD95CDE5D: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cc466a29-9cd8-4ce3-a17e-536dd95cde5d/sm/snapshot.1_3 time:33
2019-10-01 07:03:47,430 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:47,430 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:03:47,430 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D: closes. applyIndex: 4
2019-10-01 07:03:47,431 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-01 07:03:47,432 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-536DD95CDE5D-SegmentedRaftLogWorker close()
2019-10-01 07:03:47,440 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: cc466a29-9cd8-4ce3-a17e-536dd95cde5d, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-01 07:03:47,451 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: addNew group-6D07EEC78824:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] returns group-6D07EEC78824:java.util.concurrent.CompletableFuture@335d58ef[Not completed]
2019-10-01 07:03:47,453 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: new RaftServerImpl for group-6D07EEC78824:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] with ContainerStateMachine:uninitialized
2019-10-01 07:03:47,453 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-01 07:03:47,454 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-01 07:03:47,454 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-01 07:03:47,454 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-01 07:03:47,454 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-01 07:03:47,454 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: ConfigurationManager, init=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null, confs=<EMPTY_MAP>
2019-10-01 07:03:47,454 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:03:47,454 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-01 07:03:47,455 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824 does not exist. Creating ...
2019-10-01 07:03:47,480 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/in_use.lock acquired by nodename 16375@pr-hdds-1984-bsjj8-3390809720
2019-10-01 07:03:47,515 [pool-51-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824 has been successfully formatted.
2019-10-01 07:03:47,515 [pool-51-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-6D07EEC78824: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-01 07:03:47,515 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-01 07:03:47,516 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-01 07:03:47,516 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-01 07:03:47,516 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:03:47,516 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:03:47,517 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-01 07:03:47,517 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824
2019-10-01 07:03:47,517 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-01 07:03:47,517 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-01 07:03:47,518 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:03:47,518 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-01 07:03:47,518 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-01 07:03:47,518 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-01 07:03:47,518 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-01 07:03:47,519 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-01 07:03:47,519 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-01 07:03:47,519 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-01 07:03:47,520 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-01 07:03:47,520 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-01 07:03:47,520 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-01 07:03:47,520 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-01 07:03:47,521 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-01 07:03:47,525 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: start as a follower, conf=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:03:47,525 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-01 07:03:47,526 [pool-51-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start FollowerState
2019-10-01 07:03:47,526 [pool-51-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6D07EEC78824,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:03:47,537 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: d4b7251f-dd21-4caa-ae7b-6d07eec78824, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:03:49,380 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(274)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: 9455b0e0-55b4-41b0-9971-04601d21fa81: group-536DD95CDE5D not found. on the pipeline Pipeline[ Id: cc466a29-9cd8-4ce3-a17e-536dd95cde5d, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-10-01 07:03:52,642 [Thread-255] INFO  impl.FollowerState (FollowerState.java:run(108)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-FollowerState: change to CANDIDATE, lastRpcTime:5116ms, electionTimeout:5116ms
2019-10-01 07:03:52,643 [Thread-255] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown FollowerState
2019-10-01 07:03:52,643 [Thread-255] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-01 07:03:52,643 [Thread-255] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderElection
2019-10-01 07:03:52,670 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6: begin an election at term 1 for -1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:03:52,671 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderElection
2019-10-01 07:03:52,672 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-01 07:03:52,672 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: change Leader from null to 9455b0e0-55b4-41b0-9971-04601d21fa81 at term 1 for becomeLeader, leader elected after 5156ms
2019-10-01 07:03:52,672 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-01 07:03:52,673 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-01 07:03:52,673 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-01 07:03:52,673 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-01 07:03:52,674 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-01 07:03:52,674 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-01 07:03:52,680 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderState
2019-10-01 07:03:52,681 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-01 07:03:52,682 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:03:52,723 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/current/log_inprogress_0
2019-10-01 07:03:53,611 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6D07EEC78824: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_1
2019-10-01 07:03:53,638 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6D07EEC78824: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_1 time:27
2019-10-01 07:03:53,639 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: Took a snapshot at index 1
2019-10-01 07:03:53,639 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-01 07:03:53,718 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6D07EEC78824: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_1
2019-10-01 07:03:53,741 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6D07EEC78824: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_1 time:23
2019-10-01 07:03:53,741 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: Took a snapshot at index 1
2019-10-01 07:03:53,742 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-10-01 07:03:53,742 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6D07EEC78824: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3
2019-10-01 07:03:53,758 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6D07EEC78824: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3 time:16
2019-10-01 07:03:53,759 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:53,759 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 3
2019-10-01 07:03:53,805 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-01 07:03:56,627 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=d4b7251f-dd21-4caa-ae7b-6d07eec78824]
2019-10-01 07:03:56,628 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: d4b7251f-dd21-4caa-ae7b-6d07eec78824, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:03:56,628 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: d4b7251f-dd21-4caa-ae7b-6d07eec78824, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-01 07:03:56,628 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #4
2019-10-01 07:03:58,733 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-10-01 07:03:58,734 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: close
2019-10-01 07:03:58,734 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: shutdown
2019-10-01 07:03:58,735 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6D07EEC78824,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:03:58,735 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderState
2019-10-01 07:03:58,736 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-PendingRequests: sendNotLeaderResponses
2019-10-01 07:03:58,743 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: set stopIndex = 4
2019-10-01 07:03:58,743 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6D07EEC78824: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3
2019-10-01 07:03:58,770 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6D07EEC78824: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3 time:27
2019-10-01 07:03:58,770 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:58,771 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:03:58,771 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6D07EEC78824: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3
2019-10-01 07:03:58,795 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6D07EEC78824: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3 time:24
2019-10-01 07:03:58,795 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:03:58,795 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:03:58,795 [main] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: closes. applyIndex: 4
2019-10-01 07:03:58,796 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-01 07:03:58,798 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker close()
2019-10-01 07:03:58,801 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown server with port 44244 now
2019-10-01 07:03:58,803 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown server with port 44244 successfully
2019-10-01 07:03:58,808 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-01 07:03:58,829 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-10-01 07:03:58,832 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-01 07:03:58,833 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@2e3572e8{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-01 07:03:58,834 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@77c10a5f{HTTP/1.1,[http/1.1]}{0.0.0.0:40749}
2019-10-01 07:03:58,835 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@513b52af{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-01 07:03:58,835 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1115433e{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-01 07:03:58,836 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-10-01 07:03:58,840 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-01 07:03:58,846 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1984-bsjj8-3390809720 ip:192.168.30.18
2019-10-01 07:03:58,850 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers : 4096 
2019-10-01 07:03:58,850 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-01 07:03:58,851 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers/hdds to VolumeSet
2019-10-01 07:03:58,851 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@7beae796
2019-10-01 07:03:58,852 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@7beae796
2019-10-01 07:03:58,885 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-01 07:03:58,886 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-01 07:03:58,886 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44244 (custom)
2019-10-01 07:03:58,886 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-01 07:03:58,886 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:03:58,886 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-01 07:03:58,887 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-01 07:03:58,888 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:03:58,888 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824
2019-10-01 07:03:58,888 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: addNew group-6D07EEC78824:[] returns group-6D07EEC78824:java.util.concurrent.CompletableFuture@361abd01[Not completed]
2019-10-01 07:03:58,891 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:40749
2019-10-01 07:03:58,892 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: new RaftServerImpl for group-6D07EEC78824:[] with ContainerStateMachine:uninitialized
2019-10-01 07:03:58,893 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-01 07:03:58,893 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-01 07:03:58,893 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-01 07:03:58,893 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-01 07:03:58,893 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-01 07:03:58,894 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-10-01 07:03:58,894 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:03:58,894 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-01 07:03:58,895 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-01 07:03:58,895 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-01 07:03:58,898 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-01 07:03:58,898 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-01 07:03:58,899 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-01 07:03:58,899 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-01 07:03:58,900 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 40749
2019-10-01 07:03:58,900 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-01 07:03:58,902 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1b2df3aa{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-01 07:03:58,903 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7219ac49{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-01 07:03:58,920 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/in_use.lock acquired by nodename 16375@pr-hdds-1984-bsjj8-3390809720
2019-10-01 07:03:58,922 [pool-63-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-6D07EEC78824: Setting the last applied index to (t:1, i:3)
2019-10-01 07:03:58,923 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:03:58,923 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-01 07:03:58,923 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-01 07:03:58,923 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-01 07:03:58,924 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:03:58,924 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:03:58,924 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-01 07:03:58,924 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824
2019-10-01 07:03:58,924 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-01 07:03:58,924 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-01 07:03:58,925 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:03:58,925 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-01 07:03:58,925 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-01 07:03:58,925 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-01 07:03:58,925 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-01 07:03:58,925 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-01 07:03:58,926 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-01 07:03:58,926 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-01 07:03:58,927 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:03:58,928 [pool-63-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(140)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/current/log_inprogress_0
2019-10-01 07:03:58,929 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
2019-10-01 07:03:58,942 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@51ab1ee3{/,file:///tmp/jetty-0.0.0.0-40749-hddsDatanode-_-any-6483082264915974539.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-01 07:03:58,943 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2e766822{HTTP/1.1,[http/1.1]}{0.0.0.0:40749}
2019-10-01 07:03:58,955 [pool-63-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLog: commitIndex: updateToMax old=3, new=3, updated? false
2019-10-01 07:03:58,956 [main] INFO  server.Server (Server.java:doStart(419)) - Started @99904ms
2019-10-01 07:03:58,957 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-01 07:03:58,957 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-01 07:03:58,957 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-01 07:03:58,957 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-01 07:03:58,957 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-01 07:03:58,958 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:40749
2019-10-01 07:03:58,958 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:03:58,959 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5d2ed459] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-01 07:03:59,958 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:04:00,959 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:04:00,964 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-10-01 07:04:00,965 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-10-01 07:04:00,965 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(417)) - Starting XceiverServerRatis 9455b0e0-55b4-41b0-9971-04601d21fa81 at port 44244
2019-10-01 07:04:00,972 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: start as a follower, conf=0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:04:00,972 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-10-01 07:04:00,972 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start FollowerState
2019-10-01 07:04:00,973 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6D07EEC78824,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:04:00,974 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start RPC server
2019-10-01 07:04:00,976 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: GrpcService started, listening on 0.0.0.0/0.0.0.0:44244
2019-10-01 07:04:01,960 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:04:02,961 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:04:03,961 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:04:04,962 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:04:05,061 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: addNew group-81F6649C82AA:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] returns group-81F6649C82AA:java.util.concurrent.CompletableFuture@105b9a17[Not completed]
2019-10-01 07:04:05,066 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: new RaftServerImpl for group-81F6649C82AA:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] with ContainerStateMachine:uninitialized
2019-10-01 07:04:05,066 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-01 07:04:05,066 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-01 07:04:05,066 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-01 07:04:05,067 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-01 07:04:05,067 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-01 07:04:05,067 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA: ConfigurationManager, init=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null, confs=<EMPTY_MAP>
2019-10-01 07:04:05,067 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:04:05,068 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-01 07:04:05,068 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa does not exist. Creating ...
2019-10-01 07:04:05,098 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/in_use.lock acquired by nodename 16375@pr-hdds-1984-bsjj8-3390809720
2019-10-01 07:04:05,124 [pool-63-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa has been successfully formatted.
2019-10-01 07:04:05,124 [pool-63-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-81F6649C82AA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-01 07:04:05,125 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-01 07:04:05,125 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-01 07:04:05,125 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-01 07:04:05,125 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:04:05,126 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:04:05,126 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-01 07:04:05,126 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa
2019-10-01 07:04:05,126 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-01 07:04:05,126 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-01 07:04:05,127 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:04:05,127 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-01 07:04:05,127 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-01 07:04:05,127 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-01 07:04:05,127 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-01 07:04:05,127 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-01 07:04:05,128 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-01 07:04:05,128 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-01 07:04:05,128 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-01 07:04:05,129 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-01 07:04:05,129 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-01 07:04:05,129 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-01 07:04:05,129 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-01 07:04:05,134 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA: start as a follower, conf=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:04:05,134 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-01 07:04:05,134 [pool-63-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start FollowerState
2019-10-01 07:04:05,135 [pool-63-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-81F6649C82AA,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:04:05,146 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 4bb55287-007f-440b-80d7-81f6649c82aa, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:04:05,963 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-01 07:04:06,097 [Thread-284] INFO  impl.FollowerState (FollowerState.java:run(108)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-FollowerState: change to CANDIDATE, lastRpcTime:5124ms, electionTimeout:5124ms
2019-10-01 07:04:06,097 [Thread-284] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown FollowerState
2019-10-01 07:04:06,097 [Thread-284] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-01 07:04:06,097 [Thread-284] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderElection
2019-10-01 07:04:06,125 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7: begin an election at term 2 for 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:04:06,125 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderElection
2019-10-01 07:04:06,125 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-10-01 07:04:06,125 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: change Leader from null to 9455b0e0-55b4-41b0-9971-04601d21fa81 at term 2 for becomeLeader, leader elected after 7202ms
2019-10-01 07:04:06,126 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-01 07:04:06,126 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-01 07:04:06,126 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-01 07:04:06,126 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-01 07:04:06,126 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-01 07:04:06,126 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-01 07:04:06,127 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderState
2019-10-01 07:04:06,127 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(390)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-10-01 07:04:06,129 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: set configuration 5: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 5
2019-10-01 07:04:06,130 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(531)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/current/log_0-4
2019-10-01 07:04:06,192 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/current/log_inprogress_5
2019-10-01 07:04:06,204 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6D07EEC78824: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3
2019-10-01 07:04:06,225 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6D07EEC78824: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3 time:21
2019-10-01 07:04:06,226 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:04:06,226 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:04:06,226 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6D07EEC78824: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3
2019-10-01 07:04:06,250 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6D07EEC78824: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3 time:24
2019-10-01 07:04:06,251 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:04:06,251 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:04:06,639 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: remove    LEADER 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824:t2, leader=9455b0e0-55b4-41b0-9971-04601d21fa81, voted=9455b0e0-55b4-41b0-9971-04601d21fa81, raftlog=9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null RUNNING
2019-10-01 07:04:06,639 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: shutdown
2019-10-01 07:04:06,640 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6D07EEC78824,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:04:06,640 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderState
2019-10-01 07:04:06,640 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-PendingRequests: sendNotLeaderResponses
2019-10-01 07:04:06,644 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: set stopIndex = 6
2019-10-01 07:04:06,644 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6D07EEC78824: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3
2019-10-01 07:04:06,667 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6D07EEC78824: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3 time:23
2019-10-01 07:04:06,668 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:04:06,668 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:04:06,668 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6D07EEC78824: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3
2019-10-01 07:04:06,692 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6D07EEC78824: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/d4b7251f-dd21-4caa-ae7b-6d07eec78824/sm/snapshot.1_3 time:24
2019-10-01 07:04:06,693 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:04:06,693 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:04:06,694 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824: closes. applyIndex: 6
2019-10-01 07:04:06,694 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-01 07:04:06,695 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-6D07EEC78824-SegmentedRaftLogWorker close()
2019-10-01 07:04:06,727 [grpc-default-executor-1] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 4 is synced with bcsId 3.
2019-10-01 07:04:06,727 [grpc-default-executor-1] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 4 is synced with bcsId 3.
2019-10-01 07:04:06,753 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(169)) - Moving container #4 to QUASI_CLOSED state, datanode 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null} reported QUASI_CLOSED replica.
2019-10-01 07:04:06,759 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: d4b7251f-dd21-4caa-ae7b-6d07eec78824, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-01 07:04:10,219 [Thread-288] INFO  impl.FollowerState (FollowerState.java:run(108)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-FollowerState: change to CANDIDATE, lastRpcTime:5084ms, electionTimeout:5084ms
2019-10-01 07:04:10,219 [Thread-288] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown FollowerState
2019-10-01 07:04:10,219 [Thread-288] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-01 07:04:10,219 [Thread-288] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderElection
2019-10-01 07:04:10,253 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8: begin an election at term 1 for -1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:04:10,254 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderElection
2019-10-01 07:04:10,254 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-01 07:04:10,254 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA: change Leader from null to 9455b0e0-55b4-41b0-9971-04601d21fa81 at term 1 for becomeLeader, leader elected after 5129ms
2019-10-01 07:04:10,254 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-01 07:04:10,254 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-01 07:04:10,254 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-01 07:04:10,255 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-01 07:04:10,255 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-01 07:04:10,255 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-01 07:04:10,259 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderState
2019-10-01 07:04:10,260 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-01 07:04:10,260 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-LeaderElection8] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:04:10,303 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/current/log_inprogress_0
2019-10-01 07:04:12,247 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-81F6649C82AA: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/sm/snapshot.1_1
2019-10-01 07:04:12,267 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-81F6649C82AA: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/sm/snapshot.1_1 time:20
2019-10-01 07:04:12,267 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater: Took a snapshot at index 1
2019-10-01 07:04:12,267 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-01 07:04:12,268 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-81F6649C82AA: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/sm/snapshot.1_1
2019-10-01 07:04:12,284 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-81F6649C82AA: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/sm/snapshot.1_1 time:16
2019-10-01 07:04:12,284 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater: Took a snapshot at index 1
2019-10-01 07:04:12,284 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-10-01 07:04:12,371 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-81F6649C82AA: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/sm/snapshot.1_3
2019-10-01 07:04:12,379 [pool-62-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(234)) - Chunks path does not exist
2019-10-01 07:04:12,380 [pool-62-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: 435ebc67272125ef:435ebc67272125ef:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
07:04:12.381 [grpc-default-executor-1] ERROR DNAudit - user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 5 locID: 102885847596269575 bcsId: 0,size=10]} | ret=FAILURE
org.apache.hadoop.hdds.scm.container.common.helpers.ContainerNotOpenException: Container 5 in UNHEALTHY state
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:434) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:315) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:569) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$7(RaftServerProxy.java:333) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$5(RaftServerProxy.java:328) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:109) ~[ratis-common-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$6(RaftServerProxy.java:328) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:981) ~[?:1.8.0_212]
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2124) ~[?:1.8.0_212]
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:327) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:333) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:220) ~[ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:326) ~[ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.util.SlidingWindow$Server.processRequestsFromHead(SlidingWindow.java:429) [ratis-common-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.util.SlidingWindow$Server.receivedRequest(SlidingWindow.java:421) [ratis-common-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:345) [ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:240) [ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:168) [ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-10-01 07:04:12,386 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-81F6649C82AA: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/sm/snapshot.1_3 time:15
2019-10-01 07:04:12,386 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:04:12,386 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 3
2019-10-01 07:04:12,386 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-81F6649C82AA: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/sm/snapshot.1_3
2019-10-01 07:04:12,409 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-81F6649C82AA: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/sm/snapshot.1_3 time:23
2019-10-01 07:04:12,410 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:04:12,411 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
07:04:12.411 [pool-62-thread-2] ERROR DNAudit - user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 5 locID: 102885847596269575 bcsId: 3} | ret=FAILURE
java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:330) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:444) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-10-01 07:04:12,412 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #5 is in OPEN state, but the datanode 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-10-01 07:04:12,412 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #5
2019-10-01 07:04:12,415 [pool-62-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(464)) - group-81F6649C82AA: writeChunk writeStateMachineData failed: blockIdcontainerID: 5
localID: 102885847596269575
blockCommitSequenceId: 3
 logIndex 5 chunkName 102885847596269575_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-10-01 07:04:12,416 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(581)) - pipeline Action CLOSE  on pipeline PipelineID=4bb55287-007f-440b-80d7-81f6649c82aa.Reason : Unable to get Chunks directory.
2019-10-01 07:04:12,417 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 4bb55287-007f-440b-80d7-81f6649c82aa, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-10-01 07:04:12,417 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: 4bb55287-007f-440b-80d7-81f6649c82aa, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:04:12,417 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 4bb55287-007f-440b-80d7-81f6649c82aa, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-01 07:04:22,431 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: remove    LEADER 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA:t1, leader=9455b0e0-55b4-41b0-9971-04601d21fa81, voted=9455b0e0-55b4-41b0-9971-04601d21fa81, raftlog=9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-SegmentedRaftLog:OPENED:c4,f4,i5, conf=0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null RUNNING
2019-10-01 07:04:22,433 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA: shutdown
2019-10-01 07:04:22,434 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-81F6649C82AA,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:04:22,434 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderState
2019-10-01 07:04:22,434 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-PendingRequests: sendNotLeaderResponses
2019-10-01 07:04:22,439 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater: set stopIndex = 4
2019-10-01 07:04:22,439 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-81F6649C82AA: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/sm/snapshot.1_3
2019-10-01 07:04:22,471 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-81F6649C82AA: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/sm/snapshot.1_3 time:32
2019-10-01 07:04:22,472 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:04:22,472 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:04:22,473 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-81F6649C82AA: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/sm/snapshot.1_3
2019-10-01 07:04:22,496 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-81F6649C82AA: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/4bb55287-007f-440b-80d7-81f6649c82aa/sm/snapshot.1_3 time:23
2019-10-01 07:04:22,497 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:04:22,497 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-01 07:04:22,498 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA: closes. applyIndex: 4
2019-10-01 07:04:22,498 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-01 07:04:22,500 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-81F6649C82AA-SegmentedRaftLogWorker close()
2019-10-01 07:04:22,512 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 4bb55287-007f-440b-80d7-81f6649c82aa, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-01 07:04:22,524 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: addNew group-644E693F3140:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] returns group-644E693F3140:java.util.concurrent.CompletableFuture@6dc1b6ab[Not completed]
2019-10-01 07:04:22,528 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: new RaftServerImpl for group-644E693F3140:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] with ContainerStateMachine:uninitialized
2019-10-01 07:04:22,529 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-01 07:04:22,529 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-01 07:04:22,529 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-01 07:04:22,529 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-01 07:04:22,530 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-01 07:04:22,530 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: ConfigurationManager, init=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null, confs=<EMPTY_MAP>
2019-10-01 07:04:22,530 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:04:22,530 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-01 07:04:22,531 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140 does not exist. Creating ...
2019-10-01 07:04:22,554 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/in_use.lock acquired by nodename 16375@pr-hdds-1984-bsjj8-3390809720
2019-10-01 07:04:22,579 [pool-63-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140 has been successfully formatted.
2019-10-01 07:04:22,580 [pool-63-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-644E693F3140: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-01 07:04:22,580 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-01 07:04:22,581 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-01 07:04:22,581 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-01 07:04:22,581 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:04:22,581 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:04:22,582 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-01 07:04:22,582 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140
2019-10-01 07:04:22,582 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-01 07:04:22,582 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-01 07:04:22,582 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:04:22,582 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-01 07:04:22,583 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-01 07:04:22,583 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-01 07:04:22,583 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-01 07:04:22,583 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-01 07:04:22,583 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-01 07:04:22,584 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-01 07:04:22,584 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-01 07:04:22,584 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-01 07:04:22,585 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-01 07:04:22,585 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-01 07:04:22,585 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-01 07:04:22,590 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: start as a follower, conf=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:04:22,590 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-01 07:04:22,590 [pool-63-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start FollowerState
2019-10-01 07:04:22,591 [pool-63-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-644E693F3140,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:04:22,602 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 04c1351b-270a-4655-bcdd-644e693f3140, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:04:24,443 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(274)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: 9455b0e0-55b4-41b0-9971-04601d21fa81: group-81F6649C82AA not found. on the pipeline Pipeline[ Id: 4bb55287-007f-440b-80d7-81f6649c82aa, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-10-01 07:04:27,654 [Thread-313] INFO  impl.FollowerState (FollowerState.java:run(108)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-FollowerState: change to CANDIDATE, lastRpcTime:5063ms, electionTimeout:5063ms
2019-10-01 07:04:27,655 [Thread-313] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown FollowerState
2019-10-01 07:04:27,655 [Thread-313] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-01 07:04:27,655 [Thread-313] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderElection
2019-10-01 07:04:27,694 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9: begin an election at term 1 for -1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:04:27,695 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderElection
2019-10-01 07:04:27,695 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-01 07:04:27,695 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: change Leader from null to 9455b0e0-55b4-41b0-9971-04601d21fa81 at term 1 for becomeLeader, leader elected after 5114ms
2019-10-01 07:04:27,696 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-01 07:04:27,696 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-01 07:04:27,696 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-01 07:04:27,696 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-01 07:04:27,696 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-01 07:04:27,697 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-01 07:04:27,701 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderState
2019-10-01 07:04:27,701 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-01 07:04:27,703 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection9] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:04:27,752 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/current/log_inprogress_0
2019-10-01 07:04:28,720 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-644E693F3140: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_1
2019-10-01 07:04:28,739 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-644E693F3140: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_1 time:19
2019-10-01 07:04:28,739 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: Took a snapshot at index 1
2019-10-01 07:04:28,739 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-01 07:04:28,843 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-644E693F3140: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_1
2019-10-01 07:04:28,866 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-644E693F3140: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_1 time:22
2019-10-01 07:04:28,866 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: Took a snapshot at index 1
2019-10-01 07:04:28,866 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-10-01 07:04:28,897 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-01 07:04:31,777 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=04c1351b-270a-4655-bcdd-644e693f3140]
2019-10-01 07:04:31,778 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: 04c1351b-270a-4655-bcdd-644e693f3140, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:04:31,778 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 04c1351b-270a-4655-bcdd-644e693f3140, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-01 07:04:31,779 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #6
2019-10-01 07:04:33,891 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-10-01 07:04:33,893 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: close
2019-10-01 07:04:33,893 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: shutdown
2019-10-01 07:04:33,893 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-644E693F3140,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:04:33,894 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderState
2019-10-01 07:04:33,894 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-PendingRequests: sendNotLeaderResponses
2019-10-01 07:04:33,899 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: set stopIndex = 4
2019-10-01 07:04:33,899 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-644E693F3140: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_4
2019-10-01 07:04:33,956 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-644E693F3140: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_4 time:57
2019-10-01 07:04:33,956 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: Took a snapshot at index 4
2019-10-01 07:04:33,957 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-10-01 07:04:33,957 [main] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: closes. applyIndex: 4
2019-10-01 07:04:33,958 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-01 07:04:33,960 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker close()
2019-10-01 07:04:33,961 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown server with port 44244 now
2019-10-01 07:04:33,962 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown server with port 44244 successfully
2019-10-01 07:04:33,970 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-01 07:04:33,981 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-10-01 07:04:33,983 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-01 07:04:33,985 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@51ab1ee3{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-01 07:04:33,986 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2e766822{HTTP/1.1,[http/1.1]}{0.0.0.0:40749}
2019-10-01 07:04:33,986 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7219ac49{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-01 07:04:33,987 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1b2df3aa{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-01 07:04:33,988 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-10-01 07:04:33,991 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-01 07:04:33,996 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1984-bsjj8-3390809720 ip:192.168.30.18
2019-10-01 07:04:33,998 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers : 4096 
2019-10-01 07:04:33,999 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-01 07:04:33,999 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers/hdds to VolumeSet
2019-10-01 07:04:34,000 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@7e9f2c32
2019-10-01 07:04:34,000 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@7e9f2c32
2019-10-01 07:04:34,034 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-01 07:04:34,034 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-01 07:04:34,034 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 44244 (custom)
2019-10-01 07:04:34,035 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-01 07:04:34,035 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:04:34,035 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-01 07:04:34,036 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-01 07:04:34,036 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:04:34,037 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140
2019-10-01 07:04:34,037 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: addNew group-644E693F3140:[] returns group-644E693F3140:java.util.concurrent.CompletableFuture@221a2068[Not completed]
2019-10-01 07:04:34,040 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:40749
2019-10-01 07:04:34,041 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: new RaftServerImpl for group-644E693F3140:[] with ContainerStateMachine:uninitialized
2019-10-01 07:04:34,042 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-01 07:04:34,042 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-01 07:04:34,042 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-01 07:04:34,042 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-01 07:04:34,042 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-01 07:04:34,043 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-10-01 07:04:34,043 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:04:34,043 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-01 07:04:34,043 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-01 07:04:34,044 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-01 07:04:34,045 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-01 07:04:34,046 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-01 07:04:34,046 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-01 07:04:34,047 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-01 07:04:34,047 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 40749
2019-10-01 07:04:34,048 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-01 07:04:34,050 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@31142d58{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-01 07:04:34,050 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1192b58e{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-01 07:04:34,065 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/in_use.lock acquired by nodename 16375@pr-hdds-1984-bsjj8-3390809720
2019-10-01 07:04:34,066 [pool-75-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-644E693F3140: Setting the last applied index to (t:1, i:4)
2019-10-01 07:04:34,066 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:04:34,067 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-01 07:04:34,067 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-01 07:04:34,067 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-01 07:04:34,067 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:04:34,067 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:04:34,067 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-01 07:04:34,068 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140
2019-10-01 07:04:34,068 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-01 07:04:34,068 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-01 07:04:34,068 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:04:34,068 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-01 07:04:34,068 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-01 07:04:34,068 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-01 07:04:34,068 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-01 07:04:34,069 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-01 07:04:34,069 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-01 07:04:34,069 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-01 07:04:34,070 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:04:34,070 [pool-75-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(140)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/current/log_inprogress_0
2019-10-01 07:04:34,070 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
2019-10-01 07:04:34,077 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@109f8c7e{/,file:///tmp/jetty-0.0.0.0-40749-hddsDatanode-_-any-8238960078386821310.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-01 07:04:34,077 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@5edacf20{HTTP/1.1,[http/1.1]}{0.0.0.0:40749}
2019-10-01 07:04:34,093 [pool-75-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLog: commitIndex: updateToMax old=4, new=3, updated? false
2019-10-01 07:04:34,093 [main] INFO  server.Server (Server.java:doStart(419)) - Started @135041ms
2019-10-01 07:04:34,094 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-01 07:04:34,094 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-01 07:04:34,094 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-01 07:04:34,094 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-01 07:04:34,094 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-01 07:04:34,094 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:40749
2019-10-01 07:04:34,095 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:04:34,096 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6e3d7ab8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-01 07:04:35,095 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:04:36,096 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:04:36,097 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-10-01 07:04:36,098 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-10-01 07:04:36,098 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(417)) - Starting XceiverServerRatis 9455b0e0-55b4-41b0-9971-04601d21fa81 at port 44244
2019-10-01 07:04:36,105 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: start as a follower, conf=0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:04:36,105 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-10-01 07:04:36,105 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start FollowerState
2019-10-01 07:04:36,106 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-644E693F3140,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:04:36,107 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start RPC server
2019-10-01 07:04:36,109 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: GrpcService started, listening on 0.0.0.0/0.0.0.0:44244
2019-10-01 07:04:37,096 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:04:38,097 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:04:39,097 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:04:40,097 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-01 07:04:40,111 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: addNew group-9B82F3B37F82:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] returns group-9B82F3B37F82:java.util.concurrent.CompletableFuture@78f89dae[Not completed]
2019-10-01 07:04:40,113 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: new RaftServerImpl for group-9B82F3B37F82:[9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244] with ContainerStateMachine:uninitialized
2019-10-01 07:04:40,113 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-01 07:04:40,113 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-01 07:04:40,113 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-01 07:04:40,114 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-01 07:04:40,114 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-01 07:04:40,114 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82: ConfigurationManager, init=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null, confs=<EMPTY_MAP>
2019-10-01 07:04:40,114 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis] (custom)
2019-10-01 07:04:40,114 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-01 07:04:40,115 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cfe70430-ec05-4f89-ac07-9b82f3b37f82 does not exist. Creating ...
2019-10-01 07:04:40,159 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cfe70430-ec05-4f89-ac07-9b82f3b37f82/in_use.lock acquired by nodename 16375@pr-hdds-1984-bsjj8-3390809720
2019-10-01 07:04:40,176 [pool-75-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cfe70430-ec05-4f89-ac07-9b82f3b37f82 has been successfully formatted.
2019-10-01 07:04:40,176 [pool-75-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-9B82F3B37F82: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-01 07:04:40,176 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-01 07:04:40,177 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-01 07:04:40,177 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-01 07:04:40,177 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-01 07:04:40,177 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:04:40,177 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-01 07:04:40,177 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cfe70430-ec05-4f89-ac07-9b82f3b37f82
2019-10-01 07:04:40,178 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-01 07:04:40,178 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-01 07:04:40,178 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-01 07:04:40,178 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-01 07:04:40,178 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-01 07:04:40,178 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-01 07:04:40,179 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-01 07:04:40,179 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-01 07:04:40,179 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-01 07:04:40,179 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-01 07:04:40,179 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-01 07:04:40,180 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-01 07:04:40,180 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-01 07:04:40,180 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-01 07:04:40,180 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-01 07:04:40,184 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82: start as a follower, conf=-1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:04:40,184 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-01 07:04:40,184 [pool-75-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start FollowerState
2019-10-01 07:04:40,185 [pool-75-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9B82F3B37F82,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:04:40,194 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: cfe70430-ec05-4f89-ac07-9b82f3b37f82, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:04:41,098 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-01 07:04:41,102 [main] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID:  : Message: Cannot close container #5 while in UNHEALTHY state. : Result: CONTAINER_UNHEALTHY
07:04:41.102 [main] ERROR DNAudit - user=null | ip=null | op=CLOSE_CONTAINER {containerID=5} | ret=FAILURE
java.lang.Exception: Cannot close container #5 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:330) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.client.rpc.TestContainerStateMachineFailures.testUnhealthyContainer(TestContainerStateMachineFailures.java:274) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_212]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_212]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_212]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_212]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47) [junit-4.11.jar:?]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.11.jar:?]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271) [junit-4.11.jar:?]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70) [junit-4.11.jar:?]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309) [junit-4.11.jar:?]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
2019-10-01 07:04:41,128 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #5
2019-10-01 07:04:41,297 [Thread-342] INFO  impl.FollowerState (FollowerState.java:run(108)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-FollowerState: change to CANDIDATE, lastRpcTime:5191ms, electionTimeout:5191ms
2019-10-01 07:04:41,298 [Thread-342] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown FollowerState
2019-10-01 07:04:41,298 [Thread-342] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-01 07:04:41,298 [Thread-342] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderElection
2019-10-01 07:04:41,327 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10: begin an election at term 2 for 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:04:41,327 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderElection
2019-10-01 07:04:41,327 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-10-01 07:04:41,327 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: change Leader from null to 9455b0e0-55b4-41b0-9971-04601d21fa81 at term 2 for becomeLeader, leader elected after 7260ms
2019-10-01 07:04:41,327 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-01 07:04:41,328 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-01 07:04:41,328 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-01 07:04:41,328 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-01 07:04:41,328 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-01 07:04:41,328 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-01 07:04:41,328 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderState
2019-10-01 07:04:41,329 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(390)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-10-01 07:04:41,330 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-LeaderElection10] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: set configuration 5: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 5
2019-10-01 07:04:41,331 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(531)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/current/log_0-4
2019-10-01 07:04:41,369 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/current/log_inprogress_5
2019-10-01 07:04:41,381 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-644E693F3140: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_4
2019-10-01 07:04:41,411 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-644E693F3140: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_4 time:30
2019-10-01 07:04:41,411 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: Took a snapshot at index 4
2019-10-01 07:04:41,411 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-01 07:04:41,412 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-644E693F3140: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_4
2019-10-01 07:04:41,436 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-644E693F3140: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_4 time:24
2019-10-01 07:04:41,436 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: Took a snapshot at index 4
2019-10-01 07:04:41,436 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-01 07:04:41,789 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: remove    LEADER 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140:t2, leader=9455b0e0-55b4-41b0-9971-04601d21fa81, voted=9455b0e0-55b4-41b0-9971-04601d21fa81, raftlog=9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null RUNNING
2019-10-01 07:04:41,790 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: shutdown
2019-10-01 07:04:41,790 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-644E693F3140,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:04:41,790 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderState
2019-10-01 07:04:41,790 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-PendingRequests: sendNotLeaderResponses
2019-10-01 07:04:41,792 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: set stopIndex = 6
2019-10-01 07:04:41,792 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-644E693F3140: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_4
2019-10-01 07:04:41,820 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-644E693F3140: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_4 time:28
2019-10-01 07:04:41,820 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: Took a snapshot at index 4
2019-10-01 07:04:41,820 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-01 07:04:41,820 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-644E693F3140: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_4
2019-10-01 07:04:41,845 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-644E693F3140: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/04c1351b-270a-4655-bcdd-644e693f3140/sm/snapshot.1_4 time:25
2019-10-01 07:04:41,845 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: Took a snapshot at index 4
2019-10-01 07:04:41,845 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-01 07:04:41,846 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140: closes. applyIndex: 6
2019-10-01 07:04:41,846 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-01 07:04:41,847 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-644E693F3140-SegmentedRaftLogWorker close()
2019-10-01 07:04:41,862 [grpc-default-executor-0] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 6 is synced with bcsId 3.
2019-10-01 07:04:41,863 [grpc-default-executor-0] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 6 is synced with bcsId 3.
2019-10-01 07:04:41,889 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(169)) - Moving container #6 to QUASI_CLOSED state, datanode 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null} reported QUASI_CLOSED replica.
2019-10-01 07:04:41,895 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 04c1351b-270a-4655-bcdd-644e693f3140, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-01 07:04:45,273 [Thread-346] INFO  impl.FollowerState (FollowerState.java:run(108)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-FollowerState: change to CANDIDATE, lastRpcTime:5089ms, electionTimeout:5088ms
2019-10-01 07:04:45,275 [Thread-346] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown FollowerState
2019-10-01 07:04:45,275 [Thread-346] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-01 07:04:45,276 [Thread-346] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderElection
2019-10-01 07:04:45,301 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11: begin an election at term 1 for -1: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null
2019-10-01 07:04:45,302 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderElection
2019-10-01 07:04:45,302 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-01 07:04:45,302 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82: change Leader from null to 9455b0e0-55b4-41b0-9971-04601d21fa81 at term 1 for becomeLeader, leader elected after 5125ms
2019-10-01 07:04:45,302 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-01 07:04:45,302 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-01 07:04:45,303 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-01 07:04:45,303 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-01 07:04:45,303 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-01 07:04:45,303 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-01 07:04:45,306 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: start LeaderState
2019-10-01 07:04:45,307 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-01 07:04:45,308 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-LeaderElection11] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82: set configuration 0: [9455b0e0-55b4-41b0-9971-04601d21fa81:192.168.30.18:44244], old=null at 0
2019-10-01 07:04:45,345 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cfe70430-ec05-4f89-ac07-9b82f3b37f82/current/log_inprogress_0
2019-10-01 07:04:47,371 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-9B82F3B37F82: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cfe70430-ec05-4f89-ac07-9b82f3b37f82/sm/snapshot.1_1
2019-10-01 07:04:47,391 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-9B82F3B37F82: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cfe70430-ec05-4f89-ac07-9b82f3b37f82/sm/snapshot.1_1 time:20
2019-10-01 07:04:47,391 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater: Took a snapshot at index 1
2019-10-01 07:04:47,392 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-01 07:04:47,487 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-9B82F3B37F82: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cfe70430-ec05-4f89-ac07-9b82f3b37f82/sm/snapshot.1_3
2019-10-01 07:04:47,510 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-9B82F3B37F82: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cfe70430-ec05-4f89-ac07-9b82f3b37f82/sm/snapshot.1_3 time:23
2019-10-01 07:04:47,510 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater: Took a snapshot at index 3
2019-10-01 07:04:47,510 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 3
2019-10-01 07:04:47,512 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-9B82F3B37F82: Taking a snapshot at:(t:1, i:8) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cfe70430-ec05-4f89-ac07-9b82f3b37f82/sm/snapshot.1_8
2019-10-01 07:04:47,529 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:getStorageContainerLocationClient(234)) - Creating StorageContainerLocationProtocol RPC client with address /0.0.0.0:46317
2019-10-01 07:04:47,535 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-9B82F3B37F82: Finished taking a snapshot at:(t:1, i:8) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/ratis/cfe70430-ec05-4f89-ac07-9b82f3b37f82/sm/snapshot.1_8 time:23
2019-10-01 07:04:47,536 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater: Took a snapshot at index 8
2019-10-01 07:04:47,536 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 8
2019-10-01 07:04:47,562 [RatisApplyTransactionExecutor 7] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID: adeec4908b9f6801:adeec4908b9f6801:0:0 : Message: Error while creating/ updating .container file. ContainerID: 7 : Result: CONTAINER_FILES_CREATE_ERROR
2019-10-01 07:04:47,562 [RatisApplyTransactionExecutor 7] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(908)) - Unexpected error while marking container 7 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 7
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:237)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:257)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:356)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:298)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:903)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:312)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$6(ContainerStateMachine.java:719)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:726)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:222)
	... 13 more
2019-10-01 07:04:47,563 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #7 is in OPEN state, but the datanode 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
07:04:47.563 [RatisApplyTransactionExecutor 7] ERROR DNAudit - user=null | ip=null | op=CLOSE_CONTAINER {containerID=7} | ret=FAILURE
java.lang.Exception: Error while creating/ updating .container file. ContainerID: 7
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:330) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$6(ContainerStateMachine.java:719) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-10-01 07:04:47,563 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #7
2019-10-01 07:04:47,564 [RatisApplyTransactionExecutor 7] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$applyTransaction$7(737)) - gid group-9B82F3B37F82 : ApplyTransaction failed. cmd CloseContainer logIndex 9 msg : Error while creating/ updating .container file. ContainerID: 7 Container Result: CONTAINER_FILES_CREATE_ERROR
2019-10-01 07:04:47,566 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] ERROR impl.StateMachineUpdater (StateMachineUpdater.java:run(182)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater: the StateMachineUpdater hits Throwable
java.util.concurrent.ExecutionException: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 7
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
	at org.apache.ratis.server.impl.StateMachineUpdater.checkAndTakeSnapshot(StateMachineUpdater.java:244)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:166)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 7
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$7(ContainerStateMachine.java:736)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1595)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2019-10-01 07:04:47,567 [RatisApplyTransactionExecutor 7] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(581)) - pipeline Action CLOSE  on pipeline PipelineID=cfe70430-ec05-4f89-ac07-9b82f3b37f82.Reason : Ratis Transaction failure in datanode 9455b0e0-55b4-41b0-9971-04601d21fa81 with role LEADER .Triggering pipeline close action.
2019-10-01 07:04:47,568 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82: shutdown
2019-10-01 07:04:47,569 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9B82F3B37F82,id=9455b0e0-55b4-41b0-9971-04601d21fa81
2019-10-01 07:04:47,569 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: cfe70430-ec05-4f89-ac07-9b82f3b37f82, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}. Reason : Ratis Transaction failure in datanode 9455b0e0-55b4-41b0-9971-04601d21fa81 with role LEADER .Triggering pipeline close action.
2019-10-01 07:04:47,569 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown LeaderState
2019-10-01 07:04:47,569 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: cfe70430-ec05-4f89-ac07-9b82f3b37f82, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-01 07:04:47,570 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-PendingRequests: sendNotLeaderResponses
2019-10-01 07:04:47,571 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: cfe70430-ec05-4f89-ac07-9b82f3b37f82, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-01 07:04:47,577 [9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 9455b0e0-55b4-41b0-9971-04601d21fa81@group-9B82F3B37F82-StateMachineUpdater: set stopIndex = 9
2019-10-01 07:04:47,616 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(314)) - Shutting down the Mini Ozone Cluster
2019-10-01 07:04:47,617 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(330)) - Stopping the Mini Ozone Cluster
2019-10-01 07:04:47,617 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(400)) - Stopping the OzoneManager
2019-10-01 07:04:47,617 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 40851
2019-10-01 07:04:47,621 [IPC Server listener on 40851] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 40851
2019-10-01 07:04:47,621 [main] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-10-01 07:04:47,623 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-01 07:04:47,625 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-01 07:04:47,628 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-10-01 07:04:47,637 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@1cbb3d3b{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-01 07:04:47,637 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@529cfee5{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-01 07:04:47,637 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@629f066f{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-01 07:04:47,638 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5cf8edcf{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-01 07:04:47,640 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(377)) - Stopping the HddsDatanodes
2019-10-01 07:04:47,767 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-01 07:04:50,613 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=cfe70430-ec05-4f89-ac07-9b82f3b37f82]
2019-10-01 07:04:50,613 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: cfe70430-ec05-4f89-ac07-9b82f3b37f82, Nodes: 9455b0e0-55b4-41b0-9971-04601d21fa81{ip: 192.168.30.18, host: pr-hdds-1984-bsjj8-3390809720, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
2019-10-01 07:04:52,642 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-10-01 07:04:52,643 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: close
2019-10-01 07:04:52,644 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown server with port 44244 now
2019-10-01 07:04:52,647 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 9455b0e0-55b4-41b0-9971-04601d21fa81: shutdown server with port 44244 successfully
2019-10-01 07:04:52,665 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b234ad62-b7ce-41f6-88d5-f973b73c7b4f/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-01 07:04:52,681 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-10-01 07:04:52,684 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-01 07:04:52,685 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@109f8c7e{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-01 07:04:52,686 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@5edacf20{HTTP/1.1,[http/1.1]}{0.0.0.0:40749}
2019-10-01 07:04:52,687 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1192b58e{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-01 07:04:52,687 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@31142d58{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-01 07:04:52,688 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(392)) - Stopping the StorageContainerManager
2019-10-01 07:04:52,688 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(808)) - Stopping Replication Manager Service.
2019-10-01 07:04:52,688 [main] INFO  container.ReplicationManager (ReplicationManager.java:stop(203)) - Stopping Replication Monitor Thread.
2019-10-01 07:04:52,689 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(815)) - Stopping Lease Manager of the command watchers
2019-10-01 07:04:52,689 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(822)) - Stopping datanode service RPC server
2019-10-01 07:04:52,689 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-10-01 07:04:52,689 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 46211
2019-10-01 07:04:52,691 [IPC Server listener on 46211] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 46211
2019-10-01 07:04:52,692 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-01 07:04:52,715 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-10-01 07:04:52,715 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(830)) - Stopping block service RPC server
2019-10-01 07:04:52,715 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-01 07:04:52,715 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 40712
2019-10-01 07:04:52,717 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(837)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-01 07:04:52,717 [IPC Server listener on 40712] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 40712
2019-10-01 07:04:52,718 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-01 07:04:52,718 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(158)) - Stopping the RPC server for Client Protocol
2019-10-01 07:04:52,718 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 46317
2019-10-01 07:04:52,721 [IPC Server listener on 46317] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 46317
2019-10-01 07:04:52,721 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Storage Container Manager HTTP server.
2019-10-01 07:04:52,721 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-01 07:04:52,722 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@61edc883{/,null,UNAVAILABLE}{/scm}
2019-10-01 07:04:52,723 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@780ec4a5{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-01 07:04:52,723 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5e1fa5b1{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-01 07:04:52,723 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@158a3b2e{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-01 07:04:52,724 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(855)) - Stopping Block Manager Service.
2019-10-01 07:04:52,724 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-10-01 07:04:52,724 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-10-01 07:04:52,725 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(877)) - Stopping SCM Event Queue.
2019-10-01 07:04:52,732 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-10-01 07:04:52,741 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2019-10-01 07:04:52,741 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
