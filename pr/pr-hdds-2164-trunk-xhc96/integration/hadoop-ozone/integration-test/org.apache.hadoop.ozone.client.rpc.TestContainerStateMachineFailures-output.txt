2019-10-02 11:40:50,175 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 11:40:50,269 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 11:40:50,272 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 11:40:50,292 [main] INFO  util.log (Log.java:initialized(192)) - Logging initialized @785ms
2019-10-02 11:40:50,389 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-10-02 11:40:50,389 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-02 11:40:50,390 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-10-02 11:40:50,390 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-02 11:40:50,390 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-10-02 11:40:50,390 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-02 11:40:50,408 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-10-02 11:40:50,408 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-02 11:40:50,410 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-10-02 11:40:50,706 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@1aafa419
2019-10-02 11:40:50,708 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-02 11:40:50,774 [main] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(114)) - Entering startup safe mode.
2019-10-02 11:40:50,836 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(57)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-02 11:40:50,848 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 11:40:50,937 [main] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(132)) - No pipeline exists in current db
2019-10-02 11:40:50,940 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 11:40:51,166 [main] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
2019-10-02 11:40:51,556 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-02 11:40:51,583 [Socket Reader #1 for port 45596] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 45596
2019-10-02 11:40:51,701 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-02 11:40:51,702 [Socket Reader #1 for port 45319] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 45319
2019-10-02 11:40:51,709 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-02 11:40:51,710 [Socket Reader #1 for port 42217] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 42217
2019-10-02 11:40:51,729 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-10-02 11:40:51,880 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-02 11:40:51,890 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-02 11:40:51,899 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-02 11:40:51,902 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-02 11:40:51,903 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-02 11:40:51,903 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-02 11:40:51,934 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(770)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:42217
2019-10-02 11:40:51,998 [main] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-10-02 11:40:52,012 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-10-02 11:40:52,012 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-10-02 11:40:52,276 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(150)) - RPC server for Client  is listening at /0.0.0.0:42217
2019-10-02 11:40:52,277 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-02 11:40:52,278 [IPC Server listener on 42217] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 42217: starting
2019-10-02 11:40:52,281 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(780)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:45319
2019-10-02 11:40:52,283 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:45319
2019-10-02 11:40:52,283 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-02 11:40:52,283 [IPC Server listener on 45319] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 45319: starting
2019-10-02 11:40:52,291 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(784)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:45596
2019-10-02 11:40:52,291 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:45596
2019-10-02 11:40:52,292 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-02 11:40:52,292 [IPC Server listener on 45596] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 45596: starting
2019-10-02 11:40:52,302 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 34091
2019-10-02 11:40:52,304 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-02 11:40:52,340 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@158a3b2e{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-02 11:40:52,341 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5e1fa5b1{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-02 11:40:52,370 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@61edc883{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-10-02 11:40:52,375 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@780ec4a5{HTTP/1.1,[http/1.1]}{0.0.0.0:34091}
2019-10-02 11:40:52,376 [main] INFO  server.Server (Server.java:doStart(419)) - Started @2869ms
2019-10-02 11:40:52,378 [main] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2019-10-02 11:40:52,378 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(301)) - Registered sink prometheus
2019-10-02 11:40:52,379 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:34091
2019-10-02 11:40:52,386 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1b822fcc] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-02 11:40:52,389 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 11:40:52,494 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 11:40:52,495 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 11:40:52,496 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(652)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-10-02 11:40:52,496 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(658)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 286d9a2d-2ebd-422d-8329-2b4e96066905
2019-10-02 11:40:52,497 [main] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(609)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-10-02 11:40:53,200 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 11:40:53,208 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-10-02 11:40:53,208 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-02 11:40:53,209 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-10-02 11:40:53,209 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-02 11:40:53,210 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-10-02 11:40:53,210 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-02 11:40:53,211 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-10-02 11:40:53,211 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-02 11:40:53,212 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-10-02 11:40:53,212 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-02 11:40:53,212 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-10-02 11:40:53,213 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-02 11:40:53,213 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-10-02 11:40:53,213 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-02 11:40:53,214 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-10-02 11:40:53,214 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-02 11:40:53,215 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-10-02 11:40:53,215 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-02 11:40:53,216 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-10-02 11:40:53,216 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-02 11:40:53,217 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-10-02 11:40:53,217 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-02 11:40:53,218 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-10-02 11:40:53,218 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-02 11:40:53,218 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-10-02 11:40:53,984 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-02 11:40:53,985 [Socket Reader #1 for port 42239] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 42239
2019-10-02 11:40:54,015 [main] INFO  om.OzoneManager (OzoneManager.java:start(1243)) - OzoneManager RPC server is listening at localhost/127.0.0.1:42239
2019-10-02 11:40:54,015 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-02 11:40:54,016 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-02 11:40:54,017 [IPC Server listener on 42239] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 42239: starting
2019-10-02 11:40:54,022 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-10-02 11:40:54,024 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-02 11:40:54,024 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-02 11:40:54,026 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-02 11:40:54,027 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-02 11:40:54,027 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-02 11:40:54,027 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-02 11:40:54,029 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 40003
2019-10-02 11:40:54,029 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-02 11:40:54,031 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@629f066f{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-02 11:40:54,032 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@ecfbe91{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-02 11:40:54,036 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@7ca0863b{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-02 11:40:54,037 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@319854f0{HTTP/1.1,[http/1.1]}{0.0.0.0:40003}
2019-10-02 11:40:54,038 [main] INFO  server.Server (Server.java:doStart(419)) - Started @4531ms
2019-10-02 11:40:54,038 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-02 11:40:54,039 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:40003
2019-10-02 11:40:54,283 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-02 11:40:54,329 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2164-trunk-xhc96-1404769113 ip:192.168.151.102
2019-10-02 11:40:54,359 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-02 11:40:54,361 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers/hdds to VolumeSet
2019-10-02 11:40:54,364 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@3fdecce
2019-10-02 11:40:54,379 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@3fdecce
2019-10-02 11:40:54,485 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-02 11:40:54,576 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-02 11:40:54,583 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-10-02 11:40:54,584 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-02 11:40:54,585 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:40:54,586 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-02 11:40:54,587 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-02 11:40:54,769 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:40:54,824 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-10-02 11:40:54,827 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-02 11:40:54,829 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-02 11:40:54,832 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-02 11:40:54,833 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-02 11:40:54,833 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-02 11:40:54,834 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-02 11:40:54,836 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 44371
2019-10-02 11:40:54,837 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-02 11:40:54,840 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@6069dd38{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-02 11:40:54,841 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@558756be{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-02 11:40:54,896 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@43e9089{/,file:///tmp/jetty-0.0.0.0-44371-hddsDatanode-_-any-12366385520220622.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-02 11:40:54,898 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@3c5dbdf8{HTTP/1.1,[http/1.1]}{0.0.0.0:44371}
2019-10-02 11:40:54,898 [main] INFO  server.Server (Server.java:doStart(419)) - Started @5392ms
2019-10-02 11:40:54,898 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-02 11:40:54,899 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:44371
2019-10-02 11:40:54,902 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:40:54,906 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@459ef941] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-02 11:40:55,016 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/meta/datanode.id
2019-10-02 11:40:55,902 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:40:56,903 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:40:56,973 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-10-02 11:40:56,976 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-10-02 11:40:56,977 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at port 0
2019-10-02 11:40:57,000 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start RPC server
2019-10-02 11:40:57,135 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: GrpcService started, listening on 0.0.0.0/0.0.0.0:33044
2019-10-02 11:40:57,136 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(421)) - XceiverServerRatis 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 is started using port 33044
2019-10-02 11:40:57,139 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(149)) - XceiverServerGrpc 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 is started using port 42762
2019-10-02 11:40:57,904 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:40:58,904 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:40:58,935 [IPC Server handler 0 on 45596] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(111)) - Added a new node: /default-rack/4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:40:58,936 [IPC Server handler 0 on 45596] INFO  node.SCMNodeManager (SCMNodeManager.java:register(266)) - Registered Data node : 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}
2019-10-02 11:40:58,939 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-10-02 11:40:58,939 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-10-02 11:40:58,939 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-10-02 11:40:59,423 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: addNew group-14A0B8627E95:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] returns group-14A0B8627E95:java.util.concurrent.CompletableFuture@42b37b3a[Not completed]
2019-10-02 11:40:59,436 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: new RaftServerImpl for group-14A0B8627E95:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] with ContainerStateMachine:uninitialized
2019-10-02 11:40:59,438 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 11:40:59,439 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 11:40:59,439 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 11:40:59,439 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 11:40:59,440 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 11:40:59,447 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: ConfigurationManager, init=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null, confs=<EMPTY_MAP>
2019-10-02 11:40:59,447 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:40:59,454 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95 does not exist. Creating ...
2019-10-02 11:40:59,471 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/in_use.lock acquired by nodename 19721@pr-hdds-2164-trunk-xhc96-1404769113
2019-10-02 11:40:59,485 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95 has been successfully formatted.
2019-10-02 11:40:59,487 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-14A0B8627E95: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 11:40:59,487 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 11:40:59,489 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 11:40:59,494 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 11:40:59,494 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:40:59,496 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:40:59,500 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 11:40:59,505 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95
2019-10-02 11:40:59,506 [pool-27-thread-1] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - ratis metrics system started (again)
2019-10-02 11:40:59,511 [pool-27-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2019-10-02 11:40:59,537 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 11:40:59,538 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 11:40:59,541 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:40:59,541 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 11:40:59,541 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 11:40:59,542 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 11:40:59,543 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 11:40:59,543 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 11:40:59,543 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 11:40:59,551 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 11:40:59,555 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 11:40:59,559 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 11:40:59,560 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 11:40:59,561 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-10-02 11:40:59,561 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 11:40:59,585 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: start as a follower, conf=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:40:59,586 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 11:40:59,587 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start FollowerState
2019-10-02 11:40:59,589 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-14A0B8627E95,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:40:59,648 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 6c68bec6-a385-47c1-ba71-14a0b8627e95, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:40:59,905 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-02 11:41:00,340 [main] INFO  rpc.RpcClient (RpcClient.java:createVolume(276)) - Creating Volume: testcontainerstatemachinefailures, with jenkins1000 as owner.
2019-10-02 11:41:00,434 [IPC Server handler 3 on 42239] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(194)) - created volume:testcontainerstatemachinefailures for user:jenkins1000
2019-10-02 11:41:00,451 [main] INFO  rpc.RpcClient (RpcClient.java:createBucket(415)) - Creating Bucket: testcontainerstatemachinefailures/testcontainerstatemachinefailures, with Versioning false and Storage Type set to DISK and Encryption set to false 
2019-10-02 11:41:00,837 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - XceiverClientMetrics metrics system started (again)
2019-10-02 11:41:01,944 [Thread-148] INFO  container.ReplicationManager (ReplicationManager.java:start(162)) - Starting Replication Monitor Thread.
2019-10-02 11:41:01,949 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(225)) - Replication Monitor Thread took 4 milliseconds for processing 1 containers.
2019-10-02 11:41:04,759 [Thread-150] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:group-14A0B8627E95 changes to CANDIDATE, lastRpcTime:5171, electionTimeout:5171ms
2019-10-02 11:41:04,762 [Thread-150] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown FollowerState
2019-10-02 11:41:04,763 [Thread-150] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 11:41:04,769 [Thread-150] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderElection
2019-10-02 11:41:04,787 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1: begin an election at term 1 for -1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:41:04,789 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderElection
2019-10-02 11:41:04,790 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 11:41:04,790 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: change Leader from null to 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at term 1 for becomeLeader, leader elected after 5302ms
2019-10-02 11:41:04,797 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 11:41:04,797 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 11:41:04,801 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 11:41:04,804 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 11:41:04,804 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 11:41:04,806 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 11:41:04,845 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderState
2019-10-02 11:41:04,864 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 11:41:04,875 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:41:05,055 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/current/log_inprogress_0
2019-10-02 11:41:07,233 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-14A0B8627E95: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_1
2019-10-02 11:41:07,264 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-14A0B8627E95: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_1 time:31
2019-10-02 11:41:07,266 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 11:41:07,266 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-02 11:41:07,322 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-14A0B8627E95: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_1
2019-10-02 11:41:07,326 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-14A0B8627E95: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_1 time:5
2019-10-02 11:41:07,326 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 11:41:07,327 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-10-02 11:41:07,342 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-14A0B8627E95: Taking a snapshot at:(t:1, i:5) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_5
2019-10-02 11:41:07,347 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-14A0B8627E95: Finished taking a snapshot at:(t:1, i:5) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_5 time:4
2019-10-02 11:41:07,347 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: Took a snapshot at index 5
2019-10-02 11:41:07,347 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 5
2019-10-02 11:41:07,349 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-14A0B8627E95: Taking a snapshot at:(t:1, i:8) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_8
2019-10-02 11:41:07,367 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-14A0B8627E95: Finished taking a snapshot at:(t:1, i:8) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_8 time:18
2019-10-02 11:41:07,367 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: Took a snapshot at index 8
2019-10-02 11:41:07,367 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: snapshotIndex: updateIncreasingly 5 -> 8
2019-10-02 11:41:07,378 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-02 11:41:10,245 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=6c68bec6-a385-47c1-ba71-14a0b8627e95]
2019-10-02 11:41:10,246 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: 6c68bec6-a385-47c1-ba71-14a0b8627e95, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:41:10,250 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 6c68bec6-a385-47c1-ba71-14a0b8627e95, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-02 11:41:10,251 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #1
2019-10-02 11:41:12,371 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-10-02 11:41:12,373 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: close
2019-10-02 11:41:12,375 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: shutdown
2019-10-02 11:41:12,376 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-14A0B8627E95,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:41:12,377 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderState
2019-10-02 11:41:12,378 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5-PendingRequests: sendNotLeaderResponses
2019-10-02 11:41:12,388 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: set stopIndex = 8
2019-10-02 11:41:12,390 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: closes. applyIndex: 8
2019-10-02 11:41:12,393 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 11:41:12,394 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker close()
2019-10-02 11:41:12,396 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown server with port 33044 now
2019-10-02 11:41:12,401 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown server with port 33044 successfully
2019-10-02 11:41:12,414 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-02 11:41:12,431 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-10-02 11:41:12,434 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-02 11:41:12,439 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@43e9089{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-02 11:41:12,446 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@3c5dbdf8{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-02 11:41:12,446 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@558756be{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-02 11:41:12,447 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@6069dd38{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-02 11:41:12,452 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-10-02 11:41:12,457 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-02 11:41:12,512 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2164-trunk-xhc96-1404769113 ip:192.168.151.102
2019-10-02 11:41:12,515 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers : 4096 
2019-10-02 11:41:12,516 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-02 11:41:12,516 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers/hdds to VolumeSet
2019-10-02 11:41:12,516 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@43bf5397
2019-10-02 11:41:12,517 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@43bf5397
2019-10-02 11:41:12,534 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-02 11:41:12,534 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-02 11:41:12,535 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33044 (custom)
2019-10-02 11:41:12,535 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-02 11:41:12,535 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:41:12,535 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-02 11:41:12,536 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-02 11:41:12,537 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:41:12,537 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95
2019-10-02 11:41:12,538 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: addNew group-14A0B8627E95:[] returns group-14A0B8627E95:java.util.concurrent.CompletableFuture@332bcab0[Not completed]
2019-10-02 11:41:12,541 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: new RaftServerImpl for group-14A0B8627E95:[] with ContainerStateMachine:uninitialized
2019-10-02 11:41:12,542 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 11:41:12,542 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:44371
2019-10-02 11:41:12,542 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 11:41:12,543 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 11:41:12,543 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 11:41:12,543 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 11:41:12,544 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-10-02 11:41:12,544 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:41:12,545 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-02 11:41:12,546 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-02 11:41:12,548 [pool-40-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/in_use.lock acquired by nodename 19721@pr-hdds-2164-trunk-xhc96-1404769113
2019-10-02 11:41:12,549 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-02 11:41:12,550 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-02 11:41:12,550 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-02 11:41:12,550 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-02 11:41:12,551 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 44371
2019-10-02 11:41:12,551 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-02 11:41:12,551 [pool-40-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-14A0B8627E95: Setting the last applied index to (t:1, i:8)
2019-10-02 11:41:12,553 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7da31a40{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-02 11:41:12,554 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1b5a1d85{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-02 11:41:12,555 [pool-40-thread-1] WARN  impl.ContainerSet (ContainerSet.java:lambda$buildMissingContainerSetAndValidate$1(257)) - Adding container 1 to missing container set.
2019-10-02 11:41:12,557 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:41:12,557 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 11:41:12,557 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 11:41:12,557 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 11:41:12,557 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:41:12,557 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:41:12,557 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 11:41:12,558 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95
2019-10-02 11:41:12,558 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 11:41:12,558 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 11:41:12,558 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:41:12,558 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 11:41:12,558 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 11:41:12,558 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 11:41:12,559 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 11:41:12,559 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 11:41:12,559 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 11:41:12,559 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 11:41:12,564 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:41:12,565 [pool-40-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(123)) - Successfully read 9 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/current/log_inprogress_0
2019-10-02 11:41:12,565 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 8
2019-10-02 11:41:12,578 [pool-40-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLog: commitIndex: updateToMax old=8, new=6, updated? false
2019-10-02 11:41:12,578 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 11:41:12,579 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 11:41:12,579 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-10-02 11:41:12,579 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 11:41:12,585 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@4f327096{/,file:///tmp/jetty-0.0.0.0-44371-hddsDatanode-_-any-5984378791365551299.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-02 11:41:12,585 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1d61a348{HTTP/1.1,[http/1.1]}{0.0.0.0:44371}
2019-10-02 11:41:12,586 [main] INFO  server.Server (Server.java:doStart(419)) - Started @23079ms
2019-10-02 11:41:12,586 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-02 11:41:12,587 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:44371
2019-10-02 11:41:12,588 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:12,589 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@595cb518] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-02 11:41:13,588 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:14,589 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:14,591 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-10-02 11:41:14,592 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-10-02 11:41:14,592 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at port 33044
2019-10-02 11:41:14,602 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: start as a follower, conf=0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:41:14,603 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-10-02 11:41:14,603 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start FollowerState
2019-10-02 11:41:14,603 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-14A0B8627E95,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:41:14,604 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start RPC server
2019-10-02 11:41:14,607 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: GrpcService started, listening on 0.0.0.0/0.0.0.0:33044
2019-10-02 11:41:15,589 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:16,591 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:17,592 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:18,593 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:18,688 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: addNew group-9C006B9AA9A5:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] returns group-9C006B9AA9A5:java.util.concurrent.CompletableFuture@19fff029[Not completed]
2019-10-02 11:41:18,690 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: new RaftServerImpl for group-9C006B9AA9A5:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] with ContainerStateMachine:uninitialized
2019-10-02 11:41:18,691 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 11:41:18,691 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 11:41:18,691 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 11:41:18,691 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 11:41:18,691 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 11:41:18,691 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: ConfigurationManager, init=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null, confs=<EMPTY_MAP>
2019-10-02 11:41:18,692 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:41:18,692 [pool-40-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5 does not exist. Creating ...
2019-10-02 11:41:18,698 [pool-40-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/in_use.lock acquired by nodename 19721@pr-hdds-2164-trunk-xhc96-1404769113
2019-10-02 11:41:18,702 [pool-40-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5 has been successfully formatted.
2019-10-02 11:41:18,703 [pool-40-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-9C006B9AA9A5: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 11:41:18,703 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 11:41:18,703 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 11:41:18,703 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 11:41:18,704 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:41:18,704 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:41:18,704 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 11:41:18,704 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5
2019-10-02 11:41:18,705 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 11:41:18,705 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 11:41:18,705 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:41:18,705 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 11:41:18,706 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 11:41:18,706 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 11:41:18,706 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 11:41:18,706 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 11:41:18,706 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 11:41:18,707 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 11:41:18,707 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 11:41:18,708 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 11:41:18,708 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 11:41:18,708 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-10-02 11:41:18,708 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 11:41:18,726 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: start as a follower, conf=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:41:18,727 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 11:41:18,727 [pool-40-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start FollowerState
2019-10-02 11:41:18,727 [pool-40-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9C006B9AA9A5,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:41:18,734 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 5a22c3b4-0967-41b5-b537-9c006b9aa9a5, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:41:19,589 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(84)) - Container #1 does not exist in datanode. Container close failed.
2019-10-02 11:41:19,593 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-02 11:41:19,604 [Thread-188] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:group-14A0B8627E95 changes to CANDIDATE, lastRpcTime:5001, electionTimeout:5001ms
2019-10-02 11:41:19,605 [Thread-188] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown FollowerState
2019-10-02 11:41:19,605 [Thread-188] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-02 11:41:19,605 [Thread-188] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderElection
2019-10-02 11:41:19,614 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2: begin an election at term 2 for 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:41:19,615 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderElection
2019-10-02 11:41:19,615 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-10-02 11:41:19,615 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: change Leader from null to 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at term 2 for becomeLeader, leader elected after 7058ms
2019-10-02 11:41:19,615 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 11:41:19,615 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 11:41:19,616 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 11:41:19,616 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 11:41:19,616 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 11:41:19,616 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 11:41:19,617 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderState
2019-10-02 11:41:19,618 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker: Rolling segment log-0_8 to index:8
2019-10-02 11:41:19,621 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: set configuration 9: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 9
2019-10-02 11:41:19,622 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/current/log_0-8
2019-10-02 11:41:19,639 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/current/log_inprogress_9
2019-10-02 11:41:19,641 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-14A0B8627E95: Taking a snapshot at:(t:1, i:8) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_8
2019-10-02 11:41:19,648 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-14A0B8627E95: Finished taking a snapshot at:(t:1, i:8) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_8 time:6
2019-10-02 11:41:19,648 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: Took a snapshot at index 8
2019-10-02 11:41:19,648 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: snapshotIndex: updateIncreasingly 8 -> 8
2019-10-02 11:41:19,649 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-14A0B8627E95: Taking a snapshot at:(t:1, i:8) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_8
2019-10-02 11:41:19,654 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-14A0B8627E95: Finished taking a snapshot at:(t:1, i:8) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_8 time:5
2019-10-02 11:41:19,654 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: Took a snapshot at index 8
2019-10-02 11:41:19,654 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: snapshotIndex: updateIncreasingly 8 -> 8
2019-10-02 11:41:20,273 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: remove    LEADER 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95:t2, leader=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5, voted=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5, raftlog=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLog:OPENED:c10,f10,i10, conf=9: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null RUNNING
2019-10-02 11:41:20,275 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: shutdown
2019-10-02 11:41:20,275 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-14A0B8627E95,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:41:20,275 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderState
2019-10-02 11:41:20,275 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5-PendingRequests: sendNotLeaderResponses
2019-10-02 11:41:20,279 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: set stopIndex = 10
2019-10-02 11:41:20,279 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-14A0B8627E95: Taking a snapshot at:(t:1, i:8) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_8
2019-10-02 11:41:20,292 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-14A0B8627E95: Finished taking a snapshot at:(t:1, i:8) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_8 time:13
2019-10-02 11:41:20,292 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: Took a snapshot at index 8
2019-10-02 11:41:20,293 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: snapshotIndex: updateIncreasingly 8 -> 8
2019-10-02 11:41:20,293 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-14A0B8627E95: Taking a snapshot at:(t:1, i:8) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_8
2019-10-02 11:41:20,296 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-14A0B8627E95: Finished taking a snapshot at:(t:1, i:8) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/6c68bec6-a385-47c1-ba71-14a0b8627e95/sm/snapshot.1_8 time:3
2019-10-02 11:41:20,296 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: Took a snapshot at index 8
2019-10-02 11:41:20,296 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-StateMachineUpdater: snapshotIndex: updateIncreasingly 8 -> 8
2019-10-02 11:41:20,297 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95: closes. applyIndex: 10
2019-10-02 11:41:20,297 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 11:41:20,298 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-14A0B8627E95-SegmentedRaftLogWorker close()
2019-10-02 11:41:20,352 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(67)) - Pipeline destroy failed for pipeline=PipelineID=6c68bec6-a385-47c1-ba71-14a0b8627e95 dn=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}
2019-10-02 11:41:20,352 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 6c68bec6-a385-47c1-ba71-14a0b8627e95, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-02 11:41:23,894 [Thread-193] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:group-9C006B9AA9A5 changes to CANDIDATE, lastRpcTime:5167, electionTimeout:5167ms
2019-10-02 11:41:23,895 [Thread-193] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown FollowerState
2019-10-02 11:41:23,895 [Thread-193] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 11:41:23,895 [Thread-193] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderElection
2019-10-02 11:41:23,910 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3: begin an election at term 1 for -1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:41:23,910 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderElection
2019-10-02 11:41:23,910 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 11:41:23,910 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: change Leader from null to 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at term 1 for becomeLeader, leader elected after 5207ms
2019-10-02 11:41:23,911 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 11:41:23,911 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 11:41:23,911 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 11:41:23,911 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 11:41:23,911 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 11:41:23,911 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 11:41:23,914 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderState
2019-10-02 11:41:23,914 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 11:41:23,915 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:41:23,941 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/current/log_inprogress_0
2019-10-02 11:41:25,803 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-9C006B9AA9A5: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_1
2019-10-02 11:41:25,814 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-9C006B9AA9A5: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_1 time:12
2019-10-02 11:41:25,814 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 11:41:25,814 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-02 11:41:25,871 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-9C006B9AA9A5: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_1
2019-10-02 11:41:25,875 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-9C006B9AA9A5: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_1 time:4
2019-10-02 11:41:25,875 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 11:41:25,875 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-10-02 11:41:25,988 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-02 11:41:28,881 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=5a22c3b4-0967-41b5-b537-9c006b9aa9a5]
2019-10-02 11:41:28,882 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: 5a22c3b4-0967-41b5-b537-9c006b9aa9a5, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:41:28,882 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 5a22c3b4-0967-41b5-b537-9c006b9aa9a5, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-02 11:41:28,882 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #2
2019-10-02 11:41:30,883 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-10-02 11:41:30,886 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: close
2019-10-02 11:41:30,887 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: shutdown
2019-10-02 11:41:30,887 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9C006B9AA9A5,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:41:30,888 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderState
2019-10-02 11:41:30,888 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5-PendingRequests: sendNotLeaderResponses
2019-10-02 11:41:30,894 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: set stopIndex = 4
2019-10-02 11:41:30,895 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-9C006B9AA9A5: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_4
2019-10-02 11:41:30,912 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-9C006B9AA9A5: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_4 time:18
2019-10-02 11:41:30,913 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:41:30,913 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-10-02 11:41:30,914 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: closes. applyIndex: 4
2019-10-02 11:41:30,914 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 11:41:30,915 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker close()
2019-10-02 11:41:30,917 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown server with port 33044 now
2019-10-02 11:41:30,919 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown server with port 33044 successfully
2019-10-02 11:41:30,922 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-02 11:41:30,942 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-10-02 11:41:30,945 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-02 11:41:30,946 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@4f327096{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-02 11:41:30,948 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1d61a348{HTTP/1.1,[http/1.1]}{0.0.0.0:44371}
2019-10-02 11:41:30,948 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1b5a1d85{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-02 11:41:30,949 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7da31a40{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-02 11:41:30,951 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-10-02 11:41:30,954 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-02 11:41:30,958 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2164-trunk-xhc96-1404769113 ip:192.168.151.102
2019-10-02 11:41:30,962 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers : 4096 
2019-10-02 11:41:30,962 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-02 11:41:30,963 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers/hdds to VolumeSet
2019-10-02 11:41:30,963 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@30c4e352
2019-10-02 11:41:30,964 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@30c4e352
2019-10-02 11:41:31,002 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-02 11:41:31,003 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-02 11:41:31,003 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33044 (custom)
2019-10-02 11:41:31,003 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-02 11:41:31,004 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:41:31,004 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-02 11:41:31,004 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-02 11:41:31,005 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:41:31,006 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5
2019-10-02 11:41:31,006 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: addNew group-9C006B9AA9A5:[] returns group-9C006B9AA9A5:java.util.concurrent.CompletableFuture@724b939e[Not completed]
2019-10-02 11:41:31,021 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: new RaftServerImpl for group-9C006B9AA9A5:[] with ContainerStateMachine:uninitialized
2019-10-02 11:41:31,021 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:44371
2019-10-02 11:41:31,021 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 11:41:31,022 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 11:41:31,022 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 11:41:31,022 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 11:41:31,022 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 11:41:31,022 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-10-02 11:41:31,022 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:41:31,023 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-02 11:41:31,023 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-02 11:41:31,025 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-02 11:41:31,025 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-02 11:41:31,026 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-02 11:41:31,026 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-02 11:41:31,026 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/in_use.lock acquired by nodename 19721@pr-hdds-2164-trunk-xhc96-1404769113
2019-10-02 11:41:31,027 [pool-51-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-9C006B9AA9A5: Setting the last applied index to (t:1, i:4)
2019-10-02 11:41:31,027 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 44371
2019-10-02 11:41:31,027 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-02 11:41:31,027 [pool-51-thread-1] WARN  impl.ContainerSet (ContainerSet.java:lambda$buildMissingContainerSetAndValidate$1(264)) - Marking container 2 unhealthy as reported BCSID 0 is smaller than ratis snapshot recorded value 3
2019-10-02 11:41:31,029 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@35c9a231{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-02 11:41:31,030 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5626d18c{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-02 11:41:31,036 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:41:31,036 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 11:41:31,036 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 11:41:31,036 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 11:41:31,036 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:41:31,036 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:41:31,037 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 11:41:31,037 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5
2019-10-02 11:41:31,037 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 11:41:31,037 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 11:41:31,037 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:41:31,037 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 11:41:31,037 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 11:41:31,037 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 11:41:31,037 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 11:41:31,038 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 11:41:31,038 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 11:41:31,038 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 11:41:31,038 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:41:31,039 [pool-51-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(123)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/current/log_inprogress_0
2019-10-02 11:41:31,041 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
2019-10-02 11:41:31,059 [pool-51-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLog: commitIndex: updateToMax old=4, new=3, updated? false
2019-10-02 11:41:31,059 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 11:41:31,059 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 11:41:31,060 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-10-02 11:41:31,060 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 11:41:31,071 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@2a334bac{/,file:///tmp/jetty-0.0.0.0-44371-hddsDatanode-_-any-5160528857880938159.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-02 11:41:31,072 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@470d183{HTTP/1.1,[http/1.1]}{0.0.0.0:44371}
2019-10-02 11:41:31,073 [main] INFO  server.Server (Server.java:doStart(419)) - Started @41566ms
2019-10-02 11:41:31,073 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-02 11:41:31,074 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:44371
2019-10-02 11:41:31,074 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:31,075 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@67b66d0c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-02 11:41:32,074 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:33,075 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:33,077 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-10-02 11:41:33,077 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-10-02 11:41:33,077 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at port 33044
2019-10-02 11:41:33,084 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: start as a follower, conf=0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:41:33,084 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-10-02 11:41:33,084 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start FollowerState
2019-10-02 11:41:33,085 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9C006B9AA9A5,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:41:33,085 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start RPC server
2019-10-02 11:41:33,087 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: GrpcService started, listening on 0.0.0.0/0.0.0.0:33044
2019-10-02 11:41:34,075 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:35,076 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:36,077 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:37,077 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:41:37,115 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: addNew group-A9ACA0C94496:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] returns group-A9ACA0C94496:java.util.concurrent.CompletableFuture@75d1c6b7[Not completed]
2019-10-02 11:41:37,119 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: new RaftServerImpl for group-A9ACA0C94496:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] with ContainerStateMachine:uninitialized
2019-10-02 11:41:37,119 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 11:41:37,119 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 11:41:37,120 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 11:41:37,120 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 11:41:37,120 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 11:41:37,120 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496: ConfigurationManager, init=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null, confs=<EMPTY_MAP>
2019-10-02 11:41:37,121 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:41:37,121 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5dd36253-884a-48cd-9b35-a9aca0c94496 does not exist. Creating ...
2019-10-02 11:41:37,143 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5dd36253-884a-48cd-9b35-a9aca0c94496/in_use.lock acquired by nodename 19721@pr-hdds-2164-trunk-xhc96-1404769113
2019-10-02 11:41:37,147 [pool-51-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5dd36253-884a-48cd-9b35-a9aca0c94496 has been successfully formatted.
2019-10-02 11:41:37,147 [pool-51-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-A9ACA0C94496: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 11:41:37,147 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 11:41:37,148 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 11:41:37,148 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 11:41:37,148 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:41:37,148 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:41:37,149 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 11:41:37,149 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5dd36253-884a-48cd-9b35-a9aca0c94496
2019-10-02 11:41:37,149 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 11:41:37,149 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 11:41:37,150 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:41:37,150 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 11:41:37,150 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 11:41:37,150 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 11:41:37,150 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 11:41:37,150 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 11:41:37,151 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 11:41:37,151 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 11:41:37,151 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 11:41:37,152 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 11:41:37,152 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 11:41:37,152 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-10-02 11:41:37,152 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 11:41:37,158 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496: start as a follower, conf=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:41:37,158 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 11:41:37,158 [pool-51-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start FollowerState
2019-10-02 11:41:37,159 [pool-51-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A9ACA0C94496,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:41:37,165 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 5dd36253-884a-48cd-9b35-a9aca0c94496, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:41:38,079 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-02 11:41:38,173 [Thread-226] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:group-9C006B9AA9A5 changes to CANDIDATE, lastRpcTime:5088, electionTimeout:5088ms
2019-10-02 11:41:38,173 [Thread-226] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown FollowerState
2019-10-02 11:41:38,173 [Thread-226] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-02 11:41:38,173 [Thread-226] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderElection
2019-10-02 11:41:38,188 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4: begin an election at term 2 for 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:41:38,188 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderElection
2019-10-02 11:41:38,189 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-10-02 11:41:38,189 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: change Leader from null to 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at term 2 for becomeLeader, leader elected after 7152ms
2019-10-02 11:41:38,189 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 11:41:38,189 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 11:41:38,189 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 11:41:38,189 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 11:41:38,189 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 11:41:38,190 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 11:41:38,190 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderState
2019-10-02 11:41:38,190 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-10-02 11:41:38,191 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: set configuration 5: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 5
2019-10-02 11:41:38,191 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/current/log_0-4
2019-10-02 11:41:38,228 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/current/log_inprogress_5
2019-10-02 11:41:38,240 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-9C006B9AA9A5: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_4
2019-10-02 11:41:38,252 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-9C006B9AA9A5: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_4 time:12
2019-10-02 11:41:38,253 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:41:38,253 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 11:41:38,253 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-9C006B9AA9A5: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_4
2019-10-02 11:41:38,287 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-9C006B9AA9A5: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_4 time:34
2019-10-02 11:41:38,288 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:41:38,288 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 11:41:38,893 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: remove    LEADER 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5:t2, leader=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5, voted=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5, raftlog=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null RUNNING
2019-10-02 11:41:38,894 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: shutdown
2019-10-02 11:41:38,894 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9C006B9AA9A5,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:41:38,894 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderState
2019-10-02 11:41:38,895 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5-PendingRequests: sendNotLeaderResponses
2019-10-02 11:41:38,898 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: set stopIndex = 6
2019-10-02 11:41:38,898 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-9C006B9AA9A5: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_4
2019-10-02 11:41:38,911 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-9C006B9AA9A5: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_4 time:13
2019-10-02 11:41:38,911 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:41:38,911 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 11:41:38,911 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-9C006B9AA9A5: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_4
2019-10-02 11:41:38,923 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-9C006B9AA9A5: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5a22c3b4-0967-41b5-b537-9c006b9aa9a5/sm/snapshot.1_4 time:12
2019-10-02 11:41:38,924 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:41:38,924 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 11:41:38,924 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5: closes. applyIndex: 6
2019-10-02 11:41:38,924 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 11:41:38,925 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-9C006B9AA9A5-SegmentedRaftLogWorker close()
2019-10-02 11:41:38,937 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 5a22c3b4-0967-41b5-b537-9c006b9aa9a5, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-02 11:41:42,257 [Thread-230] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:group-A9ACA0C94496 changes to CANDIDATE, lastRpcTime:5098, electionTimeout:5098ms
2019-10-02 11:41:42,257 [Thread-230] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown FollowerState
2019-10-02 11:41:42,258 [Thread-230] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 11:41:42,258 [Thread-230] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderElection
2019-10-02 11:41:42,265 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5: begin an election at term 1 for -1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:41:42,265 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderElection
2019-10-02 11:41:42,265 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 11:41:42,265 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496: change Leader from null to 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at term 1 for becomeLeader, leader elected after 5118ms
2019-10-02 11:41:42,266 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 11:41:42,266 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 11:41:42,266 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 11:41:42,266 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 11:41:42,266 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 11:41:42,267 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 11:41:42,271 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderState
2019-10-02 11:41:42,271 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 11:41:42,272 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:41:42,322 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5dd36253-884a-48cd-9b35-a9aca0c94496/current/log_inprogress_0
2019-10-02 11:41:44,288 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-A9ACA0C94496: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5dd36253-884a-48cd-9b35-a9aca0c94496/sm/snapshot.1_1
2019-10-02 11:41:44,300 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-A9ACA0C94496: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5dd36253-884a-48cd-9b35-a9aca0c94496/sm/snapshot.1_1 time:12
2019-10-02 11:41:44,300 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 11:41:44,300 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-02 11:41:44,331 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-A9ACA0C94496: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5dd36253-884a-48cd-9b35-a9aca0c94496/sm/snapshot.1_4
2019-10-02 11:41:44,334 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-A9ACA0C94496: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/5dd36253-884a-48cd-9b35-a9aca0c94496/sm/snapshot.1_4 time:4
2019-10-02 11:41:44,335 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:41:44,335 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-10-02 11:41:44,337 [pool-50-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(234)) - Chunks path does not exist
2019-10-02 11:41:44,337 [pool-50-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: e0e4a5f522642739:e0e4a5f522642739:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-10-02 11:41:44,340 [pool-50-thread-2] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(908)) - Unexpected error while marking container 3 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 3
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:237)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:257)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:356)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:298)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:903)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:312)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:444)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:726)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:222)
	... 13 more
2019-10-02 11:41:44,344 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #3 is in OPEN state, but the datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
11:41:44.350 [pool-50-thread-2] ERROR DNAudit - user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 3 locID: 102892601219547140 bcsId: 3} | ret=FAILURE
java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:330) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:444) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-10-02 11:41:44,360 [pool-50-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(464)) - group-A9ACA0C94496: writeChunk writeStateMachineData failed: blockIdcontainerID: 3
localID: 102892601219547140
blockCommitSequenceId: 3
 logIndex 5 chunkName 102892601219547140_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-10-02 11:41:44,367 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(575)) - pipeline Action CLOSE  on pipeline PipelineID=5dd36253-884a-48cd-9b35-a9aca0c94496.Reason : Unable to get Chunks directory.
2019-10-02 11:41:44,368 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(575)) - pipeline Action CLOSE  on pipeline PipelineID=5dd36253-884a-48cd-9b35-a9aca0c94496.Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-00C9465C0549, cid=13
2019-10-02 11:41:44,371 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 5dd36253-884a-48cd-9b35-a9aca0c94496, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-10-02 11:41:44,371 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: 5dd36253-884a-48cd-9b35-a9aca0c94496, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:41:44,371 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-10-02 11:41:44,372 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 5dd36253-884a-48cd-9b35-a9aca0c94496, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-02 11:41:44,372 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-10-02 11:41:54,379 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: remove    LEADER 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496:t1, leader=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5, voted=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5, raftlog=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-SegmentedRaftLog:OPENED:c4,f4,i6, conf=0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null RUNNING
2019-10-02 11:41:54,379 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496: shutdown
2019-10-02 11:41:54,380 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A9ACA0C94496,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:41:54,380 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderState
2019-10-02 11:41:54,380 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5-PendingRequests: sendNotLeaderResponses
2019-10-02 11:41:54,384 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-StateMachineUpdater: set stopIndex = 4
2019-10-02 11:41:54,384 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496: closes. applyIndex: 4
2019-10-02 11:41:54,385 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 11:41:54,386 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-A9ACA0C94496-SegmentedRaftLogWorker close()
2019-10-02 11:41:54,392 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 5dd36253-884a-48cd-9b35-a9aca0c94496, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-02 11:41:54,399 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: addNew group-721E40184C00:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] returns group-721E40184C00:java.util.concurrent.CompletableFuture@212bc1cd[Not completed]
2019-10-02 11:41:54,402 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: new RaftServerImpl for group-721E40184C00:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] with ContainerStateMachine:uninitialized
2019-10-02 11:41:54,402 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 11:41:54,402 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 11:41:54,402 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 11:41:54,402 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 11:41:54,402 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 11:41:54,403 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: ConfigurationManager, init=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null, confs=<EMPTY_MAP>
2019-10-02 11:41:54,403 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:41:54,403 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00 does not exist. Creating ...
2019-10-02 11:41:54,416 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/in_use.lock acquired by nodename 19721@pr-hdds-2164-trunk-xhc96-1404769113
2019-10-02 11:41:54,429 [pool-51-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00 has been successfully formatted.
2019-10-02 11:41:54,429 [pool-51-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-721E40184C00: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 11:41:54,429 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 11:41:54,429 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 11:41:54,430 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 11:41:54,430 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:41:54,430 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:41:54,430 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 11:41:54,430 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00
2019-10-02 11:41:54,430 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 11:41:54,431 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 11:41:54,431 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:41:54,431 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 11:41:54,431 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 11:41:54,431 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 11:41:54,431 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 11:41:54,431 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 11:41:54,432 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 11:41:54,432 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 11:41:54,432 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 11:41:54,432 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 11:41:54,432 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 11:41:54,433 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-10-02 11:41:54,433 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 11:41:54,436 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: start as a follower, conf=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:41:54,436 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 11:41:54,436 [pool-51-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start FollowerState
2019-10-02 11:41:54,437 [pool-51-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-721E40184C00,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:41:54,444 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 41b4c20c-7c29-4139-b151-721e40184c00, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:41:56,394 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(274)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: group-A9ACA0C94496 not found. on the pipeline Pipeline[ Id: 5dd36253-884a-48cd-9b35-a9aca0c94496, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-10-02 11:41:59,545 [Thread-257] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:group-721E40184C00 changes to CANDIDATE, lastRpcTime:5108, electionTimeout:5108ms
2019-10-02 11:41:59,546 [Thread-257] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown FollowerState
2019-10-02 11:41:59,547 [Thread-257] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 11:41:59,547 [Thread-257] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderElection
2019-10-02 11:41:59,562 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6: begin an election at term 1 for -1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:41:59,563 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderElection
2019-10-02 11:41:59,564 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 11:41:59,564 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: change Leader from null to 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at term 1 for becomeLeader, leader elected after 5134ms
2019-10-02 11:41:59,564 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 11:41:59,564 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 11:41:59,564 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 11:41:59,564 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 11:41:59,564 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 11:41:59,565 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 11:41:59,568 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderState
2019-10-02 11:41:59,569 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 11:41:59,569 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:41:59,605 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/current/log_inprogress_0
2019-10-02 11:42:00,581 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-721E40184C00: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_1
2019-10-02 11:42:00,601 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-721E40184C00: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_1 time:20
2019-10-02 11:42:00,601 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 11:42:00,602 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-02 11:42:00,672 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-721E40184C00: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_1
2019-10-02 11:42:00,676 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-721E40184C00: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_1 time:4
2019-10-02 11:42:00,676 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 11:42:00,676 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-10-02 11:42:00,758 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-02 11:42:03,634 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=41b4c20c-7c29-4139-b151-721e40184c00]
2019-10-02 11:42:03,635 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: 41b4c20c-7c29-4139-b151-721e40184c00, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:42:03,635 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 41b4c20c-7c29-4139-b151-721e40184c00, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-02 11:42:03,636 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #4
2019-10-02 11:42:05,688 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-10-02 11:42:05,689 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: close
2019-10-02 11:42:05,689 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: shutdown
2019-10-02 11:42:05,689 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-721E40184C00,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:42:05,689 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderState
2019-10-02 11:42:05,690 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5-PendingRequests: sendNotLeaderResponses
2019-10-02 11:42:05,694 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: set stopIndex = 4
2019-10-02 11:42:05,694 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-721E40184C00: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_4
2019-10-02 11:42:05,708 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-721E40184C00: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_4 time:14
2019-10-02 11:42:05,709 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:42:05,709 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-10-02 11:42:05,709 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: closes. applyIndex: 4
2019-10-02 11:42:05,710 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 11:42:05,713 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker close()
2019-10-02 11:42:05,715 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown server with port 33044 now
2019-10-02 11:42:05,716 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown server with port 33044 successfully
2019-10-02 11:42:05,725 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-02 11:42:05,740 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-10-02 11:42:05,743 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-02 11:42:05,744 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@2a334bac{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-02 11:42:05,745 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@470d183{HTTP/1.1,[http/1.1]}{0.0.0.0:44371}
2019-10-02 11:42:05,745 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5626d18c{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-02 11:42:05,746 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@35c9a231{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-02 11:42:05,747 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-10-02 11:42:05,750 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-02 11:42:05,754 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2164-trunk-xhc96-1404769113 ip:192.168.151.102
2019-10-02 11:42:05,756 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers : 4096 
2019-10-02 11:42:05,756 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-02 11:42:05,757 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers/hdds to VolumeSet
2019-10-02 11:42:05,757 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@62b790a5
2019-10-02 11:42:05,757 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@62b790a5
2019-10-02 11:42:05,780 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-02 11:42:05,780 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-02 11:42:05,780 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33044 (custom)
2019-10-02 11:42:05,780 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-02 11:42:05,781 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:42:05,781 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-02 11:42:05,781 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-02 11:42:05,782 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:42:05,782 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00
2019-10-02 11:42:05,783 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: addNew group-721E40184C00:[] returns group-721E40184C00:java.util.concurrent.CompletableFuture@52bf7bf6[Not completed]
2019-10-02 11:42:05,784 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:44371
2019-10-02 11:42:05,787 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: new RaftServerImpl for group-721E40184C00:[] with ContainerStateMachine:uninitialized
2019-10-02 11:42:05,787 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-02 11:42:05,787 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 11:42:05,787 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 11:42:05,788 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-02 11:42:05,788 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 11:42:05,788 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 11:42:05,788 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 11:42:05,788 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-10-02 11:42:05,789 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:42:05,789 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-02 11:42:05,790 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-02 11:42:05,790 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-02 11:42:05,790 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-02 11:42:05,791 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 44371
2019-10-02 11:42:05,791 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-02 11:42:05,792 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@73971965{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-02 11:42:05,793 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@17410c07{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-02 11:42:05,802 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/in_use.lock acquired by nodename 19721@pr-hdds-2164-trunk-xhc96-1404769113
2019-10-02 11:42:05,803 [pool-63-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-721E40184C00: Setting the last applied index to (t:1, i:4)
2019-10-02 11:42:05,803 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:42:05,803 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 11:42:05,803 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 11:42:05,804 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 11:42:05,804 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:42:05,804 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:42:05,804 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 11:42:05,804 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00
2019-10-02 11:42:05,804 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 11:42:05,805 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 11:42:05,805 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:42:05,805 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 11:42:05,805 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 11:42:05,805 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 11:42:05,805 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 11:42:05,805 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 11:42:05,806 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 11:42:05,806 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 11:42:05,806 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:42:05,807 [pool-63-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(123)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/current/log_inprogress_0
2019-10-02 11:42:05,808 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
2019-10-02 11:42:05,820 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@40f35e52{/,file:///tmp/jetty-0.0.0.0-44371-hddsDatanode-_-any-1828155366447752759.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-02 11:42:05,833 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@340d6d89{HTTP/1.1,[http/1.1]}{0.0.0.0:44371}
2019-10-02 11:42:05,833 [pool-63-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLog: commitIndex: updateToMax old=4, new=3, updated? false
2019-10-02 11:42:05,834 [main] INFO  server.Server (Server.java:doStart(419)) - Started @76327ms
2019-10-02 11:42:05,834 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-02 11:42:05,834 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 11:42:05,834 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 11:42:05,835 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-10-02 11:42:05,835 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 11:42:05,835 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:44371
2019-10-02 11:42:05,835 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:05,836 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@d606a64] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-02 11:42:06,836 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:07,836 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:07,840 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-10-02 11:42:07,841 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-10-02 11:42:07,841 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at port 33044
2019-10-02 11:42:07,851 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: start as a follower, conf=0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:42:07,851 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-10-02 11:42:07,852 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start FollowerState
2019-10-02 11:42:07,858 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-721E40184C00,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:42:07,866 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start RPC server
2019-10-02 11:42:07,868 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: GrpcService started, listening on 0.0.0.0/0.0.0.0:33044
2019-10-02 11:42:08,837 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:09,838 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:10,838 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:11,839 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:11,862 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: addNew group-7A4266DD54EB:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] returns group-7A4266DD54EB:java.util.concurrent.CompletableFuture@aaf7b85[Not completed]
2019-10-02 11:42:11,864 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: new RaftServerImpl for group-7A4266DD54EB:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] with ContainerStateMachine:uninitialized
2019-10-02 11:42:11,865 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 11:42:11,865 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 11:42:11,865 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 11:42:11,865 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 11:42:11,865 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 11:42:11,865 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB: ConfigurationManager, init=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null, confs=<EMPTY_MAP>
2019-10-02 11:42:11,865 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:42:11,866 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/f788a998-9f38-4531-a24d-7a4266dd54eb does not exist. Creating ...
2019-10-02 11:42:11,931 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/f788a998-9f38-4531-a24d-7a4266dd54eb/in_use.lock acquired by nodename 19721@pr-hdds-2164-trunk-xhc96-1404769113
2019-10-02 11:42:11,948 [pool-63-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/f788a998-9f38-4531-a24d-7a4266dd54eb has been successfully formatted.
2019-10-02 11:42:11,948 [pool-63-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-7A4266DD54EB: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 11:42:11,948 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 11:42:11,949 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 11:42:11,949 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 11:42:11,949 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:42:11,950 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:42:11,950 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 11:42:11,950 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/f788a998-9f38-4531-a24d-7a4266dd54eb
2019-10-02 11:42:11,950 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 11:42:11,951 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 11:42:11,951 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:42:11,951 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 11:42:11,951 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 11:42:11,952 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 11:42:11,952 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 11:42:11,952 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 11:42:11,953 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 11:42:11,953 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 11:42:11,954 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 11:42:11,955 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 11:42:11,955 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 11:42:11,955 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-10-02 11:42:11,956 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 11:42:11,963 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB: start as a follower, conf=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:42:11,963 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 11:42:11,963 [pool-63-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start FollowerState
2019-10-02 11:42:11,964 [pool-63-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7A4266DD54EB,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:42:11,972 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: f788a998-9f38-4531-a24d-7a4266dd54eb, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:42:12,840 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-02 11:42:13,048 [Thread-286] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:group-721E40184C00 changes to CANDIDATE, lastRpcTime:5195, electionTimeout:5190ms
2019-10-02 11:42:13,048 [Thread-286] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown FollowerState
2019-10-02 11:42:13,048 [Thread-286] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-02 11:42:13,048 [Thread-286] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderElection
2019-10-02 11:42:13,119 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7: begin an election at term 2 for 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:42:13,120 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderElection
2019-10-02 11:42:13,120 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-10-02 11:42:13,120 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: change Leader from null to 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at term 2 for becomeLeader, leader elected after 7316ms
2019-10-02 11:42:13,120 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 11:42:13,120 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 11:42:13,120 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 11:42:13,121 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 11:42:13,121 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 11:42:13,121 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 11:42:13,121 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderState
2019-10-02 11:42:13,122 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-10-02 11:42:13,123 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: set configuration 5: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 5
2019-10-02 11:42:13,123 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/current/log_0-4
2019-10-02 11:42:13,213 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/current/log_inprogress_5
2019-10-02 11:42:13,225 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-721E40184C00: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_4
2019-10-02 11:42:13,272 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-721E40184C00: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_4 time:47
2019-10-02 11:42:13,272 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:42:13,272 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 11:42:13,272 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-721E40184C00: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_4
2019-10-02 11:42:13,286 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-721E40184C00: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_4 time:14
2019-10-02 11:42:13,287 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:42:13,287 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 11:42:13,646 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: remove    LEADER 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00:t2, leader=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5, voted=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5, raftlog=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null RUNNING
2019-10-02 11:42:13,646 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: shutdown
2019-10-02 11:42:13,647 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-721E40184C00,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:42:13,647 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderState
2019-10-02 11:42:13,647 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5-PendingRequests: sendNotLeaderResponses
2019-10-02 11:42:13,650 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: set stopIndex = 6
2019-10-02 11:42:13,650 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-721E40184C00: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_4
2019-10-02 11:42:13,739 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-721E40184C00: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_4 time:89
2019-10-02 11:42:13,740 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:42:13,740 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 11:42:13,740 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-721E40184C00: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_4
2019-10-02 11:42:13,788 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-721E40184C00: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/41b4c20c-7c29-4139-b151-721e40184c00/sm/snapshot.1_4 time:48
2019-10-02 11:42:13,788 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:42:13,789 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 11:42:13,789 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00: closes. applyIndex: 6
2019-10-02 11:42:13,789 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 11:42:13,791 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-721E40184C00-SegmentedRaftLogWorker close()
2019-10-02 11:42:13,822 [grpc-default-executor-0] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 4 is synced with bcsId 3.
2019-10-02 11:42:13,822 [grpc-default-executor-0] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 4 is synced with bcsId 3.
2019-10-02 11:42:13,842 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(169)) - Moving container #4 to QUASI_CLOSED state, datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null} reported QUASI_CLOSED replica.
2019-10-02 11:42:13,847 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 41b4c20c-7c29-4139-b151-721e40184c00, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-02 11:42:17,108 [Thread-290] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:group-7A4266DD54EB changes to CANDIDATE, lastRpcTime:5144, electionTimeout:5144ms
2019-10-02 11:42:17,109 [Thread-290] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown FollowerState
2019-10-02 11:42:17,109 [Thread-290] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 11:42:17,109 [Thread-290] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderElection
2019-10-02 11:42:17,134 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8: begin an election at term 1 for -1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:42:17,134 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderElection
2019-10-02 11:42:17,135 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 11:42:17,135 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB: change Leader from null to 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at term 1 for becomeLeader, leader elected after 5186ms
2019-10-02 11:42:17,135 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 11:42:17,135 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 11:42:17,135 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 11:42:17,136 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 11:42:17,136 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 11:42:17,136 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 11:42:17,140 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderState
2019-10-02 11:42:17,140 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 11:42:17,141 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:LeaderElection8] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:42:17,188 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/f788a998-9f38-4531-a24d-7a4266dd54eb/current/log_inprogress_0
2019-10-02 11:42:19,040 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-7A4266DD54EB: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/f788a998-9f38-4531-a24d-7a4266dd54eb/sm/snapshot.1_1
2019-10-02 11:42:19,053 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-7A4266DD54EB: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/f788a998-9f38-4531-a24d-7a4266dd54eb/sm/snapshot.1_1 time:14
2019-10-02 11:42:19,054 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 11:42:19,054 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-02 11:42:19,099 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-7A4266DD54EB: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/f788a998-9f38-4531-a24d-7a4266dd54eb/sm/snapshot.1_4
2019-10-02 11:42:19,105 [pool-62-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(234)) - Chunks path does not exist
2019-10-02 11:42:19,106 [pool-62-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: 1d3630984d4e9f98:1d3630984d4e9f98:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-10-02 11:42:19,113 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-7A4266DD54EB: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/f788a998-9f38-4531-a24d-7a4266dd54eb/sm/snapshot.1_4 time:14
2019-10-02 11:42:19,114 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:42:19,114 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
11:42:19.115 [pool-62-thread-2] ERROR DNAudit - user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 5 locID: 102892603497447431 bcsId: 3} | ret=FAILURE
java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:330) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:444) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-10-02 11:42:19,118 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #5 is in OPEN state, but the datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-10-02 11:42:19,119 [EventQueue-ContainerReportForContainerReportHandler] WARN  container.ContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #5 is in OPEN state, but the datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-10-02 11:42:19,119 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #5
2019-10-02 11:42:19,121 [pool-62-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(464)) - group-7A4266DD54EB: writeChunk writeStateMachineData failed: blockIdcontainerID: 5
localID: 102892603497447431
blockCommitSequenceId: 3
 logIndex 5 chunkName 102892603497447431_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-10-02 11:42:19,122 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(575)) - pipeline Action CLOSE  on pipeline PipelineID=f788a998-9f38-4531-a24d-7a4266dd54eb.Reason : Unable to get Chunks directory.
2019-10-02 11:42:19,122 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(575)) - pipeline Action CLOSE  on pipeline PipelineID=f788a998-9f38-4531-a24d-7a4266dd54eb.Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-986B1DA15359, cid=23
2019-10-02 11:42:19,122 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: f788a998-9f38-4531-a24d-7a4266dd54eb, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-10-02 11:42:19,123 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: f788a998-9f38-4531-a24d-7a4266dd54eb, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:42:19,123 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: f788a998-9f38-4531-a24d-7a4266dd54eb, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-02 11:42:19,124 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: f788a998-9f38-4531-a24d-7a4266dd54eb, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] from datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}. Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-986B1DA15359, cid=23
2019-10-02 11:42:19,124 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: f788a998-9f38-4531-a24d-7a4266dd54eb, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
2019-10-02 11:42:29,142 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: remove    LEADER 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB:t1, leader=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5, voted=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5, raftlog=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-SegmentedRaftLog:OPENED:c4,f4,i6, conf=0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null RUNNING
2019-10-02 11:42:29,143 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB: shutdown
2019-10-02 11:42:29,144 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7A4266DD54EB,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:42:29,144 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderState
2019-10-02 11:42:29,144 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5-PendingRequests: sendNotLeaderResponses
2019-10-02 11:42:29,148 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-StateMachineUpdater: set stopIndex = 4
2019-10-02 11:42:29,149 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB: closes. applyIndex: 4
2019-10-02 11:42:29,149 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 11:42:29,150 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-7A4266DD54EB-SegmentedRaftLogWorker close()
2019-10-02 11:42:29,156 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: f788a998-9f38-4531-a24d-7a4266dd54eb, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-02 11:42:29,161 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: remove group-7A4266DD54EB:null
2019-10-02 11:42:29,168 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(67)) - Pipeline destroy failed for pipeline=PipelineID=f788a998-9f38-4531-a24d-7a4266dd54eb dn=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}
2019-10-02 11:42:29,168 [RatisPipelineUtilsThread] ERROR pipeline.SCMPipelineManager (Scheduler.java:lambda$schedule$1(70)) - Destroy pipeline failed for pipeline:Pipeline[ Id: f788a998-9f38-4531-a24d-7a4266dd54eb, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=f788a998-9f38-4531-a24d-7a4266dd54eb not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:132)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.removePipeline(PipelineStateMap.java:322)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.removePipeline(PipelineStateManager.java:107)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.removePipeline(SCMPipelineManager.java:427)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.destroyPipeline(SCMPipelineManager.java:413)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.lambda$finalizeAndDestroyPipeline$0(SCMPipelineManager.java:322)
	at org.apache.hadoop.hdds.utils.Scheduler.lambda$schedule$1(Scheduler.java:68)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-10-02 11:42:29,174 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: addNew group-CB21B09186D4:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] returns group-CB21B09186D4:java.util.concurrent.CompletableFuture@515f0e95[Not completed]
2019-10-02 11:42:29,176 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: new RaftServerImpl for group-CB21B09186D4:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] with ContainerStateMachine:uninitialized
2019-10-02 11:42:29,177 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 11:42:29,177 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 11:42:29,177 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 11:42:29,177 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 11:42:29,177 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 11:42:29,177 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: ConfigurationManager, init=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null, confs=<EMPTY_MAP>
2019-10-02 11:42:29,177 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:42:29,178 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4 does not exist. Creating ...
2019-10-02 11:42:29,204 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/in_use.lock acquired by nodename 19721@pr-hdds-2164-trunk-xhc96-1404769113
2019-10-02 11:42:29,218 [pool-63-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4 has been successfully formatted.
2019-10-02 11:42:29,218 [pool-63-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-CB21B09186D4: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 11:42:29,218 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 11:42:29,219 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 11:42:29,219 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 11:42:29,219 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:42:29,219 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:42:29,219 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 11:42:29,220 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4
2019-10-02 11:42:29,220 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 11:42:29,220 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 11:42:29,220 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:42:29,220 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 11:42:29,221 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 11:42:29,221 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 11:42:29,221 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 11:42:29,221 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 11:42:29,221 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 11:42:29,221 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 11:42:29,222 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 11:42:29,222 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 11:42:29,222 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 11:42:29,222 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-10-02 11:42:29,222 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 11:42:29,225 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: start as a follower, conf=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:42:29,225 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 11:42:29,225 [pool-63-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start FollowerState
2019-10-02 11:42:29,225 [pool-63-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB21B09186D4,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:42:29,232 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 297e50e2-0110-44d4-bf36-cb21b09186d4, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:42:31,161 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(274)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: group-7A4266DD54EB not found. on the pipeline Pipeline[ Id: f788a998-9f38-4531-a24d-7a4266dd54eb, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-10-02 11:42:34,412 [Thread-316] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:group-CB21B09186D4 changes to CANDIDATE, lastRpcTime:5186, electionTimeout:5186ms
2019-10-02 11:42:34,413 [Thread-316] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown FollowerState
2019-10-02 11:42:34,413 [Thread-316] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 11:42:34,413 [Thread-316] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderElection
2019-10-02 11:42:34,429 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9: begin an election at term 1 for -1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:42:34,431 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderElection
2019-10-02 11:42:34,431 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 11:42:34,431 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: change Leader from null to 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at term 1 for becomeLeader, leader elected after 5212ms
2019-10-02 11:42:34,431 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 11:42:34,432 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 11:42:34,432 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 11:42:34,432 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 11:42:34,432 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 11:42:34,432 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 11:42:34,437 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderState
2019-10-02 11:42:34,437 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 11:42:34,438 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection9] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:42:34,481 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/current/log_inprogress_0
2019-10-02 11:42:35,346 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-CB21B09186D4: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/sm/snapshot.1_1
2019-10-02 11:42:35,360 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-CB21B09186D4: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/sm/snapshot.1_1 time:14
2019-10-02 11:42:35,360 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 11:42:35,360 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-02 11:42:35,406 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-CB21B09186D4: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/sm/snapshot.1_4
2019-10-02 11:42:35,419 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-CB21B09186D4: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/sm/snapshot.1_4 time:13
2019-10-02 11:42:35,419 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:42:35,419 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-10-02 11:42:35,532 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-02 11:42:38,397 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=297e50e2-0110-44d4-bf36-cb21b09186d4]
2019-10-02 11:42:38,398 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: 297e50e2-0110-44d4-bf36-cb21b09186d4, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:42:38,398 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 297e50e2-0110-44d4-bf36-cb21b09186d4, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-02 11:42:38,399 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #6
2019-10-02 11:42:40,431 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-10-02 11:42:40,432 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: close
2019-10-02 11:42:40,432 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: shutdown
2019-10-02 11:42:40,432 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB21B09186D4,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:42:40,433 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderState
2019-10-02 11:42:40,433 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5-PendingRequests: sendNotLeaderResponses
2019-10-02 11:42:40,438 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: set stopIndex = 4
2019-10-02 11:42:40,438 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: closes. applyIndex: 4
2019-10-02 11:42:40,439 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 11:42:40,442 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker close()
2019-10-02 11:42:40,443 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown server with port 33044 now
2019-10-02 11:42:40,444 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown server with port 33044 successfully
2019-10-02 11:42:40,451 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-02 11:42:40,463 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-10-02 11:42:40,465 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-02 11:42:40,466 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@40f35e52{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-02 11:42:40,467 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@340d6d89{HTTP/1.1,[http/1.1]}{0.0.0.0:44371}
2019-10-02 11:42:40,467 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@17410c07{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-02 11:42:40,468 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@73971965{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-02 11:42:40,469 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-10-02 11:42:40,471 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-02 11:42:40,474 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2164-trunk-xhc96-1404769113 ip:192.168.151.102
2019-10-02 11:42:40,476 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers : 4096 
2019-10-02 11:42:40,477 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-02 11:42:40,477 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers/hdds to VolumeSet
2019-10-02 11:42:40,477 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@7c0777b5
2019-10-02 11:42:40,479 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@7c0777b5
2019-10-02 11:42:40,512 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-02 11:42:40,512 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-02 11:42:40,513 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33044 (custom)
2019-10-02 11:42:40,513 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-02 11:42:40,513 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:42:40,513 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-02 11:42:40,514 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-02 11:42:40,514 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:42:40,515 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4
2019-10-02 11:42:40,515 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: addNew group-CB21B09186D4:[] returns group-CB21B09186D4:java.util.concurrent.CompletableFuture@3e0fbeb5[Not completed]
2019-10-02 11:42:40,518 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: new RaftServerImpl for group-CB21B09186D4:[] with ContainerStateMachine:uninitialized
2019-10-02 11:42:40,518 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 11:42:40,518 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:44371
2019-10-02 11:42:40,518 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 11:42:40,519 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 11:42:40,519 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 11:42:40,519 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 11:42:40,519 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-10-02 11:42:40,519 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:42:40,520 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-02 11:42:40,520 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-02 11:42:40,522 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-02 11:42:40,522 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-02 11:42:40,522 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-02 11:42:40,522 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-02 11:42:40,523 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 44371
2019-10-02 11:42:40,523 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-02 11:42:40,525 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@56928e17{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-02 11:42:40,526 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5a49af50{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-02 11:42:40,533 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/in_use.lock acquired by nodename 19721@pr-hdds-2164-trunk-xhc96-1404769113
2019-10-02 11:42:40,534 [pool-75-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-CB21B09186D4: Setting the last applied index to (t:1, i:4)
2019-10-02 11:42:40,535 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:42:40,535 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 11:42:40,535 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 11:42:40,535 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 11:42:40,535 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:42:40,535 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:42:40,536 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 11:42:40,536 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4
2019-10-02 11:42:40,536 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 11:42:40,536 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 11:42:40,536 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:42:40,536 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 11:42:40,536 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 11:42:40,536 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 11:42:40,536 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 11:42:40,537 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 11:42:40,537 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 11:42:40,537 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 11:42:40,538 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:42:40,538 [pool-75-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(123)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/current/log_inprogress_0
2019-10-02 11:42:40,538 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
2019-10-02 11:42:40,552 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@58d6e55a{/,file:///tmp/jetty-0.0.0.0-44371-hddsDatanode-_-any-627893692366352203.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-02 11:42:40,552 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@751ae8a4{HTTP/1.1,[http/1.1]}{0.0.0.0:44371}
2019-10-02 11:42:40,561 [pool-75-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLog: commitIndex: updateToMax old=4, new=3, updated? false
2019-10-02 11:42:40,562 [main] INFO  server.Server (Server.java:doStart(419)) - Started @111055ms
2019-10-02 11:42:40,562 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-02 11:42:40,563 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 11:42:40,563 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 11:42:40,563 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-10-02 11:42:40,563 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 11:42:40,563 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:44371
2019-10-02 11:42:40,563 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:40,564 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@44e35271] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-02 11:42:41,564 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:42,564 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:42,566 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-10-02 11:42:42,566 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-10-02 11:42:42,566 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at port 33044
2019-10-02 11:42:42,573 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: start as a follower, conf=0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:42:42,573 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-10-02 11:42:42,573 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start FollowerState
2019-10-02 11:42:42,574 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB21B09186D4,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:42:42,575 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start RPC server
2019-10-02 11:42:42,576 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: GrpcService started, listening on 0.0.0.0/0.0.0.0:33044
2019-10-02 11:42:43,565 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:44,566 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:45,566 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:46,567 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 11:42:46,617 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: addNew group-2FE6F0C0A232:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] returns group-2FE6F0C0A232:java.util.concurrent.CompletableFuture@7c409061[Not completed]
2019-10-02 11:42:46,619 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: new RaftServerImpl for group-2FE6F0C0A232:[4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044] with ContainerStateMachine:uninitialized
2019-10-02 11:42:46,619 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 11:42:46,619 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 11:42:46,619 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 11:42:46,619 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 11:42:46,619 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 11:42:46,620 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232: ConfigurationManager, init=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null, confs=<EMPTY_MAP>
2019-10-02 11:42:46,620 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis] (custom)
2019-10-02 11:42:46,620 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/4924e145-d918-4acb-8b9c-2fe6f0c0a232 does not exist. Creating ...
2019-10-02 11:42:46,634 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/4924e145-d918-4acb-8b9c-2fe6f0c0a232/in_use.lock acquired by nodename 19721@pr-hdds-2164-trunk-xhc96-1404769113
2019-10-02 11:42:46,647 [pool-75-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/4924e145-d918-4acb-8b9c-2fe6f0c0a232 has been successfully formatted.
2019-10-02 11:42:46,647 [pool-75-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-2FE6F0C0A232: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 11:42:46,647 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 11:42:46,647 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 11:42:46,647 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 11:42:46,647 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 11:42:46,648 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:42:46,648 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 11:42:46,648 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/4924e145-d918-4acb-8b9c-2fe6f0c0a232
2019-10-02 11:42:46,648 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 11:42:46,648 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 11:42:46,648 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 11:42:46,648 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 11:42:46,649 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 11:42:46,649 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 11:42:46,649 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 11:42:46,649 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 11:42:46,649 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 11:42:46,649 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 11:42:46,649 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 11:42:46,650 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 11:42:46,650 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 11:42:46,650 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-10-02 11:42:46,650 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 11:42:46,653 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232: start as a follower, conf=-1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:42:46,653 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 11:42:46,653 [pool-75-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start FollowerState
2019-10-02 11:42:46,654 [pool-75-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2FE6F0C0A232,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:42:46,659 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 4924e145-d918-4acb-8b9c-2fe6f0c0a232, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:42:47,567 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-02 11:42:47,571 [main] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID:  : Message: Cannot close container #5 while in UNHEALTHY state. : Result: CONTAINER_UNHEALTHY
11:42:47.572 [main] ERROR DNAudit - user=null | ip=null | op=CLOSE_CONTAINER {containerID=5} | ret=FAILURE
java.lang.Exception: Cannot close container #5 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:330) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.client.rpc.TestContainerStateMachineFailures.testUnhealthyContainer(TestContainerStateMachineFailures.java:274) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_212]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_212]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_212]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_212]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47) [junit-4.11.jar:?]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.11.jar:?]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271) [junit-4.11.jar:?]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70) [junit-4.11.jar:?]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309) [junit-4.11.jar:?]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
2019-10-02 11:42:47,581 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #5
2019-10-02 11:42:47,647 [Thread-345] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:group-CB21B09186D4 changes to CANDIDATE, lastRpcTime:5073, electionTimeout:5073ms
2019-10-02 11:42:47,647 [Thread-345] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown FollowerState
2019-10-02 11:42:47,647 [Thread-345] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-02 11:42:47,647 [Thread-345] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderElection
2019-10-02 11:42:47,662 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10: begin an election at term 2 for 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:42:47,662 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderElection
2019-10-02 11:42:47,662 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-10-02 11:42:47,662 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: change Leader from null to 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at term 2 for becomeLeader, leader elected after 7127ms
2019-10-02 11:42:47,662 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 11:42:47,662 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 11:42:47,662 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 11:42:47,662 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 11:42:47,663 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 11:42:47,663 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 11:42:47,663 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderState
2019-10-02 11:42:47,663 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-10-02 11:42:47,664 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:LeaderElection10] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: set configuration 5: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 5
2019-10-02 11:42:47,665 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/current/log_0-4
2019-10-02 11:42:47,704 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/current/log_inprogress_5
2019-10-02 11:42:47,715 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-CB21B09186D4: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/sm/snapshot.1_4
2019-10-02 11:42:47,728 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-CB21B09186D4: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/sm/snapshot.1_4 time:13
2019-10-02 11:42:47,728 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:42:47,728 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 11:42:47,729 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-CB21B09186D4: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/sm/snapshot.1_4
2019-10-02 11:42:47,741 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-CB21B09186D4: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/sm/snapshot.1_4 time:12
2019-10-02 11:42:47,741 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:42:47,741 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 11:42:48,406 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: remove    LEADER 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4:t2, leader=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5, voted=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5, raftlog=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null RUNNING
2019-10-02 11:42:48,406 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: shutdown
2019-10-02 11:42:48,406 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB21B09186D4,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:42:48,406 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderState
2019-10-02 11:42:48,407 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5-PendingRequests: sendNotLeaderResponses
2019-10-02 11:42:48,409 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: set stopIndex = 6
2019-10-02 11:42:48,409 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-CB21B09186D4: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/sm/snapshot.1_4
2019-10-02 11:42:48,422 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-CB21B09186D4: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/sm/snapshot.1_4 time:13
2019-10-02 11:42:48,423 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:42:48,423 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 11:42:48,423 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-CB21B09186D4: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/sm/snapshot.1_4
2019-10-02 11:42:48,444 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-CB21B09186D4: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/297e50e2-0110-44d4-bf36-cb21b09186d4/sm/snapshot.1_4 time:21
2019-10-02 11:42:48,444 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:42:48,444 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 11:42:48,444 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4: closes. applyIndex: 6
2019-10-02 11:42:48,445 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 11:42:48,446 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-CB21B09186D4-SegmentedRaftLogWorker close()
2019-10-02 11:42:48,458 [grpc-default-executor-0] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 6 is synced with bcsId 3.
2019-10-02 11:42:48,458 [grpc-default-executor-0] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 6 is synced with bcsId 3.
2019-10-02 11:42:48,474 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(169)) - Moving container #6 to QUASI_CLOSED state, datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null} reported QUASI_CLOSED replica.
2019-10-02 11:42:48,478 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 297e50e2-0110-44d4-bf36-cb21b09186d4, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-02 11:42:51,802 [Thread-349] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:group-2FE6F0C0A232 changes to CANDIDATE, lastRpcTime:5148, electionTimeout:5148ms
2019-10-02 11:42:51,803 [Thread-349] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown FollowerState
2019-10-02 11:42:51,803 [Thread-349] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 11:42:51,803 [Thread-349] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderElection
2019-10-02 11:42:51,818 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11: begin an election at term 1 for -1: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null
2019-10-02 11:42:51,819 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderElection
2019-10-02 11:42:51,819 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 11:42:51,819 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232: change Leader from null to 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 at term 1 for becomeLeader, leader elected after 5171ms
2019-10-02 11:42:51,819 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 11:42:51,819 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 11:42:51,820 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 11:42:51,820 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 11:42:51,820 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 11:42:51,820 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 11:42:51,823 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: start LeaderState
2019-10-02 11:42:51,824 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 11:42:51,825 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232:LeaderElection11] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232: set configuration 0: [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5:192.168.151.102:33044], old=null at 0
2019-10-02 11:42:51,862 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/4924e145-d918-4acb-8b9c-2fe6f0c0a232/current/log_inprogress_0
2019-10-02 11:42:53,775 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-2FE6F0C0A232: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/4924e145-d918-4acb-8b9c-2fe6f0c0a232/sm/snapshot.1_1
2019-10-02 11:42:53,786 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-2FE6F0C0A232: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/4924e145-d918-4acb-8b9c-2fe6f0c0a232/sm/snapshot.1_1 time:11
2019-10-02 11:42:53,787 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 11:42:53,787 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-02 11:42:53,823 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-2FE6F0C0A232: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/4924e145-d918-4acb-8b9c-2fe6f0c0a232/sm/snapshot.1_4
2019-10-02 11:42:53,827 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-2FE6F0C0A232: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/4924e145-d918-4acb-8b9c-2fe6f0c0a232/sm/snapshot.1_4 time:5
2019-10-02 11:42:53,827 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 11:42:53,827 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-10-02 11:42:53,833 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-2FE6F0C0A232: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/4924e145-d918-4acb-8b9c-2fe6f0c0a232/sm/snapshot.1_6
2019-10-02 11:42:53,838 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-2FE6F0C0A232: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/4924e145-d918-4acb-8b9c-2fe6f0c0a232/sm/snapshot.1_6 time:4
2019-10-02 11:42:53,838 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater: Took a snapshot at index 6
2019-10-02 11:42:53,838 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 6
2019-10-02 11:42:53,838 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-2FE6F0C0A232: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/4924e145-d918-4acb-8b9c-2fe6f0c0a232/sm/snapshot.1_6
2019-10-02 11:42:53,841 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-2FE6F0C0A232: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/ratis/4924e145-d918-4acb-8b9c-2fe6f0c0a232/sm/snapshot.1_6 time:3
2019-10-02 11:42:53,841 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater: Took a snapshot at index 6
2019-10-02 11:42:53,841 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater: snapshotIndex: updateIncreasingly 6 -> 6
2019-10-02 11:42:53,851 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:getStorageContainerLocationClient(234)) - Creating StorageContainerLocationProtocol RPC client with address /0.0.0.0:42217
2019-10-02 11:42:53,875 [RatisApplyTransactionExecutor 7] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID: 13509d5df2afaa02:13509d5df2afaa02:0:0 : Message: Error while creating/ updating .container file. ContainerID: 7 : Result: CONTAINER_FILES_CREATE_ERROR
2019-10-02 11:42:53,876 [RatisApplyTransactionExecutor 7] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(908)) - Unexpected error while marking container 7 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 7
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:237)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:257)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:356)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:298)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:903)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:312)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$6(ContainerStateMachine.java:719)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:726)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:222)
	... 13 more
11:42:53.876 [RatisApplyTransactionExecutor 7] ERROR DNAudit - user=null | ip=null | op=CLOSE_CONTAINER {containerID=7} | ret=FAILURE
java.lang.Exception: Error while creating/ updating .container file. ContainerID: 7
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:330) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$6(ContainerStateMachine.java:719) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-10-02 11:42:53,877 [RatisApplyTransactionExecutor 7] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$applyTransaction$7(737)) - gid group-2FE6F0C0A232 : ApplyTransaction failed. cmd CloseContainer logIndex 8 msg : Error while creating/ updating .container file. ContainerID: 7 Container Result: CONTAINER_FILES_CREATE_ERROR
2019-10-02 11:42:53,877 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #7 is in OPEN state, but the datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-10-02 11:42:53,877 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #7
2019-10-02 11:42:53,879 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] ERROR impl.StateMachineUpdater (StateMachineUpdater.java:run(171)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater: the StateMachineUpdater hits Throwable
java.util.concurrent.ExecutionException: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 7
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
	at org.apache.ratis.server.impl.StateMachineUpdater.checkAndTakeSnapshot(StateMachineUpdater.java:233)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:155)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 7
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$7(ContainerStateMachine.java:736)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1595)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2019-10-02 11:42:53,881 [RatisApplyTransactionExecutor 7] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(575)) - pipeline Action CLOSE  on pipeline PipelineID=4924e145-d918-4acb-8b9c-2fe6f0c0a232.Reason : Ratis Transaction failure in datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 with role LEADER .Triggering pipeline close action.
2019-10-02 11:42:53,882 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232: shutdown
2019-10-02 11:42:53,883 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2FE6F0C0A232,id=4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5
2019-10-02 11:42:53,883 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown LeaderState
2019-10-02 11:42:53,883 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 4924e145-d918-4acb-8b9c-2fe6f0c0a232, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}. Reason : Ratis Transaction failure in datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5 with role LEADER .Triggering pipeline close action.
2019-10-02 11:42:53,883 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5-PendingRequests: sendNotLeaderResponses
2019-10-02 11:42:53,883 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: 4924e145-d918-4acb-8b9c-2fe6f0c0a232, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 11:42:53,888 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 4924e145-d918-4acb-8b9c-2fe6f0c0a232, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-02 11:42:53,890 [4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5@group-2FE6F0C0A232-StateMachineUpdater: set stopIndex = 9
2019-10-02 11:42:53,928 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(314)) - Shutting down the Mini Ozone Cluster
2019-10-02 11:42:53,928 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(330)) - Stopping the Mini Ozone Cluster
2019-10-02 11:42:53,928 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(400)) - Stopping the OzoneManager
2019-10-02 11:42:53,928 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 42239
2019-10-02 11:42:53,934 [IPC Server listener on 42239] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 42239
2019-10-02 11:42:53,935 [main] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-10-02 11:42:53,937 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-02 11:42:53,939 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-02 11:42:53,942 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-10-02 11:42:53,949 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@7ca0863b{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-02 11:42:53,950 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@319854f0{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-02 11:42:53,950 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@ecfbe91{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-02 11:42:53,950 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@629f066f{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-02 11:42:53,954 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(377)) - Stopping the HddsDatanodes
2019-10-02 11:42:54,081 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-02 11:42:56,919 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=4924e145-d918-4acb-8b9c-2fe6f0c0a232]
2019-10-02 11:42:56,920 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: 4924e145-d918-4acb-8b9c-2fe6f0c0a232, Nodes: 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5{ip: 192.168.151.102, host: pr-hdds-2164-trunk-xhc96-1404769113, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
2019-10-02 11:42:58,956 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-10-02 11:42:58,957 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: close
2019-10-02 11:42:58,958 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown server with port 33044 now
2019-10-02 11:42:58,960 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 4a5b4867-9e0e-4af8-aecb-fb5f8c1c58a5: shutdown server with port 33044 successfully
2019-10-02 11:42:58,974 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-a74df3c3-b424-4f5e-85d9-b6632d565a90/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-02 11:42:58,985 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-10-02 11:42:58,988 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-02 11:42:58,989 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@58d6e55a{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-02 11:42:58,990 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@751ae8a4{HTTP/1.1,[http/1.1]}{0.0.0.0:44371}
2019-10-02 11:42:58,990 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5a49af50{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-02 11:42:58,991 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@56928e17{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-02 11:42:58,993 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(392)) - Stopping the StorageContainerManager
2019-10-02 11:42:58,993 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(808)) - Stopping Replication Manager Service.
2019-10-02 11:42:58,993 [main] INFO  container.ReplicationManager (ReplicationManager.java:stop(203)) - Stopping Replication Monitor Thread.
2019-10-02 11:42:58,993 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(815)) - Stopping Lease Manager of the command watchers
2019-10-02 11:42:58,993 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(822)) - Stopping datanode service RPC server
2019-10-02 11:42:58,994 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-10-02 11:42:58,994 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45596
2019-10-02 11:42:58,994 [IPC Server listener on 45596] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 45596
2019-10-02 11:42:58,995 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-02 11:42:59,021 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-10-02 11:42:59,022 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(830)) - Stopping block service RPC server
2019-10-02 11:42:59,022 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-02 11:42:59,022 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45319
2019-10-02 11:42:59,022 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(837)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-02 11:42:59,023 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(158)) - Stopping the RPC server for Client Protocol
2019-10-02 11:42:59,023 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-02 11:42:59,023 [IPC Server listener on 45319] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 45319
2019-10-02 11:42:59,023 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 42217
2019-10-02 11:42:59,024 [IPC Server listener on 42217] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 42217
2019-10-02 11:42:59,024 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Storage Container Manager HTTP server.
2019-10-02 11:42:59,025 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-02 11:42:59,025 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@61edc883{/,null,UNAVAILABLE}{/scm}
2019-10-02 11:42:59,026 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@780ec4a5{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-02 11:42:59,026 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5e1fa5b1{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-02 11:42:59,027 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@158a3b2e{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-02 11:42:59,027 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(855)) - Stopping Block Manager Service.
2019-10-02 11:42:59,028 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-10-02 11:42:59,028 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-10-02 11:42:59,028 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(877)) - Stopping SCM Event Queue.
2019-10-02 11:42:59,036 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-10-02 11:42:59,042 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2019-10-02 11:42:59,042 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
