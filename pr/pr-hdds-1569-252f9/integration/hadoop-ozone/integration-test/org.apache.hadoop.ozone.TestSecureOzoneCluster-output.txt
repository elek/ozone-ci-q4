2019-10-21 03:49:20,376 [Thread-0] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2019-10-21 03:49:20,381 [Thread-0] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2019-10-21 03:49:20,385 [Thread-0] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2019-10-21 03:49:20,385 [Thread-0] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2019-10-21 03:49:20,503 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-10-21 03:49:20,503 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-10-21 03:49:20,506 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-10-21 03:49:20,506 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-10-21 03:49:20,506 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-10-21 03:49:20,506 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-10-21 03:49:20,507 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-10-21 03:49:20,507 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-10-21 03:49:20,507 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-10-21 03:49:20,507 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-10-21 03:49:20,508 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-10-21 03:49:20,508 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-10-21 03:49:20,613 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-10-21 03:49:21,545 [Thread-0] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:49:24,317 [Thread-0] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:49:24,342 [Thread-0] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:49:24,423 [pool-1-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-10-21 03:49:24,430 [pool-1-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-10-21 03:49:24,481 [pool-1-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1571629764479,scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-10-21 03:49:24,491 [Thread-0] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-10-21 03:49:24,491 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUser(516)) - SCM login successful.
2019-10-21 03:49:24,492 [Thread-0] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:49:24,522 [Thread-0] INFO  util.log (Log.java:initialized(192)) - Logging initialized @4869ms
2019-10-21 03:49:24,625 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: deletedBlocks
2019-10-21 03:49:24,625 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-21 03:49:24,625 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: validCerts
2019-10-21 03:49:24,625 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-21 03:49:24,626 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: revokedCerts
2019-10-21 03:49:24,626 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-21 03:49:24,638 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: default
2019-10-21 03:49:24,639 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(174)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-21 03:49:24,640 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(205)) - Using default options. DBProfile.DISK
2019-10-21 03:49:30,301 [Thread-0] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:49:30,329 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9961
2019-10-21 03:49:30,609 [Thread-0] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@13cfae84
2019-10-21 03:49:30,611 [Thread-0] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-21 03:49:30,676 [Thread-0] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(116)) - Entering startup safe mode.
2019-10-21 03:49:30,739 [Thread-0] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(59)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-21 03:49:30,753 [Thread-0] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:49:31,015 [Thread-0] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(137)) - No pipeline exists in current db
2019-10-21 03:49:31,018 [Thread-0] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:49:31,178 [Thread-0] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
2019-10-21 03:49:31,448 [Thread-0] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:49:31,449 [Socket Reader #1 for port 44088] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 44088
2019-10-21 03:49:31,457 [Thread-0] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:49:31,458 [Socket Reader #1 for port 37881] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 37881
2019-10-21 03:49:31,464 [Thread-0] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:49:31,465 [Socket Reader #1 for port 42792] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 42792
2019-10-21 03:49:31,493 [Thread-0] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_SCM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:49:31,494 [Thread-0] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-10-21 03:49:31,652 [Thread-0] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-21 03:49:31,662 [Thread-0] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-21 03:49:31,670 [Thread-0] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-21 03:49:31,673 [Thread-0] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-21 03:49:31,674 [Thread-0] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-21 03:49:31,674 [Thread-0] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-21 03:49:31,704 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:start(772)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:42792
2019-10-21 03:49:31,761 [Thread-0] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-10-21 03:49:31,773 [Thread-0] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-10-21 03:49:31,773 [Thread-0] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-10-21 03:49:32,044 [Thread-0] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(159)) - RPC server for Client  is listening at /0.0.0.0:42792
2019-10-21 03:49:32,044 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:49:32,045 [IPC Server listener on 42792] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 42792: starting
2019-10-21 03:49:32,048 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:start(782)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:37881
2019-10-21 03:49:32,049 [Thread-0] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:37881
2019-10-21 03:49:32,049 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:49:32,049 [IPC Server listener on 37881] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 37881: starting
2019-10-21 03:49:32,052 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:start(786)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:44088
2019-10-21 03:49:32,052 [Thread-0] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(169)) - RPC server for DataNodes is listening at /0.0.0.0:44088
2019-10-21 03:49:32,053 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:49:32,053 [IPC Server listener on 44088] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 44088: starting
2019-10-21 03:49:32,056 [Thread-0] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:start(204)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2019-10-21 03:49:32,057 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:49:32,057 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 9961: starting
2019-10-21 03:49:32,059 [Thread-0] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 37893
2019-10-21 03:49:32,062 [Thread-0] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-21 03:49:32,107 [Thread-0] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@52f8bae6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-21 03:49:32,107 [Thread-0] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@4231b6b2{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-21 03:49:32,141 [Thread-0] INFO  server.KerberosAuthenticationHandler (KerberosAuthenticationHandler.java:init(164)) - Using keytab /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/http.keytab, for principal HTTP_SCM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:49:32,150 [Thread-0] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@55563596{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-10-21 03:49:32,156 [Thread-0] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@5910942c{HTTP/1.1,[http/1.1]}{0.0.0.0:37893}
2019-10-21 03:49:32,156 [Thread-0] INFO  server.Server (Server.java:doStart(419)) - Started @12503ms
2019-10-21 03:49:32,158 [Thread-0] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2019-10-21 03:49:32,158 [Thread-0] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(301)) - Registered sink prometheus
2019-10-21 03:49:32,162 [Thread-0] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:37893
2019-10-21 03:49:32,168 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@41d56289] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-21 03:49:32,175 [pool-1-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-10-21 03:49:32,175 [pool-1-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-10-21 03:49:32,189 [pool-1-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1571629772187,test@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-10-21 03:49:32,445 [pool-1-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1571629772444,test for scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:49:32,471 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(1849)) - Auth successful for test@EXAMPLE.COM (auth:KERBEROS)
2019-10-21 03:49:32,594 [IPC Server handler 1 on 9961] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 1 on 9961, call Call#1 Retry#0 org.apache.hadoop.hdds.protocol.SCMSecurityProtocol.submitRequest from 192.168.157.255:56078
java.io.IOException: Certificate not found
	at org.apache.hadoop.hdds.scm.server.SCMSecurityProtocolServer.getCertificate(SCMSecurityProtocolServer.java:175)
	at org.apache.hadoop.hdds.scm.protocol.SCMSecurityProtocolServerSideTranslatorPB.getCertificate(SCMSecurityProtocolServerSideTranslatorPB.java:162)
	at org.apache.hadoop.hdds.scm.protocol.SCMSecurityProtocolServerSideTranslatorPB.processRequest(SCMSecurityProtocolServerSideTranslatorPB.java:81)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.hdds.scm.protocol.SCMSecurityProtocolServerSideTranslatorPB.submitRequest(SCMSecurityProtocolServerSideTranslatorPB.java:68)
	at org.apache.hadoop.hdds.protocol.proto.SCMSecurityProtocolProtos$SCMSecurityProtocolService$2.callBlockingMethod(SCMSecurityProtocolProtos.java:6374)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-21 03:49:32,605 [Thread-0] WARN  ipc.Client (Client.java:run(755)) - Exception encountered while connecting to the server : org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[KERBEROS]
2019-10-21 03:49:32,609 [Thread-0] WARN  ipc.Client (Client.java:run(755)) - Exception encountered while connecting to the server : org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[KERBEROS]
2019-10-21 03:49:32,610 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-21 03:49:32,610 [Thread-0] INFO  container.ReplicationManager (ReplicationManager.java:stop(210)) - Replication Monitor Thread is not running.
2019-10-21 03:49:32,610 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-21 03:49:32,610 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-21 03:49:32,611 [Thread-0] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-21 03:49:32,611 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 44088
2019-10-21 03:49:32,614 [IPC Server listener on 44088] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 44088
2019-10-21 03:49:32,614 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:49:33,679 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(655)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-10-21 03:49:33,681 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-21 03:49:33,681 [Thread-0] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-21 03:49:33,681 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37881
2019-10-21 03:49:33,683 [IPC Server listener on 37881] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 37881
2019-10-21 03:49:33,683 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-21 03:49:33,683 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:49:33,685 [Thread-0] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-21 03:49:33,685 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 42792
2019-10-21 03:49:33,686 [IPC Server listener on 42792] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 42792
2019-10-21 03:49:33,686 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:49:33,686 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-21 03:49:33,690 [Thread-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@55563596{/,null,UNAVAILABLE}{/scm}
2019-10-21 03:49:33,695 [Thread-0] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@5910942c{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-21 03:49:33,696 [Thread-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@4231b6b2{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-21 03:49:33,696 [Thread-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@52f8bae6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-21 03:49:33,698 [Thread-0] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(212)) - Stopping the SCMSecurityProtocolServer.
2019-10-21 03:49:33,698 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-10-21 03:49:33,699 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 9961
2019-10-21 03:49:33,699 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-21 03:49:33,699 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:49:33,700 [Thread-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:49:33,700 [Thread-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:49:33,701 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-21 03:49:33,707 [Thread-0] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2019-10-21 03:49:33,709 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2019-10-21 03:49:33,709 [Thread-0] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2019-10-21 03:49:33,710 [Thread-0] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-10-21 03:49:34,711 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-10-21 03:49:34,711 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-21 03:49:34,711 [Thread-0] INFO  container.ReplicationManager (ReplicationManager.java:stop(210)) - Replication Monitor Thread is not running.
2019-10-21 03:49:34,711 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-21 03:49:34,712 [Thread-0] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(820)) - Lease Manager of the command watchers stop failed
2019-10-21 03:49:34,712 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-21 03:49:34,712 [Thread-0] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-21 03:49:34,712 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 44088
2019-10-21 03:49:34,712 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-21 03:49:34,712 [Thread-0] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-21 03:49:34,713 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37881
2019-10-21 03:49:34,713 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-21 03:49:34,713 [Thread-0] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-21 03:49:34,713 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 42792
2019-10-21 03:49:34,713 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-21 03:49:34,714 [Thread-0] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(212)) - Stopping the SCMSecurityProtocolServer.
2019-10-21 03:49:34,714 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-10-21 03:49:34,714 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-21 03:49:34,714 [Thread-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:49:34,714 [Thread-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:49:34,714 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-21 03:49:34,715 [Thread-0] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2019-10-21 03:49:34,753 [Thread-65] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2019-10-21 03:49:34,753 [Thread-65] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2019-10-21 03:49:34,753 [Thread-65] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2019-10-21 03:49:34,754 [Thread-65] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2019-10-21 03:49:34,755 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-10-21 03:49:34,755 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-10-21 03:49:34,755 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-10-21 03:49:34,755 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-10-21 03:49:34,756 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-10-21 03:49:34,756 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-10-21 03:49:34,756 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-10-21 03:49:34,756 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-10-21 03:49:34,756 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-10-21 03:49:34,757 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-10-21 03:49:34,757 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-10-21 03:49:34,757 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-10-21 03:49:34,826 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-10-21 03:49:34,993 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:49:35,579 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:49:35,585 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:49:35,593 [pool-10-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-10-21 03:49:35,594 [pool-10-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-10-21 03:49:35,606 [pool-10-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1571629775604,scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-10-21 03:49:35,610 [Thread-65] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-10-21 03:49:35,610 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUser(516)) - SCM login successful.
2019-10-21 03:49:35,611 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:49:35,611 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: deletedBlocks
2019-10-21 03:49:35,612 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-21 03:49:35,612 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: validCerts
2019-10-21 03:49:35,613 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-21 03:49:35,613 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: revokedCerts
2019-10-21 03:49:35,613 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-21 03:49:35,614 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: default
2019-10-21 03:49:35,614 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(174)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-21 03:49:35,614 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(205)) - Using default options. DBProfile.DISK
2019-10-21 03:50:12,860 [Thread-65] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:50:12,861 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9961
2019-10-21 03:50:12,865 [Thread-65] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@7b569739
2019-10-21 03:50:12,866 [Thread-65] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-21 03:50:12,871 [Thread-65] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(116)) - Entering startup safe mode.
2019-10-21 03:50:12,874 [Thread-65] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(59)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-21 03:50:12,874 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:50:25,015 [Thread-65] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(137)) - No pipeline exists in current db
2019-10-21 03:50:25,015 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:50:38,193 [Thread-65] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-10-21 03:50:38,195 [Thread-65] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:50:38,196 [Socket Reader #1 for port 37589] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 37589
2019-10-21 03:50:38,199 [Thread-65] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:50:38,200 [Socket Reader #1 for port 38929] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 38929
2019-10-21 03:50:38,203 [Thread-65] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:50:38,204 [Socket Reader #1 for port 39442] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 39442
2019-10-21 03:50:38,209 [Thread-65] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_SCM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:50:38,209 [Thread-65] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-10-21 03:50:38,211 [Thread-65] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-21 03:50:38,215 [Thread-65] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-21 03:50:38,219 [Thread-65] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-21 03:50:38,221 [Thread-65] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-21 03:50:38,221 [Thread-65] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-21 03:50:38,222 [Thread-65] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-21 03:50:38,230 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:start(772)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:39442
2019-10-21 03:50:38,233 [Thread-65] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-10-21 03:50:38,236 [Thread-65] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-10-21 03:50:38,236 [Thread-65] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-10-21 03:50:38,246 [Thread-65] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-21 03:50:38,260 [Thread-65] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(159)) - RPC server for Client  is listening at /0.0.0.0:39442
2019-10-21 03:50:38,261 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:50:38,261 [IPC Server listener on 39442] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 39442: starting
2019-10-21 03:50:38,263 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:start(782)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:38929
2019-10-21 03:50:38,263 [Thread-65] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:38929
2019-10-21 03:50:38,264 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:50:38,264 [IPC Server listener on 38929] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 38929: starting
2019-10-21 03:50:38,266 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:start(786)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:37589
2019-10-21 03:50:38,266 [Thread-65] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(169)) - RPC server for DataNodes is listening at /0.0.0.0:37589
2019-10-21 03:50:38,267 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:50:38,267 [IPC Server listener on 37589] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 37589: starting
2019-10-21 03:50:38,269 [Thread-65] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:start(204)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2019-10-21 03:50:38,270 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:50:38,270 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 9961: starting
2019-10-21 03:50:38,271 [Thread-65] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 43605
2019-10-21 03:50:38,271 [Thread-65] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-21 03:50:38,274 [Thread-65] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@d68817d{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-21 03:50:38,275 [Thread-65] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@57db9bcc{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-21 03:50:38,281 [Thread-65] INFO  server.KerberosAuthenticationHandler (KerberosAuthenticationHandler.java:init(164)) - Using keytab /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/http.keytab, for principal HTTP_SCM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:50:38,283 [Thread-65] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@325462ba{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-10-21 03:50:38,284 [Thread-65] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@5026b075{HTTP/1.1,[http/1.1]}{0.0.0.0:43605}
2019-10-21 03:50:38,284 [Thread-65] INFO  server.Server (Server.java:doStart(419)) - Started @78631ms
2019-10-21 03:50:38,284 [Thread-65] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-21 03:50:38,285 [Thread-65] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:43605
2019-10-21 03:50:38,287 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@49214c44] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-21 03:50:38,291 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:50:40,690 [Thread-65] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(190)) - Configuration either no ozone.om.address set. Falling back to the default OM address /0.0.0.0:9862
2019-10-21 03:50:40,690 [Thread-65] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(220)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-10-21 03:50:40,694 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:50:40,696 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:50:40,794 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:50:40,801 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: userTable
2019-10-21 03:50:40,802 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-21 03:50:40,802 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: volumeTable
2019-10-21 03:50:40,802 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-21 03:50:40,802 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: bucketTable
2019-10-21 03:50:40,803 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-21 03:50:40,803 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: keyTable
2019-10-21 03:50:40,803 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-21 03:50:40,804 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: deletedTable
2019-10-21 03:50:40,804 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-21 03:50:40,804 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: openKeyTable
2019-10-21 03:50:40,804 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-21 03:50:40,805 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3Table
2019-10-21 03:50:40,805 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-21 03:50:40,805 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: multipartInfoTable
2019-10-21 03:50:40,805 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-21 03:50:40,806 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: dTokenTable
2019-10-21 03:50:40,806 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-21 03:50:40,806 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3SecretTable
2019-10-21 03:50:40,806 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-21 03:50:40,807 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: prefixTable
2019-10-21 03:50:40,807 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-21 03:50:40,807 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: default
2019-10-21 03:50:40,807 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(174)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-21 03:50:40,808 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(205)) - Using default options. DBProfile.DISK
2019-10-21 03:50:55,047 [Thread-124] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2019-10-21 03:50:55,048 [Thread-124] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2019-10-21 03:50:55,048 [Thread-124] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2019-10-21 03:50:55,048 [Thread-124] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(61)) - Port is already in use; trying again
2019-10-21 03:50:55,049 [Thread-124] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 43786
2019-10-21 03:50:55,050 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-10-21 03:50:55,050 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-10-21 03:50:55,050 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-10-21 03:50:55,050 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-10-21 03:50:55,050 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-10-21 03:50:55,051 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-10-21 03:50:55,051 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-10-21 03:50:55,051 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-10-21 03:50:55,051 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-10-21 03:50:55,051 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-10-21 03:50:55,051 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-10-21 03:50:55,051 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-10-21 03:50:55,057 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-10-21 03:50:55,283 [Thread-124] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:50:56,093 [Thread-124] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(190)) - Configuration either no ozone.om.address set. Falling back to the default OM address /0.0.0.0:9862
2019-10-21 03:50:56,093 [Thread-124] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(220)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-10-21 03:50:56,095 [Thread-124] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:50:56,516 [pool-17-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-10-21 03:50:56,517 [pool-17-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-10-21 03:50:56,533 [pool-17-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1571629856532,om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-10-21 03:50:56,537 [Thread-124] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2019-10-21 03:50:56,538 [Thread-124] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(754)) - Ozone Manager login successful.
2019-10-21 03:50:56,539 [Thread-124] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:50:56,549 [Thread-124] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:50:56,551 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: userTable
2019-10-21 03:50:56,551 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-21 03:50:56,551 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: volumeTable
2019-10-21 03:50:56,551 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-21 03:50:56,552 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: bucketTable
2019-10-21 03:50:56,552 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-21 03:50:56,552 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: keyTable
2019-10-21 03:50:56,552 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-21 03:50:56,553 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: deletedTable
2019-10-21 03:50:56,553 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-21 03:50:56,553 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: openKeyTable
2019-10-21 03:50:56,554 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-21 03:50:56,554 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3Table
2019-10-21 03:50:56,554 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-21 03:50:56,554 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: multipartInfoTable
2019-10-21 03:50:56,555 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-21 03:50:56,555 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: dTokenTable
2019-10-21 03:50:56,555 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-21 03:50:56,555 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3SecretTable
2019-10-21 03:50:56,556 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-21 03:50:56,556 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: prefixTable
2019-10-21 03:50:56,556 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-21 03:50:56,557 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: default
2019-10-21 03:50:56,557 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(174)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-21 03:50:56,557 [Thread-124] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(205)) - Using default options. DBProfile.DISK
2019-10-21 03:50:57,966 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-21 03:50:57,966 [Thread-65] INFO  container.ReplicationManager (ReplicationManager.java:stop(210)) - Replication Monitor Thread is not running.
2019-10-21 03:50:57,966 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-21 03:50:57,967 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-21 03:50:57,967 [Thread-65] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-21 03:50:57,967 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37589
2019-10-21 03:50:57,970 [IPC Server listener on 37589] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 37589
2019-10-21 03:50:57,970 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:50:57,971 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-21 03:50:57,971 [Thread-65] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-21 03:50:57,972 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 38929
2019-10-21 03:50:57,975 [IPC Server listener on 38929] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 38929
2019-10-21 03:50:57,975 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:50:57,975 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-21 03:50:57,975 [Thread-65] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-21 03:50:57,976 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 39442
2019-10-21 03:50:57,977 [IPC Server listener on 39442] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 39442
2019-10-21 03:50:57,977 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-21 03:50:57,977 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:50:57,979 [Thread-65] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@325462ba{/,null,UNAVAILABLE}{/scm}
2019-10-21 03:50:57,980 [Thread-65] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@5026b075{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-21 03:50:57,980 [Thread-65] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@57db9bcc{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-21 03:50:57,981 [Thread-65] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@d68817d{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-21 03:50:57,982 [Thread-65] ERROR http.HttpServer2 (HttpServer2.java:stop(1320)) - Error while stopping web server for webapp scm
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1326)
	at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:277)
	at org.eclipse.jetty.server.AbstractConnector.doStop(AbstractConnector.java:310)
	at org.eclipse.jetty.server.AbstractNetworkConnector.doStop(AbstractNetworkConnector.java:88)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)
	at org.eclipse.jetty.server.Server.doStop(Server.java:487)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)
	at org.apache.hadoop.http.HttpServer2.stop(HttpServer2.java:1318)
	at org.apache.hadoop.hdds.server.BaseHttpServer.stop(BaseHttpServer.java:200)
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:847)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testSecureOmReInit(TestSecureOzoneCluster.java:796)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
2019-10-21 03:50:57,983 [Thread-65] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(849)) - Storage Container Manager HTTP server stop failed.
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1326)
	at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:277)
	at org.eclipse.jetty.server.AbstractConnector.doStop(AbstractConnector.java:310)
	at org.eclipse.jetty.server.AbstractNetworkConnector.doStop(AbstractNetworkConnector.java:88)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)
	at org.eclipse.jetty.server.Server.doStop(Server.java:487)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)
	at org.apache.hadoop.http.HttpServer2.stop(HttpServer2.java:1318)
	at org.apache.hadoop.hdds.server.BaseHttpServer.stop(BaseHttpServer.java:200)
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:847)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testSecureOmReInit(TestSecureOzoneCluster.java:796)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
2019-10-21 03:50:57,984 [Thread-65] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(212)) - Stopping the SCMSecurityProtocolServer.
2019-10-21 03:50:57,984 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-10-21 03:50:57,985 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 9961
2019-10-21 03:50:57,985 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:50:57,985 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-21 03:50:57,986 [Thread-65] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:50:57,986 [Thread-65] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:50:57,987 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-21 03:50:57,991 [Thread-65] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2019-10-21 03:50:57,993 [Thread-65] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2019-10-21 03:50:57,994 [Thread-65] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-10-21 03:50:58,995 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-10-21 03:50:58,995 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-21 03:50:58,995 [Thread-65] INFO  container.ReplicationManager (ReplicationManager.java:stop(210)) - Replication Monitor Thread is not running.
2019-10-21 03:50:59,000 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-21 03:50:59,000 [Thread-65] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(820)) - Lease Manager of the command watchers stop failed
2019-10-21 03:50:59,000 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-21 03:50:59,000 [Thread-65] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-21 03:50:59,001 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37589
2019-10-21 03:50:59,001 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-21 03:50:59,001 [Thread-65] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-21 03:50:59,001 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 38929
2019-10-21 03:50:59,001 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-21 03:50:59,001 [Thread-65] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-21 03:50:59,002 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 39442
2019-10-21 03:50:59,002 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-21 03:50:59,002 [Thread-65] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(212)) - Stopping the SCMSecurityProtocolServer.
2019-10-21 03:50:59,002 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-10-21 03:50:59,002 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-21 03:50:59,002 [Thread-65] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:50:59,002 [Thread-65] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:50:59,003 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-21 03:50:59,003 [Thread-65] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2019-10-21 03:51:04,220 [Thread-124] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2019-10-21 03:51:04,224 [Thread-124] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2019-10-21 03:51:04,224 [Thread-124] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(426)) - Loading token state into token manager.
2019-10-21 03:51:04,256 [Thread-124] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:51:04,257 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-10-21 03:51:04,576 [Thread-124] INFO  om.OzoneManager (OzoneManager.java:start(1071)) - OzoneManager RPC server is listening at /0.0.0.0:9862
2019-10-21 03:51:04,578 [Thread-124] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-ozonemanager.properties,hadoop-metrics2.properties
2019-10-21 03:51:04,579 [Thread-124] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-10-21 03:51:04,579 [Thread-124] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - OzoneManager metrics system started
2019-10-21 03:51:04,591 [Thread-124] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-21 03:51:04,598 [Thread-124] INFO  om.OzoneManager (OzoneManager.java:readKeyPair(713)) - Reading keypair and certificate from file system.
2019-10-21 03:51:04,599 [Thread-124] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(690)) - Starting OM delegation token secret manager
2019-10-21 03:51:04,599 [Thread-124] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2019-10-21 03:51:04,601 [Thread[Thread-132,5,main]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(531)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2019-10-21 03:51:04,604 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:51:04,604 [IPC Server listener on 9862] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 9862: starting
2019-10-21 03:51:04,610 [Thread-124] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_OM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:51:04,610 [Thread-124] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2019-10-21 03:51:04,613 [Thread-124] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-21 03:51:04,613 [Thread-124] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-21 03:51:04,616 [Thread-124] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-21 03:51:04,617 [Thread-124] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-21 03:51:04,617 [Thread-124] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-21 03:51:04,617 [Thread-124] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-21 03:51:04,621 [Thread-124] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 9874
2019-10-21 03:51:04,621 [Thread-124] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-21 03:51:04,624 [Thread-124] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7b47dbb6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-21 03:51:04,624 [Thread-124] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1f38242b{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-21 03:51:04,630 [Thread-124] INFO  server.KerberosAuthenticationHandler (KerberosAuthenticationHandler.java:init(164)) - Using keytab /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/http.keytab, for principal HTTP_OM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:51:04,631 [Thread-124] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@49ef84f4{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-21 03:51:04,632 [Thread-124] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@29ec6d45{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
2019-10-21 03:51:04,632 [Thread-124] INFO  server.Server (Server.java:doStart(419)) - Started @104980ms
2019-10-21 03:51:04,633 [Thread-124] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-21 03:51:04,634 [Thread-124] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:9874
2019-10-21 03:51:04,790 [pool-17-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1571629864789,om/pr-hdds-1569-252f9-3696506840 for om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:51:04,803 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:saslProcess(1849)) - Auth successful for om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM (auth:KERBEROS)
2019-10-21 03:51:05,089 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:saslProcess(1849)) - Auth successful for om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM (auth:TOKEN)
03:51:05.117 [IPC Server handler 2 on 9862] ERROR OMAudit - user=om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM | ip=192.168.157.255 | op=DELETE_VOLUME {volume=vol1} | ret=FAILURE
org.apache.hadoop.ozone.om.exceptions.OMException: Volume vol1 is not found
	at org.apache.hadoop.ozone.om.request.volume.OMVolumeDeleteRequest.getVolumeInfo(OMVolumeDeleteRequest.java:184) ~[hadoop-ozone-ozone-manager-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.request.volume.OMVolumeDeleteRequest.validateAndUpdateCache(OMVolumeDeleteRequest.java:102) ~[hadoop-ozone-ozone-manager-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequestDirectlyToOM(OzoneManagerProtocolServerSideTranslatorPB.java:219) ~[hadoop-ozone-ozone-manager-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:134) ~[hadoop-ozone-ozone-manager-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72) [hadoop-hdds-server-framework-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:100) [hadoop-ozone-ozone-manager-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java) [hadoop-ozone-common-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524) [hadoop-common-3.2.0.jar:?]
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025) [hadoop-common-3.2.0.jar:?]
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876) [hadoop-common-3.2.0.jar:?]
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822) [hadoop-common-3.2.0.jar:?]
	at java.security.AccessController.doPrivileged(Native Method) [?:1.8.0_222]
	at javax.security.auth.Subject.doAs(Subject.java:422) [?:1.8.0_222]
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730) [hadoop-common-3.2.0.jar:?]
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682) [hadoop-common-3.2.0.jar:?]
2019-10-21 03:51:05,133 [IPC Server handler 2 on 9862] ERROR volume.OMVolumeDeleteRequest (OMVolumeDeleteRequest.java:validateAndUpdateCache(161)) - Volume deletion failed for user:null volume:vol1
VOLUME_NOT_FOUND org.apache.hadoop.ozone.om.exceptions.OMException: Volume vol1 is not found
	at org.apache.hadoop.ozone.om.request.volume.OMVolumeDeleteRequest.getVolumeInfo(OMVolumeDeleteRequest.java:184)
	at org.apache.hadoop.ozone.om.request.volume.OMVolumeDeleteRequest.validateAndUpdateCache(OMVolumeDeleteRequest.java:102)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequestDirectlyToOM(OzoneManagerProtocolServerSideTranslatorPB.java:219)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:134)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:100)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-21 03:51:05,160 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:saslProcess(1849)) - Auth successful for om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM (auth:KERBEROS)
2019-10-21 03:51:07,181 [Socket Reader #1 for port 9862] WARN  ipc.Server (Server.java:saslProcess(1833)) - Auth failed for 192.168.157.255:45092:null (DIGEST-MD5: IO error acquiring password) with true cause: (token (OzoneToken owner=om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM, renewer=om, realUser=, issueDate=1571629864903, maxDate=1572234664903, sequenceNumber=1, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null) can't be found in cache)
2019-10-21 03:51:07,182 [Thread-124] WARN  ipc.Client (Client.java:run(755)) - Exception encountered while connecting to the server : org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.security.token.SecretManager$InvalidToken): token (OzoneToken owner=om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM, renewer=om, realUser=, issueDate=1571629864903, maxDate=1572234664903, sequenceNumber=1, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null) can't be found in cache
2019-10-21 03:51:07,182 [Thread-124] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-10-21 03:51:07,185 [IPC Server listener on 9862] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 9862
2019-10-21 03:51:07,186 [Thread-124] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(250)) - Stopping OMDoubleBuffer flush thread
2019-10-21 03:51:07,185 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:51:07,187 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(193)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-21 03:51:07,187 [Thread-124] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-21 03:51:07,188 [Thread-124] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(660)) - Stopping OM delegation token secret manager.
2019-10-21 03:51:07,188 [Thread[Thread-132,5,main]] ERROR security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(546)) - ExpiredTokenRemover received java.lang.InterruptedException: sleep interrupted
2019-10-21 03:51:07,189 [Thread-124] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@49ef84f4{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-21 03:51:07,190 [Thread-124] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@29ec6d45{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
2019-10-21 03:51:07,190 [Thread-124] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1f38242b{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-21 03:51:07,191 [Thread-124] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7b47dbb6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-21 03:51:07,194 [Thread-124] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-10-21 03:51:08,195 [Thread-124] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-10-21 03:51:08,195 [Thread-124] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-10-21 03:51:08,195 [Thread-124] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(262)) - OMDoubleBuffer flush thread is not running.
2019-10-21 03:51:08,195 [Thread-124] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(660)) - Stopping OM delegation token secret manager.
2019-10-21 03:51:08,217 [Thread-169] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2019-10-21 03:51:08,217 [Thread-169] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2019-10-21 03:51:08,217 [Thread-169] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2019-10-21 03:51:08,217 [Thread-169] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2019-10-21 03:51:08,218 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-10-21 03:51:08,218 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-10-21 03:51:08,218 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-10-21 03:51:08,219 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-10-21 03:51:08,219 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-10-21 03:51:08,219 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-10-21 03:51:08,219 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-10-21 03:51:08,219 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-10-21 03:51:08,219 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-10-21 03:51:08,219 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-10-21 03:51:08,219 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-10-21 03:51:08,219 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-10-21 03:51:08,222 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-10-21 03:51:08,520 [Thread-169] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:11,730 [Thread-169] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:11,731 [Thread-169] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:11,740 [pool-31-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-10-21 03:51:11,741 [pool-31-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-10-21 03:51:11,750 [pool-31-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1571629871749,scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-10-21 03:51:11,753 [Thread-169] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-10-21 03:51:11,753 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUser(516)) - SCM login successful.
2019-10-21 03:51:11,753 [Thread-169] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:11,754 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: deletedBlocks
2019-10-21 03:51:11,754 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-21 03:51:11,754 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: validCerts
2019-10-21 03:51:11,754 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-21 03:51:11,755 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: revokedCerts
2019-10-21 03:51:11,755 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-21 03:51:11,755 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: default
2019-10-21 03:51:11,755 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(174)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-21 03:51:11,755 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(205)) - Using default options. DBProfile.DISK
2019-10-21 03:51:43,042 [Thread-169] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:51:43,043 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9961
2019-10-21 03:51:43,046 [Thread-169] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@3116bbd
2019-10-21 03:51:43,046 [Thread-169] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-21 03:51:43,051 [Thread-169] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(116)) - Entering startup safe mode.
2019-10-21 03:51:43,052 [Thread-169] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(59)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-21 03:51:43,052 [Thread-169] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:43,621 [Thread-169] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(137)) - No pipeline exists in current db
2019-10-21 03:51:43,622 [Thread-169] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:44,101 [Thread-169] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-10-21 03:51:44,104 [Thread-169] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:51:44,105 [Socket Reader #1 for port 38857] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 38857
2019-10-21 03:51:44,109 [Thread-169] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:51:44,110 [Socket Reader #1 for port 39972] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 39972
2019-10-21 03:51:44,114 [Thread-169] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:51:44,115 [Socket Reader #1 for port 43748] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 43748
2019-10-21 03:51:44,119 [Thread-169] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_SCM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:51:44,120 [Thread-169] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-10-21 03:51:44,124 [Thread-169] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-21 03:51:44,126 [Thread-169] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-21 03:51:44,129 [Thread-169] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-21 03:51:44,130 [Thread-169] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-21 03:51:44,130 [Thread-169] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-21 03:51:44,131 [Thread-169] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-21 03:51:44,143 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:start(772)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:43748
2019-10-21 03:51:44,143 [Thread-169] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-10-21 03:51:44,145 [Thread-169] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(159)) - RPC server for Client  is listening at /0.0.0.0:43748
2019-10-21 03:51:44,145 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:51:44,145 [IPC Server listener on 43748] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 43748: starting
2019-10-21 03:51:44,148 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:start(782)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:39972
2019-10-21 03:51:44,148 [Thread-169] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:39972
2019-10-21 03:51:44,149 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:51:44,149 [IPC Server listener on 39972] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 39972: starting
2019-10-21 03:51:44,151 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:start(786)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:38857
2019-10-21 03:51:44,151 [Thread-169] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(169)) - RPC server for DataNodes is listening at /0.0.0.0:38857
2019-10-21 03:51:44,152 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:51:44,152 [IPC Server listener on 38857] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 38857: starting
2019-10-21 03:51:44,154 [Thread-169] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:start(204)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2019-10-21 03:51:44,155 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:51:44,155 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 9961: starting
2019-10-21 03:51:44,156 [Thread-169] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 46176
2019-10-21 03:51:44,156 [Thread-169] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-21 03:51:44,159 [Thread-169] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@290a5f03{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-21 03:51:44,159 [Thread-169] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2d6b2508{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-21 03:51:44,164 [Thread-169] INFO  server.KerberosAuthenticationHandler (KerberosAuthenticationHandler.java:init(164)) - Using keytab /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/http.keytab, for principal HTTP_SCM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:51:44,168 [Thread-169] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@59cc574e{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-10-21 03:51:44,169 [Thread-169] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2163d517{HTTP/1.1,[http/1.1]}{0.0.0.0:46176}
2019-10-21 03:51:44,169 [Thread-169] INFO  server.Server (Server.java:doStart(419)) - Started @144516ms
2019-10-21 03:51:44,169 [Thread-169] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-21 03:51:44,170 [Thread-169] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:46176
2019-10-21 03:51:44,170 [Thread-169] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:44,171 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@74055729] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-21 03:51:44,171 [Thread-169] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(936)) - Initializing secure OzoneManager.
2019-10-21 03:51:44,172 [Thread-169] ERROR client.OMCertificateClient (DefaultCertificateClient.java:getCertificate(228)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2019-10-21 03:51:44,172 [Thread-169] INFO  client.OMCertificateClient (DefaultCertificateClient.java:init(641)) - Certificate client init case: 0
2019-10-21 03:51:44,173 [Thread-169] INFO  client.OMCertificateClient (OMCertificateClient.java:handleCase(57)) - Creating keypair for client as keypair and certificate not found.
2019-10-21 03:51:44,388 [Thread-169] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(942)) - Init response: GETCERT
2019-10-21 03:51:44,398 [Thread-169] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(103)) - Adding ip:192.168.157.255,host:pr-hdds-1569-252f9-3696506840
2019-10-21 03:51:44,398 [Thread-169] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(107)) - ip:127.0.0.1,host:localhost not returned.
2019-10-21 03:51:44,402 [Thread-169] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1356)) - Creating csr for OM->dns:0.0.0.0,ip:0.0.0.0,scmId:ba474b16-8802-4ea8-8080-bbacd492ecd7,clusterId:ff09736e-3bd3-49c0-91ec-60b16fb6ea01,subject:scm@0.0.0.0
2019-10-21 03:51:44,419 [Thread-169] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1373)) - OzoneManager ports added:[name: "RPC"
value: 9862
]
2019-10-21 03:51:44,436 [pool-31-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1571629904435,scm/pr-hdds-1569-252f9-3696506840 for scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:51:44,448 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(1849)) - Auth successful for scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM (auth:KERBEROS)
2019-10-21 03:51:44,451 [IPC Server handler 0 on 9961] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:getOMCertificate(139)) - Processing CSR for om 0.0.0.0, UUID: cb6b25d5-aa54-4c83-806f-c0540014cc13
2019-10-21 03:51:44,505 [Thread-169] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(949)) - Successfully stored SCM signed certificate.
2019-10-21 03:51:44,511 [Thread-169] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(190)) - Configuration either no ozone.om.address set. Falling back to the default OM address /0.0.0.0:9862
2019-10-21 03:51:44,512 [Thread-169] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(220)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-10-21 03:51:44,513 [Thread-169] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:44,520 [pool-31-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-10-21 03:51:44,520 [pool-31-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-10-21 03:51:44,527 [pool-31-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1571629904526,om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-10-21 03:51:44,529 [Thread-169] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2019-10-21 03:51:44,530 [Thread-169] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(754)) - Ozone Manager login successful.
2019-10-21 03:51:44,530 [Thread-169] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:44,532 [Thread-169] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(118)) - Loading certificate from location:/tmp/junit5012509302115679787/junit5957015177173045829/scm-meta/om/certs.
2019-10-21 03:51:44,538 [Thread-169] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(148)) - Added certificate from file:/tmp/junit5012509302115679787/junit5957015177173045829/scm-meta/om/certs/CA-1.crt.
2019-10-21 03:51:44,540 [Thread-169] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(148)) - Added certificate from file:/tmp/junit5012509302115679787/junit5957015177173045829/scm-meta/om/certs/10828859900221801.crt.
2019-10-21 03:51:44,542 [Thread-169] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:44,542 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: userTable
2019-10-21 03:51:44,542 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-21 03:51:44,542 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: volumeTable
2019-10-21 03:51:44,542 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-21 03:51:44,543 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: bucketTable
2019-10-21 03:51:44,543 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-21 03:51:44,543 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: keyTable
2019-10-21 03:51:44,543 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-21 03:51:44,543 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: deletedTable
2019-10-21 03:51:44,543 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-21 03:51:44,543 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: openKeyTable
2019-10-21 03:51:44,544 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-21 03:51:44,544 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3Table
2019-10-21 03:51:44,544 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-21 03:51:44,544 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: multipartInfoTable
2019-10-21 03:51:44,544 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-21 03:51:44,544 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: dTokenTable
2019-10-21 03:51:44,544 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-21 03:51:44,544 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3SecretTable
2019-10-21 03:51:44,545 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-21 03:51:44,545 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: prefixTable
2019-10-21 03:51:44,545 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-21 03:51:44,545 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: default
2019-10-21 03:51:44,545 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(174)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-21 03:51:44,545 [Thread-169] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(205)) - Using default options. DBProfile.DISK
2019-10-21 03:51:45,204 [Thread-169] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2019-10-21 03:51:45,205 [Thread-169] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2019-10-21 03:51:45,205 [Thread-169] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(426)) - Loading token state into token manager.
2019-10-21 03:51:45,207 [Thread-169] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:51:45,208 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-10-21 03:51:45,230 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-21 03:51:45,230 [Thread-169] INFO  container.ReplicationManager (ReplicationManager.java:stop(210)) - Replication Monitor Thread is not running.
2019-10-21 03:51:45,230 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-21 03:51:45,230 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-21 03:51:45,231 [Thread-169] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-21 03:51:45,231 [Thread-169] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 38857
2019-10-21 03:51:45,232 [IPC Server listener on 38857] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 38857
2019-10-21 03:51:45,232 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:51:46,051 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(655)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-10-21 03:51:46,051 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-21 03:51:46,052 [Thread-169] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-21 03:51:46,052 [Thread-169] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 39972
2019-10-21 03:51:46,053 [IPC Server listener on 39972] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 39972
2019-10-21 03:51:46,053 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-21 03:51:46,053 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:51:46,053 [Thread-169] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-21 03:51:46,054 [Thread-169] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43748
2019-10-21 03:51:46,054 [IPC Server listener on 43748] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 43748
2019-10-21 03:51:46,054 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-21 03:51:46,054 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:51:46,055 [Thread-169] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@59cc574e{/,null,UNAVAILABLE}{/scm}
2019-10-21 03:51:46,056 [Thread-169] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2163d517{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-21 03:51:46,056 [Thread-169] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2d6b2508{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-21 03:51:46,057 [Thread-169] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@290a5f03{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-21 03:51:46,058 [Thread-169] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(212)) - Stopping the SCMSecurityProtocolServer.
2019-10-21 03:51:46,058 [Thread-169] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-10-21 03:51:46,059 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 9961
2019-10-21 03:51:46,059 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:51:46,059 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-21 03:51:46,059 [Thread-169] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:51:46,060 [Thread-169] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:51:46,060 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-21 03:51:46,062 [Thread-169] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2019-10-21 03:51:46,064 [Thread-169] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2019-10-21 03:51:46,065 [Thread-169] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-10-21 03:51:46,065 [Thread-169] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(250)) - Stopping OMDoubleBuffer flush thread
2019-10-21 03:51:46,065 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(193)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-21 03:51:46,065 [Thread-169] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(660)) - Stopping OM delegation token secret manager.
2019-10-21 03:51:46,066 [Thread-169] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-10-21 03:51:47,067 [Thread-169] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-10-21 03:51:47,067 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-21 03:51:47,067 [Thread-169] INFO  container.ReplicationManager (ReplicationManager.java:stop(210)) - Replication Monitor Thread is not running.
2019-10-21 03:51:47,067 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-21 03:51:47,067 [Thread-169] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(820)) - Lease Manager of the command watchers stop failed
2019-10-21 03:51:47,068 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-21 03:51:47,068 [Thread-169] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-21 03:51:47,068 [Thread-169] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 38857
2019-10-21 03:51:47,068 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-21 03:51:47,068 [Thread-169] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-21 03:51:47,068 [Thread-169] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 39972
2019-10-21 03:51:47,068 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-21 03:51:47,068 [Thread-169] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-21 03:51:47,069 [Thread-169] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43748
2019-10-21 03:51:47,069 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-21 03:51:47,069 [Thread-169] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(212)) - Stopping the SCMSecurityProtocolServer.
2019-10-21 03:51:47,069 [Thread-169] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-10-21 03:51:47,069 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-21 03:51:47,069 [Thread-169] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:51:47,069 [Thread-169] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:51:47,069 [Thread-169] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-21 03:51:47,070 [Thread-169] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2019-10-21 03:51:47,070 [Thread-169] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-10-21 03:51:47,070 [Thread-169] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(262)) - OMDoubleBuffer flush thread is not running.
2019-10-21 03:51:47,070 [Thread-169] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(660)) - Stopping OM delegation token secret manager.
2019-10-21 03:51:47,088 [Thread-232] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2019-10-21 03:51:47,088 [Thread-232] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2019-10-21 03:51:47,088 [Thread-232] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2019-10-21 03:51:47,088 [Thread-232] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2019-10-21 03:51:47,089 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-10-21 03:51:47,090 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-10-21 03:51:47,090 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-10-21 03:51:47,090 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-10-21 03:51:47,090 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-10-21 03:51:47,090 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-10-21 03:51:47,090 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-10-21 03:51:47,090 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-10-21 03:51:47,090 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-10-21 03:51:47,090 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-10-21 03:51:47,091 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-10-21 03:51:47,091 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-10-21 03:51:47,093 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-10-21 03:51:47,284 [Thread-232] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:48,300 [Thread-232] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:48,309 [pool-49-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-10-21 03:51:48,309 [pool-49-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-10-21 03:51:48,316 [pool-49-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1571629908316,scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-10-21 03:51:48,319 [Thread-232] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-10-21 03:51:48,319 [Thread-232] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUser(516)) - SCM login successful.
2019-10-21 03:51:48,319 [Thread-232] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:48,320 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: deletedBlocks
2019-10-21 03:51:48,320 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-21 03:51:48,320 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: validCerts
2019-10-21 03:51:48,320 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-21 03:51:48,320 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: revokedCerts
2019-10-21 03:51:48,321 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-21 03:51:48,321 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: default
2019-10-21 03:51:48,321 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(174)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-21 03:51:48,321 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(205)) - Using default options. DBProfile.DISK
2019-10-21 03:51:49,604 [Thread-232] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:51:49,605 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9961
2019-10-21 03:51:49,607 [Thread-232] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@37cd610c
2019-10-21 03:51:49,607 [Thread-232] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-21 03:51:49,611 [Thread-232] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(116)) - Entering startup safe mode.
2019-10-21 03:51:49,612 [Thread-232] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(59)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-21 03:51:49,612 [Thread-232] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:49,979 [Thread-232] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(137)) - No pipeline exists in current db
2019-10-21 03:51:49,979 [Thread-232] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:50,476 [Thread-232] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-10-21 03:51:50,479 [Thread-232] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:51:50,480 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9861
2019-10-21 03:51:50,482 [Thread-232] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:51:50,482 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9863
2019-10-21 03:51:50,483 [Thread-232] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:51:50,484 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9860
2019-10-21 03:51:50,486 [Thread-232] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_SCM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:51:50,487 [Thread-232] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:9876
2019-10-21 03:51:50,489 [Thread-232] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-21 03:51:50,490 [Thread-232] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-21 03:51:50,492 [Thread-232] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-21 03:51:50,494 [Thread-232] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-21 03:51:50,494 [Thread-232] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-21 03:51:50,494 [Thread-232] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-21 03:51:50,500 [Thread-232] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:50,550 [Thread-232] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(190)) - Configuration either no ozone.om.address set. Falling back to the default OM address /0.0.0.0:9862
2019-10-21 03:51:50,550 [Thread-232] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(220)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-10-21 03:51:50,553 [Thread-232] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:50,561 [pool-49-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-10-21 03:51:50,562 [pool-49-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-10-21 03:51:50,573 [pool-49-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1571629910572,om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-10-21 03:51:50,576 [Thread-232] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2019-10-21 03:51:50,576 [Thread-232] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(754)) - Ozone Manager login successful.
2019-10-21 03:51:50,576 [Thread-232] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:50,586 [Thread-232] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:50,587 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: userTable
2019-10-21 03:51:50,587 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-21 03:51:50,587 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: volumeTable
2019-10-21 03:51:50,587 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-21 03:51:50,588 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: bucketTable
2019-10-21 03:51:50,588 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-21 03:51:50,588 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: keyTable
2019-10-21 03:51:50,588 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-21 03:51:50,588 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: deletedTable
2019-10-21 03:51:50,588 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-21 03:51:50,589 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: openKeyTable
2019-10-21 03:51:50,589 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-21 03:51:50,589 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3Table
2019-10-21 03:51:50,589 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-21 03:51:50,589 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: multipartInfoTable
2019-10-21 03:51:50,589 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-21 03:51:50,589 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: dTokenTable
2019-10-21 03:51:50,590 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-21 03:51:50,590 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3SecretTable
2019-10-21 03:51:50,590 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-21 03:51:50,590 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: prefixTable
2019-10-21 03:51:50,590 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-21 03:51:50,590 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: default
2019-10-21 03:51:50,591 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(174)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-21 03:51:50,591 [Thread-232] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(205)) - Using default options. DBProfile.DISK
2019-10-21 03:51:51,997 [Thread-232] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2019-10-21 03:51:51,997 [Thread-232] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2019-10-21 03:51:51,997 [Thread-232] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(426)) - Loading token state into token manager.
2019-10-21 03:51:51,999 [Thread-232] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:51:52,000 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-10-21 03:51:52,016 [Thread-232] INFO  om.OzoneManager (OzoneManager.java:start(1071)) - OzoneManager RPC server is listening at /0.0.0.0:9862
2019-10-21 03:51:52,018 [Thread-232] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-ozonemanager.properties,hadoop-metrics2.properties
2019-10-21 03:51:52,020 [Thread-232] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-10-21 03:51:52,020 [Thread-232] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - OzoneManager metrics system started
2019-10-21 03:51:52,037 [Thread-232] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-21 03:51:52,113 [Thread-232] INFO  om.OzoneManager (OzoneManager.java:readKeyPair(713)) - Reading keypair and certificate from file system.
2019-10-21 03:51:52,114 [Thread-232] ERROR om.OzoneManager (OzoneManager.java:startSecretManager(674)) - Unable to read key pair for OM.
org.apache.hadoop.ozone.security.OzoneSecurityException: Error reading keypair & certificate OzoneManager.
	at org.apache.hadoop.ozone.om.OzoneManager.readKeyPair(OzoneManager.java:720)
	at org.apache.hadoop.ozone.om.OzoneManager.startSecretManager(OzoneManager.java:672)
	at org.apache.hadoop.ozone.om.OzoneManager.startSecretManagerIfNecessary(OzoneManager.java:1321)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1085)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testSecureOmInitializationSuccess(TestSecureOzoneCluster.java:421)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
Caused by: java.lang.NullPointerException
	at java.util.Objects.requireNonNull(Objects.java:203)
	at org.apache.hadoop.ozone.om.OzoneManager.readKeyPair(OzoneManager.java:716)
	... 15 more
2019-10-21 03:51:52,115 [Thread-232] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-10-21 03:51:53,116 [Thread-232] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-10-21 03:51:53,116 [Thread-232] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-21 03:51:53,116 [Thread-232] INFO  container.ReplicationManager (ReplicationManager.java:stop(210)) - Replication Monitor Thread is not running.
2019-10-21 03:51:53,116 [Thread-232] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-21 03:51:53,116 [Thread-232] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(820)) - Lease Manager of the command watchers stop failed
2019-10-21 03:51:53,116 [Thread-232] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-21 03:51:53,116 [Thread-232] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-21 03:51:53,116 [Thread-232] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9861
2019-10-21 03:51:55,611 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(655)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-10-21 03:51:55,612 [Thread-232] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-21 03:51:55,612 [Thread-232] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-21 03:51:55,612 [Thread-232] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9863
2019-10-21 03:51:55,613 [Thread-232] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-21 03:51:55,613 [Thread-232] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-21 03:51:55,613 [Thread-232] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9860
2019-10-21 03:51:55,613 [Thread-232] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-21 03:51:55,614 [Thread-232] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(212)) - Stopping the SCMSecurityProtocolServer.
2019-10-21 03:51:55,614 [Thread-232] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-10-21 03:51:55,614 [Thread-232] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-21 03:51:55,614 [Thread-232] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:51:55,615 [Thread-232] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:51:55,615 [Thread-232] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-21 03:51:55,618 [Thread-232] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-10-21 03:51:55,618 [Thread-232] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(250)) - Stopping OMDoubleBuffer flush thread
2019-10-21 03:51:55,619 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(193)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-21 03:51:55,619 [Thread-232] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(660)) - Stopping OM delegation token secret manager.
2019-10-21 03:51:55,643 [Thread-251] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2019-10-21 03:51:55,643 [Thread-251] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2019-10-21 03:51:55,643 [Thread-251] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2019-10-21 03:51:55,643 [Thread-251] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2019-10-21 03:51:55,644 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-10-21 03:51:55,644 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-10-21 03:51:55,644 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-10-21 03:51:55,645 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-10-21 03:51:55,645 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-10-21 03:51:55,645 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-10-21 03:51:55,645 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-10-21 03:51:55,645 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-10-21 03:51:55,645 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-10-21 03:51:55,645 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-10-21 03:51:55,645 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-10-21 03:51:55,645 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-10-21 03:51:55,648 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-10-21 03:51:55,753 [Thread-251] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:55,816 [Thread-251] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(190)) - Configuration either no ozone.om.address set. Falling back to the default OM address /0.0.0.0:9862
2019-10-21 03:51:55,816 [Thread-251] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(220)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-10-21 03:51:55,817 [Thread-251] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:55,825 [pool-66-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-10-21 03:51:55,825 [pool-66-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-10-21 03:51:55,832 [pool-66-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1571629915831,om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-10-21 03:51:55,834 [Thread-251] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2019-10-21 03:51:55,834 [Thread-251] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(754)) - Ozone Manager login successful.
2019-10-21 03:51:55,834 [Thread-251] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:55,838 [Thread-251] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:55,839 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: userTable
2019-10-21 03:51:55,839 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-21 03:51:55,839 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: volumeTable
2019-10-21 03:51:55,839 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-21 03:51:55,840 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: bucketTable
2019-10-21 03:51:55,840 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-21 03:51:55,840 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: keyTable
2019-10-21 03:51:55,840 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-21 03:51:55,840 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: deletedTable
2019-10-21 03:51:55,840 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-21 03:51:55,841 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: openKeyTable
2019-10-21 03:51:55,841 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-21 03:51:55,841 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3Table
2019-10-21 03:51:55,841 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-21 03:51:55,841 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: multipartInfoTable
2019-10-21 03:51:55,842 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-21 03:51:55,842 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: dTokenTable
2019-10-21 03:51:55,842 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-21 03:51:55,842 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3SecretTable
2019-10-21 03:51:55,842 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-21 03:51:55,843 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: prefixTable
2019-10-21 03:51:55,843 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-21 03:51:55,843 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: default
2019-10-21 03:51:55,843 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(174)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-21 03:51:55,843 [Thread-251] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(205)) - Using default options. DBProfile.DISK
2019-10-21 03:51:57,373 [Thread-251] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2019-10-21 03:51:57,373 [Thread-251] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2019-10-21 03:51:57,373 [Thread-251] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(426)) - Loading token state into token manager.
2019-10-21 03:51:57,375 [Thread-251] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:51:57,376 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-10-21 03:51:57,689 [Thread-251] INFO  om.OzoneManager (OzoneManager.java:start(1071)) - OzoneManager RPC server is listening at /0.0.0.0:9862
2019-10-21 03:51:57,689 [Thread-251] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-21 03:51:57,689 [Thread-251] INFO  om.OzoneManager (OzoneManager.java:readKeyPair(713)) - Reading keypair and certificate from file system.
2019-10-21 03:51:57,689 [Thread-251] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(690)) - Starting OM delegation token secret manager
2019-10-21 03:51:57,689 [Thread-251] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2019-10-21 03:51:57,690 [Thread[Thread-257,5,main]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(531)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2019-10-21 03:51:57,691 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:51:57,692 [IPC Server listener on 9862] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 9862: starting
2019-10-21 03:51:57,696 [Thread-251] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_OM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:51:57,696 [Thread-251] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2019-10-21 03:51:57,698 [Thread-251] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-21 03:51:57,699 [Thread-251] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-21 03:51:57,701 [Thread-251] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-21 03:51:57,702 [Thread-251] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-21 03:51:57,702 [Thread-251] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-21 03:51:57,702 [Thread-251] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-21 03:51:57,704 [Thread-251] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 9874
2019-10-21 03:51:57,704 [Thread-251] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-21 03:51:57,706 [Thread-251] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7d0c9605{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-21 03:51:57,707 [Thread-251] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5668989b{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-21 03:51:57,712 [Thread-251] INFO  server.KerberosAuthenticationHandler (KerberosAuthenticationHandler.java:init(164)) - Using keytab /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/http.keytab, for principal HTTP_OM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:51:57,713 [Thread-251] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@6a815925{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-21 03:51:57,714 [Thread-251] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2efb0945{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
2019-10-21 03:51:57,714 [Thread-251] INFO  server.Server (Server.java:doStart(419)) - Started @158061ms
2019-10-21 03:51:57,714 [Thread-251] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-21 03:51:57,715 [Thread-251] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:9874
2019-10-21 03:51:57,728 [pool-66-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1571629917728,om/pr-hdds-1569-252f9-3696506840 for om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:51:57,738 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:saslProcess(1849)) - Auth successful for om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM (auth:KERBEROS)
2019-10-21 03:51:57,757 [Thread-251] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-10-21 03:51:57,758 [IPC Server listener on 9862] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 9862
2019-10-21 03:51:57,759 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:51:57,759 [Thread-251] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(250)) - Stopping OMDoubleBuffer flush thread
2019-10-21 03:51:57,760 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(193)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-21 03:51:57,760 [Thread-251] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-21 03:51:57,760 [Thread-251] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(660)) - Stopping OM delegation token secret manager.
2019-10-21 03:51:57,760 [Thread[Thread-257,5,main]] ERROR security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(546)) - ExpiredTokenRemover received java.lang.InterruptedException: sleep interrupted
2019-10-21 03:51:57,761 [Thread-251] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@6a815925{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-21 03:51:57,762 [Thread-251] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2efb0945{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
2019-10-21 03:51:57,762 [Thread-251] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5668989b{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-21 03:51:57,762 [Thread-251] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7d0c9605{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-21 03:51:57,764 [Thread-251] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-10-21 03:51:58,765 [Thread-251] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-10-21 03:51:58,765 [Thread-251] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-10-21 03:51:58,765 [Thread-251] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(262)) - OMDoubleBuffer flush thread is not running.
2019-10-21 03:51:58,765 [Thread-251] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(660)) - Stopping OM delegation token secret manager.
2019-10-21 03:51:58,790 [Thread-291] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2019-10-21 03:51:58,790 [Thread-291] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2019-10-21 03:51:58,790 [Thread-291] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2019-10-21 03:51:58,790 [Thread-291] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2019-10-21 03:51:58,791 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-10-21 03:51:58,791 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-10-21 03:51:58,791 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-10-21 03:51:58,791 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-10-21 03:51:58,791 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-10-21 03:51:58,791 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-10-21 03:51:58,791 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-10-21 03:51:58,791 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-10-21 03:51:58,792 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-10-21 03:51:58,792 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-10-21 03:51:58,792 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-10-21 03:51:58,792 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-10-21 03:51:58,794 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-10-21 03:51:58,996 [Thread-291] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:59,035 [Thread-291] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:59,047 [pool-79-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-10-21 03:51:59,048 [pool-79-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-10-21 03:51:59,054 [pool-79-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1571629919053,scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-10-21 03:51:59,056 [Thread-291] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-10-21 03:51:59,056 [Thread-291] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUser(516)) - SCM login successful.
2019-10-21 03:51:59,057 [Thread-291] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:51:59,057 [Thread-291] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: deletedBlocks
2019-10-21 03:51:59,057 [Thread-291] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-21 03:51:59,057 [Thread-291] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: validCerts
2019-10-21 03:51:59,058 [Thread-291] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-21 03:51:59,058 [Thread-291] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: revokedCerts
2019-10-21 03:51:59,058 [Thread-291] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-21 03:51:59,058 [Thread-291] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: default
2019-10-21 03:51:59,058 [Thread-291] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(174)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-21 03:51:59,058 [Thread-291] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(205)) - Using default options. DBProfile.DISK
2019-10-21 03:52:03,928 [Thread-291] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:52:03,929 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9961
2019-10-21 03:52:03,932 [Thread-291] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@7fb49358
2019-10-21 03:52:03,932 [Thread-291] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-21 03:52:03,936 [Thread-291] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(116)) - Entering startup safe mode.
2019-10-21 03:52:03,937 [Thread-291] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(59)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-21 03:52:03,938 [Thread-291] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:04,363 [Thread-291] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(137)) - No pipeline exists in current db
2019-10-21 03:52:04,363 [Thread-291] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:05,193 [Thread-291] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-10-21 03:52:05,194 [Thread-291] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:52:05,195 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9861
2019-10-21 03:52:05,197 [Thread-291] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:52:05,197 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9863
2019-10-21 03:52:05,199 [Thread-291] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:52:05,199 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9860
2019-10-21 03:52:05,203 [Thread-291] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_SCM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:52:05,203 [Thread-291] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:9876
2019-10-21 03:52:05,205 [Thread-291] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-21 03:52:05,205 [Thread-291] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-21 03:52:05,208 [Thread-291] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-21 03:52:05,208 [Thread-291] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-21 03:52:05,209 [Thread-291] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-21 03:52:05,209 [Thread-291] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-21 03:52:05,217 [Thread-291] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-10-21 03:52:06,218 [Thread-291] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-10-21 03:52:06,218 [Thread-291] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-21 03:52:06,218 [Thread-291] INFO  container.ReplicationManager (ReplicationManager.java:stop(210)) - Replication Monitor Thread is not running.
2019-10-21 03:52:06,218 [Thread-291] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-21 03:52:06,219 [Thread-291] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(820)) - Lease Manager of the command watchers stop failed
2019-10-21 03:52:06,219 [Thread-291] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-21 03:52:06,219 [Thread-291] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-21 03:52:06,219 [Thread-291] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9861
2019-10-21 03:52:06,936 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(655)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-10-21 03:52:06,937 [Thread-291] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-21 03:52:06,937 [Thread-291] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-21 03:52:06,937 [Thread-291] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9863
2019-10-21 03:52:06,937 [Thread-291] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-21 03:52:06,937 [Thread-291] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-21 03:52:06,937 [Thread-291] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9860
2019-10-21 03:52:06,938 [Thread-291] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-21 03:52:06,938 [Thread-291] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(212)) - Stopping the SCMSecurityProtocolServer.
2019-10-21 03:52:06,938 [Thread-291] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-10-21 03:52:06,938 [Thread-291] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-21 03:52:06,938 [Thread-291] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:52:06,938 [Thread-291] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:52:06,939 [Thread-291] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-21 03:52:06,960 [Thread-305] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2019-10-21 03:52:06,960 [Thread-305] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2019-10-21 03:52:06,960 [Thread-305] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2019-10-21 03:52:06,960 [Thread-305] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2019-10-21 03:52:06,961 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-10-21 03:52:06,961 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-10-21 03:52:06,961 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-10-21 03:52:06,961 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-10-21 03:52:06,961 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-10-21 03:52:06,961 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-10-21 03:52:06,961 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-10-21 03:52:06,961 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-10-21 03:52:06,962 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-10-21 03:52:06,962 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-10-21 03:52:06,962 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-10-21 03:52:06,962 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-10-21 03:52:06,964 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-10-21 03:52:07,225 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:07,304 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:07,311 [pool-85-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-10-21 03:52:07,311 [pool-85-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-10-21 03:52:07,318 [pool-85-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1571629927317,scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-10-21 03:52:07,320 [Thread-305] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-10-21 03:52:07,321 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUser(516)) - SCM login successful.
2019-10-21 03:52:07,321 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:07,321 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: deletedBlocks
2019-10-21 03:52:07,321 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-21 03:52:07,322 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: validCerts
2019-10-21 03:52:07,322 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-21 03:52:07,322 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: revokedCerts
2019-10-21 03:52:07,322 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-21 03:52:07,322 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: default
2019-10-21 03:52:07,322 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(174)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-21 03:52:07,322 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(205)) - Using default options. DBProfile.DISK
2019-10-21 03:52:17,225 [Thread-305] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:52:17,227 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9961
2019-10-21 03:52:17,229 [Thread-305] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@43ec7af0
2019-10-21 03:52:17,229 [Thread-305] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-21 03:52:17,233 [Thread-305] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(116)) - Entering startup safe mode.
2019-10-21 03:52:17,234 [Thread-305] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(59)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-21 03:52:17,234 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:20,214 [Thread-305] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(137)) - No pipeline exists in current db
2019-10-21 03:52:20,214 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:21,035 [Thread-305] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-10-21 03:52:21,037 [Thread-305] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:52:21,038 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9861
2019-10-21 03:52:21,041 [Thread-305] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:52:21,043 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9863
2019-10-21 03:52:21,046 [Thread-305] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:52:21,047 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9860
2019-10-21 03:52:21,051 [Thread-305] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_SCM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:52:21,051 [Thread-305] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:9876
2019-10-21 03:52:21,053 [Thread-305] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-21 03:52:21,053 [Thread-305] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-21 03:52:21,056 [Thread-305] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-21 03:52:21,056 [Thread-305] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-21 03:52:21,057 [Thread-305] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-21 03:52:21,057 [Thread-305] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-21 03:52:21,063 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:21,186 [Thread-305] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(190)) - Configuration either no ozone.om.address set. Falling back to the default OM address /0.0.0.0:9862
2019-10-21 03:52:21,186 [Thread-305] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(220)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-10-21 03:52:21,187 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:21,193 [pool-85-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-10-21 03:52:21,194 [pool-85-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-10-21 03:52:21,202 [pool-85-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1571629941201,om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-10-21 03:52:21,204 [Thread-305] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2019-10-21 03:52:21,204 [Thread-305] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(754)) - Ozone Manager login successful.
2019-10-21 03:52:21,204 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:21,207 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:21,208 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: userTable
2019-10-21 03:52:21,208 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-21 03:52:21,208 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: volumeTable
2019-10-21 03:52:21,208 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-21 03:52:21,208 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: bucketTable
2019-10-21 03:52:21,208 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-21 03:52:21,208 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: keyTable
2019-10-21 03:52:21,208 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-21 03:52:21,209 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: deletedTable
2019-10-21 03:52:21,209 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-21 03:52:21,209 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: openKeyTable
2019-10-21 03:52:21,209 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-21 03:52:21,209 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3Table
2019-10-21 03:52:21,209 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-21 03:52:21,209 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: multipartInfoTable
2019-10-21 03:52:21,210 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-21 03:52:21,210 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: dTokenTable
2019-10-21 03:52:21,210 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-21 03:52:21,210 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3SecretTable
2019-10-21 03:52:21,210 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-21 03:52:21,210 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: prefixTable
2019-10-21 03:52:21,210 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-21 03:52:21,211 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: default
2019-10-21 03:52:21,211 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(174)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-21 03:52:21,211 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(205)) - Using default options. DBProfile.DISK
2019-10-21 03:52:23,426 [Thread-305] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2019-10-21 03:52:23,426 [Thread-305] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2019-10-21 03:52:23,426 [Thread-305] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(426)) - Loading token state into token manager.
2019-10-21 03:52:23,429 [Thread-305] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:52:23,430 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-10-21 03:52:23,448 [Thread-305] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(190)) - Configuration either no ozone.om.address set. Falling back to the default OM address /0.0.0.0:9862
2019-10-21 03:52:23,448 [Thread-305] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(220)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-10-21 03:52:23,450 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:23,453 [Thread-305] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(190)) - Configuration either no ozone.om.address set. Falling back to the default OM address /0.0.0.0:9862
2019-10-21 03:52:23,454 [Thread-305] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(220)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-10-21 03:52:23,454 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:23,455 [Thread-305] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(190)) - Configuration either no ozone.om.address set. Falling back to the default OM address /0.0.0.0:9862
2019-10-21 03:52:23,455 [Thread-305] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(220)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-10-21 03:52:23,456 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:23,457 [Thread-305] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-10-21 03:52:24,457 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-10-21 03:52:24,457 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-21 03:52:24,457 [Thread-305] INFO  container.ReplicationManager (ReplicationManager.java:stop(210)) - Replication Monitor Thread is not running.
2019-10-21 03:52:24,458 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-21 03:52:24,458 [Thread-305] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(820)) - Lease Manager of the command watchers stop failed
2019-10-21 03:52:24,458 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-21 03:52:24,458 [Thread-305] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-21 03:52:24,458 [Thread-305] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9861
2019-10-21 03:52:26,233 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(655)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-10-21 03:52:26,234 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-21 03:52:26,234 [Thread-305] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-21 03:52:26,234 [Thread-305] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9863
2019-10-21 03:52:26,234 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-21 03:52:26,234 [Thread-305] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-21 03:52:26,234 [Thread-305] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9860
2019-10-21 03:52:26,235 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-21 03:52:26,235 [Thread-305] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(212)) - Stopping the SCMSecurityProtocolServer.
2019-10-21 03:52:26,235 [Thread-305] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-10-21 03:52:26,235 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-21 03:52:26,235 [Thread-305] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:52:26,235 [Thread-305] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-21 03:52:26,235 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-21 03:52:26,240 [Thread-305] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-10-21 03:52:26,240 [Thread-305] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(250)) - Stopping OMDoubleBuffer flush thread
2019-10-21 03:52:26,240 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(193)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-21 03:52:26,241 [Thread-305] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(660)) - Stopping OM delegation token secret manager.
2019-10-21 03:52:26,258 [Thread-323] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2019-10-21 03:52:26,258 [Thread-323] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2019-10-21 03:52:26,258 [Thread-323] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2019-10-21 03:52:26,258 [Thread-323] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2019-10-21 03:52:26,259 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-10-21 03:52:26,259 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-10-21 03:52:26,259 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-10-21 03:52:26,259 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-10-21 03:52:26,259 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-10-21 03:52:26,259 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-10-21 03:52:26,259 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-10-21 03:52:26,259 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-10-21 03:52:26,259 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-10-21 03:52:26,259 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-10-21 03:52:26,260 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-10-21 03:52:26,260 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-10-21 03:52:26,261 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-10-21 03:52:26,457 [Thread-323] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:26,505 [Thread-323] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(190)) - Configuration either no ozone.om.address set. Falling back to the default OM address /0.0.0.0:9862
2019-10-21 03:52:26,506 [Thread-323] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(220)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-10-21 03:52:26,507 [Thread-323] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:26,512 [pool-102-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-10-21 03:52:26,512 [pool-102-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-10-21 03:52:26,518 [pool-102-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1571629946517,om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-10-21 03:52:26,519 [Thread-323] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2019-10-21 03:52:26,519 [Thread-323] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(754)) - Ozone Manager login successful.
2019-10-21 03:52:26,520 [Thread-323] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:26,523 [Thread-323] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:26,523 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: userTable
2019-10-21 03:52:26,523 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-21 03:52:26,524 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: volumeTable
2019-10-21 03:52:26,524 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-21 03:52:26,524 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: bucketTable
2019-10-21 03:52:26,524 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-21 03:52:26,524 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: keyTable
2019-10-21 03:52:26,524 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-21 03:52:26,525 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: deletedTable
2019-10-21 03:52:26,525 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-21 03:52:26,525 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: openKeyTable
2019-10-21 03:52:26,525 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-21 03:52:26,525 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3Table
2019-10-21 03:52:26,525 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-21 03:52:26,526 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: multipartInfoTable
2019-10-21 03:52:26,526 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-21 03:52:26,526 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: dTokenTable
2019-10-21 03:52:26,526 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-21 03:52:26,526 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: s3SecretTable
2019-10-21 03:52:26,526 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-21 03:52:26,527 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: prefixTable
2019-10-21 03:52:26,527 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(168)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-21 03:52:26,527 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(117)) - using custom profile for table: default
2019-10-21 03:52:26,527 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(174)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-21 03:52:26,527 [Thread-323] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(205)) - Using default options. DBProfile.DISK
2019-10-21 03:52:27,563 [Thread-323] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2019-10-21 03:52:27,564 [Thread-323] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.token.max-lifetime(500) assuming MILLISECONDS
2019-10-21 03:52:27,564 [Thread-323] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2019-10-21 03:52:27,564 [Thread-323] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(426)) - Loading token state into token manager.
2019-10-21 03:52:27,567 [Thread-323] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-21 03:52:27,567 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-10-21 03:52:27,829 [Thread-323] INFO  om.OzoneManager (OzoneManager.java:start(1071)) - OzoneManager RPC server is listening at /0.0.0.0:9862
2019-10-21 03:52:27,829 [Thread-323] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-21 03:52:27,829 [Thread-323] INFO  om.OzoneManager (OzoneManager.java:readKeyPair(713)) - Reading keypair and certificate from file system.
2019-10-21 03:52:27,829 [Thread-323] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(690)) - Starting OM delegation token secret manager
2019-10-21 03:52:27,829 [Thread-323] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2019-10-21 03:52:27,830 [Thread[Thread-329,5,main]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(531)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2019-10-21 03:52:27,831 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-21 03:52:27,831 [IPC Server listener on 9862] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 9862: starting
2019-10-21 03:52:27,836 [Thread-323] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_OM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:52:27,836 [Thread-323] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2019-10-21 03:52:27,837 [Thread-323] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-21 03:52:27,837 [Thread-323] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-21 03:52:27,839 [Thread-323] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-21 03:52:27,839 [Thread-323] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-21 03:52:27,839 [Thread-323] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-21 03:52:27,840 [Thread-323] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-21 03:52:27,840 [Thread-323] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 9874
2019-10-21 03:52:27,840 [Thread-323] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-21 03:52:27,842 [Thread-323] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7879721c{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-21 03:52:27,843 [Thread-323] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@6ef03081{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-21 03:52:27,846 [Thread-323] INFO  server.KerberosAuthenticationHandler (KerberosAuthenticationHandler.java:init(164)) - Using keytab /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/http.keytab, for principal HTTP_OM/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:52:27,847 [Thread-323] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@336533d1{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-21 03:52:27,848 [Thread-323] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1d2f37ca{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
2019-10-21 03:52:27,848 [Thread-323] INFO  server.Server (Server.java:doStart(419)) - Started @188195ms
2019-10-21 03:52:27,848 [Thread-323] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-21 03:52:27,849 [Thread-323] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:9874
2019-10-21 03:52:27,860 [pool-102-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1571629947859,om/pr-hdds-1569-252f9-3696506840 for om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM
2019-10-21 03:52:27,870 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:saslProcess(1849)) - Auth successful for om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM (auth:KERBEROS)
2019-10-21 03:52:28,402 [IPC Server handler 4 on 9862] ERROR om.OzoneManager (OzoneManager.java:renewDelegationToken(1509)) - Delegation token renewal failed for dt id: OzoneToken owner=om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM, renewer=randomService, realUser=, issueDate=1571629948392, maxDate=1571629948892, sequenceNumber=2, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, cause: om tries to renew a token (OzoneToken owner=om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM, renewer=randomService, realUser=, issueDate=1571629948392, maxDate=1571629948892, sequenceNumber=2, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null) with non-matching renewer randomService
2019-10-21 03:52:28,422 [IPC Server handler 5 on 9862] ERROR om.OzoneManager (OzoneManager.java:renewDelegationToken(1509)) - Delegation token renewal failed for dt id: OzoneToken owner=om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM, renewer=om, realUser=, issueDate=1571629947873, maxDate=3143259896836, sequenceNumber=1, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, cause: token (OzoneToken owner=om/pr-hdds-1569-252f9-3696506840@EXAMPLE.COM, renewer=om, realUser=, issueDate=1571629947873, maxDate=3143259896836, sequenceNumber=1, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null) can't be found in cache
2019-10-21 03:52:28,424 [Thread-323] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-10-21 03:52:28,425 [IPC Server listener on 9862] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 9862
2019-10-21 03:52:28,426 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-21 03:52:28,426 [Thread-323] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(250)) - Stopping OMDoubleBuffer flush thread
2019-10-21 03:52:28,426 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(193)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-21 03:52:28,427 [Thread-323] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-21 03:52:28,427 [Thread-323] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(660)) - Stopping OM delegation token secret manager.
2019-10-21 03:52:28,427 [Thread[Thread-329,5,main]] ERROR security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(546)) - ExpiredTokenRemover received java.lang.InterruptedException: sleep interrupted
2019-10-21 03:52:28,428 [Thread-323] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@336533d1{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-21 03:52:28,429 [Thread-323] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1d2f37ca{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
2019-10-21 03:52:28,429 [Thread-323] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@6ef03081{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-21 03:52:28,429 [Thread-323] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7879721c{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-21 03:52:28,431 [Thread-323] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-10-21 03:52:29,431 [Thread-323] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-10-21 03:52:29,432 [Thread-323] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-10-21 03:52:29,434 [Thread-323] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(262)) - OMDoubleBuffer flush thread is not running.
2019-10-21 03:52:29,435 [Thread-323] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(660)) - Stopping OM delegation token secret manager.
2019-10-21 03:52:29,461 [Thread-363] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2019-10-21 03:52:29,462 [Thread-363] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2019-10-21 03:52:29,462 [Thread-363] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2019-10-21 03:52:29,462 [Thread-363] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2019-10-21 03:52:29,463 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-10-21 03:52:29,463 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-10-21 03:52:29,463 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-10-21 03:52:29,463 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-10-21 03:52:29,464 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-10-21 03:52:29,464 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-10-21 03:52:29,464 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-10-21 03:52:29,464 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-10-21 03:52:29,464 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-10-21 03:52:29,464 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-10-21 03:52:29,464 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-10-21 03:52:29,464 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-10-21 03:52:29,468 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-10-21 03:52:29,938 [Thread-363] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:30,148 [Thread-363] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:30,152 [Thread-363] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:30,158 [Thread-363] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:30,159 [Thread-363] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-21 03:52:30,159 [Thread-363] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-10-21 03:52:31,160 [Thread-363] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
