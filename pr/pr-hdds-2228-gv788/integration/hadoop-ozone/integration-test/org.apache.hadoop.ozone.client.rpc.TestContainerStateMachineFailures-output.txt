2019-10-02 06:40:39,292 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 06:40:39,407 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 06:40:39,411 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 06:40:39,428 [main] INFO  util.log (Log.java:initialized(192)) - Logging initialized @852ms
2019-10-02 06:40:39,523 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-10-02 06:40:39,523 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-02 06:40:39,524 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-10-02 06:40:39,524 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-02 06:40:39,524 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-10-02 06:40:39,524 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-02 06:40:39,536 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-10-02 06:40:39,537 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-02 06:40:39,538 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-10-02 06:40:39,894 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@a1153bc
2019-10-02 06:40:39,897 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-02 06:40:39,966 [main] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(114)) - Entering startup safe mode.
2019-10-02 06:40:40,038 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(57)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-02 06:40:40,053 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 06:40:40,143 [main] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(132)) - No pipeline exists in current db
2019-10-02 06:40:40,146 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 06:40:40,293 [main] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
2019-10-02 06:40:40,672 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-02 06:40:40,698 [Socket Reader #1 for port 39893] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 39893
2019-10-02 06:40:40,840 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-02 06:40:40,841 [Socket Reader #1 for port 44998] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 44998
2019-10-02 06:40:40,850 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-02 06:40:40,851 [Socket Reader #1 for port 42503] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 42503
2019-10-02 06:40:40,878 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-10-02 06:40:41,022 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-02 06:40:41,030 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-02 06:40:41,039 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-02 06:40:41,041 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-02 06:40:41,042 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-02 06:40:41,042 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-02 06:40:41,075 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(770)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:42503
2019-10-02 06:40:41,139 [main] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-10-02 06:40:41,152 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-10-02 06:40:41,152 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-10-02 06:40:41,378 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(150)) - RPC server for Client  is listening at /0.0.0.0:42503
2019-10-02 06:40:41,379 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-02 06:40:41,379 [IPC Server listener on 42503] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 42503: starting
2019-10-02 06:40:41,381 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(780)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:44998
2019-10-02 06:40:41,383 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:44998
2019-10-02 06:40:41,383 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-02 06:40:41,383 [IPC Server listener on 44998] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 44998: starting
2019-10-02 06:40:41,386 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(784)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:39893
2019-10-02 06:40:41,386 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:39893
2019-10-02 06:40:41,387 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-02 06:40:41,387 [IPC Server listener on 39893] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 39893: starting
2019-10-02 06:40:41,391 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 38513
2019-10-02 06:40:41,394 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-02 06:40:41,444 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@64ba3208{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-02 06:40:41,445 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@25a6944c{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-02 06:40:41,483 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@5cc5b667{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-10-02 06:40:41,489 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@4eeea57d{HTTP/1.1,[http/1.1]}{0.0.0.0:38513}
2019-10-02 06:40:41,490 [main] INFO  server.Server (Server.java:doStart(419)) - Started @2914ms
2019-10-02 06:40:41,492 [main] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2019-10-02 06:40:41,492 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(301)) - Registered sink prometheus
2019-10-02 06:40:41,493 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:38513
2019-10-02 06:40:41,499 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3d6300e8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-02 06:40:41,502 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 06:40:41,609 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 06:40:41,610 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 06:40:41,611 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(652)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-10-02 06:40:41,611 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(658)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 86636d47-7789-461e-90a8-ff9097f67b87
2019-10-02 06:40:41,613 [main] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(609)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-10-02 06:40:42,345 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-02 06:40:42,354 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-10-02 06:40:42,354 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-02 06:40:42,355 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-10-02 06:40:42,355 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-02 06:40:42,355 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-10-02 06:40:42,355 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-02 06:40:42,355 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-10-02 06:40:42,356 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-02 06:40:42,356 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-10-02 06:40:42,356 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-02 06:40:42,356 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-10-02 06:40:42,357 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-02 06:40:42,357 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-10-02 06:40:42,357 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-02 06:40:42,357 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-10-02 06:40:42,358 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-02 06:40:42,358 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-10-02 06:40:42,358 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-02 06:40:42,358 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-10-02 06:40:42,359 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-02 06:40:42,359 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-10-02 06:40:42,359 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-02 06:40:42,359 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-10-02 06:40:42,360 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-02 06:40:42,360 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-10-02 06:40:42,969 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-02 06:40:42,970 [Socket Reader #1 for port 44615] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 44615
2019-10-02 06:40:42,991 [main] INFO  om.OzoneManager (OzoneManager.java:start(1243)) - OzoneManager RPC server is listening at localhost/127.0.0.1:44615
2019-10-02 06:40:42,991 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-02 06:40:42,992 [IPC Server listener on 44615] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 44615: starting
2019-10-02 06:40:42,992 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-02 06:40:42,997 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-10-02 06:40:42,999 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-02 06:40:42,999 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-02 06:40:43,001 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-02 06:40:43,002 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-02 06:40:43,002 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-02 06:40:43,002 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-02 06:40:43,004 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 32933
2019-10-02 06:40:43,004 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-02 06:40:43,006 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@57540fd0{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-02 06:40:43,007 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@58cec85b{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-02 06:40:43,031 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@7df60067{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-02 06:40:43,032 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1cbb3d3b{HTTP/1.1,[http/1.1]}{0.0.0.0:32933}
2019-10-02 06:40:43,035 [main] INFO  server.Server (Server.java:doStart(419)) - Started @4459ms
2019-10-02 06:40:43,035 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-02 06:40:43,036 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:32933
2019-10-02 06:40:43,306 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-02 06:40:43,352 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2228-gv788-2265516943 ip:192.168.151.100
2019-10-02 06:40:43,384 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-02 06:40:43,386 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/containers/hdds to VolumeSet
2019-10-02 06:40:43,389 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@53ac845a
2019-10-02 06:40:43,407 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@53ac845a
2019-10-02 06:40:43,520 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-02 06:40:43,593 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-02 06:40:43,599 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-10-02 06:40:43,600 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-02 06:40:43,601 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:40:43,602 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-02 06:40:43,603 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-02 06:40:43,770 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:40:43,833 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-10-02 06:40:43,835 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-02 06:40:43,835 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-02 06:40:43,837 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-02 06:40:43,838 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-02 06:40:43,838 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-02 06:40:43,838 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-02 06:40:43,839 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 34325
2019-10-02 06:40:43,839 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-02 06:40:43,849 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7ff35a3f{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-02 06:40:43,850 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@252dc8c4{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-02 06:40:43,892 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@cdb2d95{/,file:///tmp/jetty-0.0.0.0-34325-hddsDatanode-_-any-3129666001484988446.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-02 06:40:43,893 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@122d6c22{HTTP/1.1,[http/1.1]}{0.0.0.0:34325}
2019-10-02 06:40:43,896 [main] INFO  server.Server (Server.java:doStart(419)) - Started @5320ms
2019-10-02 06:40:43,897 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-02 06:40:43,898 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:34325
2019-10-02 06:40:43,903 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:40:43,908 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1f2fb15a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-02 06:40:44,021 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/meta/datanode.id
2019-10-02 06:40:44,904 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:40:45,904 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:40:45,957 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-10-02 06:40:45,963 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-10-02 06:40:45,963 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(417)) - Starting XceiverServerRatis cf91a886-62ea-44f9-8463-e98b3334d51b at port 0
2019-10-02 06:40:45,994 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start RPC server
2019-10-02 06:40:46,115 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - cf91a886-62ea-44f9-8463-e98b3334d51b: GrpcService started, listening on 0.0.0.0/0.0.0.0:33278
2019-10-02 06:40:46,116 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(427)) - XceiverServerRatis cf91a886-62ea-44f9-8463-e98b3334d51b is started using port 33278
2019-10-02 06:40:46,121 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(149)) - XceiverServerGrpc cf91a886-62ea-44f9-8463-e98b3334d51b is started using port 46347
2019-10-02 06:40:46,905 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:40:47,906 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:40:47,942 [IPC Server handler 1 on 39893] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(111)) - Added a new node: /default-rack/cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:40:47,943 [IPC Server handler 1 on 39893] INFO  node.SCMNodeManager (SCMNodeManager.java:register(266)) - Registered Data node : cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}
2019-10-02 06:40:47,947 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-10-02 06:40:47,947 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-10-02 06:40:47,948 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-10-02 06:40:48,447 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-A56EFA61320D:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] returns group-A56EFA61320D:java.util.concurrent.CompletableFuture@474e4994[Not completed]
2019-10-02 06:40:48,460 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-A56EFA61320D:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] with ContainerStateMachine:uninitialized
2019-10-02 06:40:48,462 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:40:48,463 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:40:48,463 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:40:48,463 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:40:48,464 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:40:48,472 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: ConfigurationManager, init=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null, confs=<EMPTY_MAP>
2019-10-02 06:40:48,473 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:40:48,479 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:40:48,481 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/bf44aafb-835a-4d3c-a768-a56efa61320d does not exist. Creating ...
2019-10-02 06:40:48,906 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-02 06:40:49,362 [main] INFO  rpc.RpcClient (RpcClient.java:createVolume(276)) - Creating Volume: testcontainerstatemachinefailures, with jenkins1000 as owner.
2019-10-02 06:40:49,443 [IPC Server handler 0 on 44615] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(194)) - created volume:testcontainerstatemachinefailures for user:jenkins1000
2019-10-02 06:40:49,461 [main] INFO  rpc.RpcClient (RpcClient.java:createBucket(415)) - Creating Bucket: testcontainerstatemachinefailures/testcontainerstatemachinefailures, with Versioning false and Storage Type set to DISK and Encryption set to false 
2019-10-02 06:40:49,510 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/bf44aafb-835a-4d3c-a768-a56efa61320d/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:40:50,953 [Thread-148] INFO  container.ReplicationManager (ReplicationManager.java:start(162)) - Starting Replication Monitor Thread.
2019-10-02 06:40:50,956 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(225)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2019-10-02 06:40:51,127 [RATISCREATEPIPELINE1] ERROR pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$null$5(235)) - Failed invoke Ratis rpc org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider$$Lambda$176/2096492399@54892ecb for cf91a886-62ea-44f9-8463-e98b3334d51b
org.apache.ratis.protocol.TimeoutIOException: deadline exceeded after 2957786636ns
	at org.apache.ratis.grpc.GrpcUtil.tryUnwrapException(GrpcUtil.java:82)
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:75)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:184)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.groupAdd(GrpcClientProtocolClient.java:153)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:94)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:278)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:205)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$initializePipeline$4(RatisPipelineProvider.java:196)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:231)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$callRatisRpc$6(RatisPipelineProvider.java:225)
	at java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1386)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 2957786636ns
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.AdminProtocolServiceGrpc$AdminProtocolServiceBlockingStub.groupManagement(AdminProtocolServiceGrpc.java:274)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$groupAdd$3(GrpcClientProtocolClient.java:155)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:182)
	... 25 more
2019-10-02 06:40:51,146 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-6E06664E9903:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] returns group-6E06664E9903:java.util.concurrent.CompletableFuture@3ea56a35[Not completed]
2019-10-02 06:40:54,141 [RATISCREATEPIPELINE1] ERROR pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$null$5(235)) - Failed invoke Ratis rpc org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider$$Lambda$176/2096492399@31322273 for cf91a886-62ea-44f9-8463-e98b3334d51b
org.apache.ratis.protocol.TimeoutIOException: deadline exceeded after 2999819559ns
	at org.apache.ratis.grpc.GrpcUtil.tryUnwrapException(GrpcUtil.java:82)
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:75)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:184)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.groupAdd(GrpcClientProtocolClient.java:153)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:94)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:278)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:205)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$initializePipeline$4(RatisPipelineProvider.java:196)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:231)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$callRatisRpc$6(RatisPipelineProvider.java:225)
	at java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1386)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 2999819559ns
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.AdminProtocolServiceGrpc$AdminProtocolServiceBlockingStub.groupManagement(AdminProtocolServiceGrpc.java:274)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$groupAdd$3(GrpcClientProtocolClient.java:155)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:182)
	... 25 more
2019-10-02 06:40:54,156 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-665EB0A3A74D:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] returns group-665EB0A3A74D:java.util.concurrent.CompletableFuture@5208596[Not completed]
2019-10-02 06:40:55,206 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/bf44aafb-835a-4d3c-a768-a56efa61320d has been successfully formatted.
2019-10-02 06:40:55,210 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-A56EFA61320D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 06:40:55,211 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:40:55,214 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:40:55,222 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:40:55,223 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:40:55,226 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:40:55,228 [pool-27-thread-1] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - ratis metrics system started (again)
2019-10-02 06:40:55,233 [pool-27-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2019-10-02 06:40:55,275 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:40:55,281 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/bf44aafb-835a-4d3c-a768-a56efa61320d
2019-10-02 06:40:55,282 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:40:55,283 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:40:55,284 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:40:55,284 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:40:55,285 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:40:55,285 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:40:55,287 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:40:55,287 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:40:55,287 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:40:55,300 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:40:55,304 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 06:40:55,309 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:40:55,309 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:40:55,310 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:40:55,310 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:40:55,341 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-6E06664E9903:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] with ContainerStateMachine:uninitialized
2019-10-02 06:40:55,341 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:40:55,342 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:40:55,342 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:40:55,342 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:40:55,342 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:40:55,342 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: ConfigurationManager, init=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null, confs=<EMPTY_MAP>
2019-10-02 06:40:55,342 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:40:55,343 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:40:55,343 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/7b7de5c0-c90d-4eed-be3d-6e06664e9903 does not exist. Creating ...
2019-10-02 06:40:56,802 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/7b7de5c0-c90d-4eed-be3d-6e06664e9903/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:40:56,815 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/7b7de5c0-c90d-4eed-be3d-6e06664e9903 has been successfully formatted.
2019-10-02 06:40:56,816 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-6E06664E9903: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 06:40:56,816 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:40:56,816 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:40:56,816 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:40:56,816 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:40:56,817 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:40:56,817 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:40:56,817 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/7b7de5c0-c90d-4eed-be3d-6e06664e9903
2019-10-02 06:40:56,817 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:40:56,817 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:40:56,817 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:40:56,818 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:40:56,818 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:40:56,818 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:40:56,818 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:40:56,818 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:40:56,818 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:40:56,819 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:40:56,826 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 06:40:56,827 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:40:56,827 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:40:56,827 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:40:56,827 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:40:56,833 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-665EB0A3A74D:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] with ContainerStateMachine:uninitialized
2019-10-02 06:40:56,833 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:40:56,833 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:40:56,833 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:40:56,834 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:40:56,834 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:40:56,834 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: ConfigurationManager, init=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null, confs=<EMPTY_MAP>
2019-10-02 06:40:56,834 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:40:56,834 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:40:56,835 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/6be6893e-201d-45f2-860d-665eb0a3a74d does not exist. Creating ...
2019-10-02 06:40:56,843 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/6be6893e-201d-45f2-860d-665eb0a3a74d/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:40:56,919 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/6be6893e-201d-45f2-860d-665eb0a3a74d has been successfully formatted.
2019-10-02 06:40:56,920 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-665EB0A3A74D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 06:40:56,920 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:40:56,921 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:40:56,921 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:40:56,921 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:40:56,922 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:40:56,922 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:40:56,922 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/6be6893e-201d-45f2-860d-665eb0a3a74d
2019-10-02 06:40:56,922 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:40:56,923 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:40:56,923 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:40:56,923 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:40:56,923 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:40:56,924 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:40:56,924 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:40:56,924 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:40:56,924 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:40:56,925 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:40:56,925 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 06:40:56,926 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:40:56,926 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:40:56,926 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:40:56,927 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:40:56,933 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: start as a follower, conf=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:40:56,934 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 06:40:56,936 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:40:56,939 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A56EFA61320D,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:40:56,956 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: start as a follower, conf=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:40:56,956 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 06:40:56,957 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:40:56,957 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E06664E9903,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:40:56,962 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: start as a follower, conf=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:40:56,962 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 06:40:56,962 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:40:56,962 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-665EB0A3A74D,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:40:57,244 [RATISCREATEPIPELINE1] ERROR pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$null$5(235)) - Failed invoke Ratis rpc org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider$$Lambda$176/2096492399@c7b27ca for cf91a886-62ea-44f9-8463-e98b3334d51b
org.apache.ratis.protocol.TimeoutIOException: deadline exceeded after 2999151860ns
	at org.apache.ratis.grpc.GrpcUtil.tryUnwrapException(GrpcUtil.java:82)
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:75)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:184)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.groupAdd(GrpcClientProtocolClient.java:153)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:94)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:278)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:205)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$initializePipeline$4(RatisPipelineProvider.java:196)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:231)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$callRatisRpc$6(RatisPipelineProvider.java:225)
	at java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1386)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 2999151860ns
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.AdminProtocolServiceGrpc$AdminProtocolServiceBlockingStub.groupManagement(AdminProtocolServiceGrpc.java:274)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$groupAdd$3(GrpcClientProtocolClient.java:155)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:182)
	... 25 more
2019-10-02 06:40:57,255 [IPC Server handler 0 on 44998] WARN  block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(192)) - Pipeline creation failed for type:RATIS factor:ONE. Retrying get pipelines call once.
java.io.IOException: Failed invoke Ratis rpc org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider$$Lambda$176/2096492399@c7b27ca for cf91a886-62ea-44f9-8463-e98b3334d51b
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:236)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$callRatisRpc$6(RatisPipelineProvider.java:225)
	at java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1386)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: org.apache.ratis.protocol.TimeoutIOException: deadline exceeded after 2999151860ns
	at org.apache.ratis.grpc.GrpcUtil.tryUnwrapException(GrpcUtil.java:82)
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:75)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:184)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.groupAdd(GrpcClientProtocolClient.java:153)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:94)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:278)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:205)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$initializePipeline$4(RatisPipelineProvider.java:196)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:231)
	... 19 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 2999151860ns
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.AdminProtocolServiceGrpc$AdminProtocolServiceBlockingStub.groupManagement(AdminProtocolServiceGrpc.java:274)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$groupAdd$3(GrpcClientProtocolClient.java:155)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:182)
	... 25 more
2019-10-02 06:40:57,256 [IPC Server handler 0 on 44998] INFO  block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(198)) - Could not find available pipeline of type:RATIS and factor:ONE even after retrying
2019-10-02 06:40:57,256 [IPC Server handler 0 on 44998] ERROR block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(222)) - Unable to allocate a block for the size: 4194304, type: RATIS, factor: ONE
2019-10-02 06:40:57,294 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-6E24F7C7E197:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] returns group-6E24F7C7E197:java.util.concurrent.CompletableFuture@452c57a0[Not completed]
2019-10-02 06:40:57,296 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-6E24F7C7E197:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] with ContainerStateMachine:uninitialized
2019-10-02 06:40:57,297 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:40:57,297 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:40:57,297 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:40:57,297 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:40:57,297 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:40:57,297 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197: ConfigurationManager, init=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null, confs=<EMPTY_MAP>
2019-10-02 06:40:57,298 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:40:57,298 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:40:57,298 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197 does not exist. Creating ...
2019-10-02 06:40:57,324 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:40:57,340 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197 has been successfully formatted.
2019-10-02 06:40:57,340 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-6E24F7C7E197: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 06:40:57,340 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:40:57,341 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:40:57,341 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:40:57,341 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:40:57,341 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:40:57,341 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:40:57,341 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197
2019-10-02 06:40:57,342 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:40:57,342 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:40:57,342 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:40:57,342 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:40:57,342 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:40:57,342 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:40:57,342 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:40:57,343 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:40:57,343 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:40:57,343 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:40:57,343 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 06:40:57,344 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:40:57,344 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:40:57,344 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:40:57,344 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:40:57,349 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197: start as a follower, conf=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:40:57,349 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 06:40:57,350 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:40:57,350 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E24F7C7E197,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:40:57,380 [IPC Server handler 1 on 44998] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: ace8bf30-6895-4552-8814-6e24f7c7e197, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 06:40:57,474 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - XceiverClientMetrics metrics system started (again)
2019-10-02 06:41:02,100 [Thread-156] INFO  impl.FollowerState (FollowerState.java:run(108)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-FollowerState: change to CANDIDATE, lastRpcTime:5164ms, electionTimeout:5163ms
2019-10-02 06:41:02,104 [Thread-156] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:41:02,105 [Thread-156] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 06:41:02,112 [Thread-156] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderElection
2019-10-02 06:41:02,147 [Thread-158] INFO  impl.FollowerState (FollowerState.java:run(108)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-FollowerState: change to CANDIDATE, lastRpcTime:5190ms, electionTimeout:5190ms
2019-10-02 06:41:02,148 [Thread-158] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:41:02,148 [Thread-158] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 06:41:02,148 [Thread-158] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderElection
2019-10-02 06:41:02,153 [Thread-160] INFO  impl.FollowerState (FollowerState.java:run(108)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-FollowerState: change to CANDIDATE, lastRpcTime:5191ms, electionTimeout:5191ms
2019-10-02 06:41:02,154 [Thread-160] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:41:02,154 [Thread-160] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 06:41:02,154 [Thread-160] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderElection
2019-10-02 06:41:02,483 [Thread-163] INFO  impl.FollowerState (FollowerState.java:run(108)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-FollowerState: change to CANDIDATE, lastRpcTime:5133ms, electionTimeout:5133ms
2019-10-02 06:41:02,484 [Thread-163] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:41:02,484 [Thread-163] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 06:41:02,484 [Thread-163] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderElection
2019-10-02 06:41:04,854 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1: begin an election at term 1 for -1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:41:04,856 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3: begin an election at term 1 for -1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:41:04,857 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4: begin an election at term 1 for -1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:41:04,857 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2: begin an election at term 1 for -1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:41:04,857 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderElection
2019-10-02 06:41:04,858 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderElection
2019-10-02 06:41:04,857 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderElection
2019-10-02 06:41:04,857 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderElection
2019-10-02 06:41:04,858 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 06:41:04,859 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 06:41:04,859 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 06:41:04,858 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 06:41:04,859 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: change Leader from null to cf91a886-62ea-44f9-8463-e98b3334d51b at term 1 for becomeLeader, leader elected after 8043ms
2019-10-02 06:41:04,859 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197: change Leader from null to cf91a886-62ea-44f9-8463-e98b3334d51b at term 1 for becomeLeader, leader elected after 7518ms
2019-10-02 06:41:04,859 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: change Leader from null to cf91a886-62ea-44f9-8463-e98b3334d51b at term 1 for becomeLeader, leader elected after 7938ms
2019-10-02 06:41:04,859 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: change Leader from null to cf91a886-62ea-44f9-8463-e98b3334d51b at term 1 for becomeLeader, leader elected after 9648ms
2019-10-02 06:41:04,868 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 06:41:04,868 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 06:41:04,868 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 06:41:04,868 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 06:41:04,868 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 06:41:04,868 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 06:41:04,868 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 06:41:04,869 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 06:41:04,874 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 06:41:04,874 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 06:41:04,874 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 06:41:04,874 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 06:41:04,877 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 06:41:04,877 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 06:41:04,878 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 06:41:04,878 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 06:41:04,878 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 06:41:04,878 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 06:41:04,878 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 06:41:04,878 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 06:41:04,879 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 06:41:04,879 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 06:41:04,879 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 06:41:04,879 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 06:41:04,939 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderState
2019-10-02 06:41:04,939 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderState
2019-10-02 06:41:04,939 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderState
2019-10-02 06:41:04,939 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderState
2019-10-02 06:41:04,963 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 06:41:04,963 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 06:41:04,963 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 06:41:04,963 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 06:41:04,974 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:41:04,974 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:41:04,974 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:41:04,974 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:41:05,148 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/bf44aafb-835a-4d3c-a768-a56efa61320d/current/log_inprogress_0
2019-10-02 06:41:05,150 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/6be6893e-201d-45f2-860d-665eb0a3a74d/current/log_inprogress_0
2019-10-02 06:41:05,150 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/7b7de5c0-c90d-4eed-be3d-6e06664e9903/current/log_inprogress_0
2019-10-02 06:41:05,150 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/current/log_inprogress_0
2019-10-02 06:41:07,099 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-6E24F7C7E197: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/sm/snapshot.1_1
2019-10-02 06:41:07,129 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-6E24F7C7E197: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/sm/snapshot.1_1 time:30
2019-10-02 06:41:07,131 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 06:41:07,131 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-02 06:41:09,109 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-6E24F7C7E197: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/sm/snapshot.1_1
2019-10-02 06:41:09,135 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-6E24F7C7E197: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/sm/snapshot.1_1 time:27
2019-10-02 06:41:09,135 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 06:41:09,135 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-10-02 06:41:09,139 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-6E24F7C7E197: Taking a snapshot at:(t:1, i:5) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/sm/snapshot.1_5
2019-10-02 06:41:09,152 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-6E24F7C7E197: Finished taking a snapshot at:(t:1, i:5) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/sm/snapshot.1_5 time:14
2019-10-02 06:41:09,152 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater: Took a snapshot at index 5
2019-10-02 06:41:09,152 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 5
2019-10-02 06:41:09,153 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-6E24F7C7E197: Taking a snapshot at:(t:1, i:7) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/sm/snapshot.1_7
2019-10-02 06:41:09,165 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-6E24F7C7E197: Finished taking a snapshot at:(t:1, i:7) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/sm/snapshot.1_7 time:13
2019-10-02 06:41:09,165 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater: Took a snapshot at index 7
2019-10-02 06:41:09,165 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater: snapshotIndex: updateIncreasingly 5 -> 7
2019-10-02 06:41:10,717 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-6E24F7C7E197: Taking a snapshot at:(t:1, i:9) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/sm/snapshot.1_9
2019-10-02 06:41:10,743 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-6E24F7C7E197: Finished taking a snapshot at:(t:1, i:9) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/sm/snapshot.1_9 time:26
2019-10-02 06:41:10,743 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater: Took a snapshot at index 9
2019-10-02 06:41:10,743 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater: snapshotIndex: updateIncreasingly 7 -> 9
2019-10-02 06:41:11,600 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-6E24F7C7E197: Taking a snapshot at:(t:1, i:12) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/sm/snapshot.1_12
2019-10-02 06:41:11,612 [pool-26-thread-4] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(234)) - Chunks path does not exist
2019-10-02 06:41:11,613 [pool-26-thread-4] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: ef01037a3c8e0b75:ef01037a3c8e0b75:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-10-02 06:41:11,615 [pool-26-thread-4] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(908)) - Unexpected error while marking container 2 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 2
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:237)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:257)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:356)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:298)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:903)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:312)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:405)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:413)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:448)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:726)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:222)
	... 13 more
2019-10-02 06:41:11,615 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-6E24F7C7E197: Finished taking a snapshot at:(t:1, i:12) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/ace8bf30-6895-4552-8814-6e24f7c7e197/sm/snapshot.1_12 time:15
2019-10-02 06:41:11,616 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater: Took a snapshot at index 12
2019-10-02 06:41:11,617 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater: snapshotIndex: updateIncreasingly 9 -> 12
2019-10-02 06:41:11,617 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #2 is in OPEN state, but the datanode cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
06:41:11.629 [pool-26-thread-4] ERROR DNAudit - user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 2 locID: 102891419676049410 bcsId: 11} | ret=FAILURE
java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:330) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:405) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:413) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:448) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-10-02 06:41:11,644 [pool-26-thread-4] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(468)) - group-6E24F7C7E197: writeChunk writeStateMachineData failed: blockIdcontainerID: 2
localID: 102891419676049410
blockCommitSequenceId: 11
 logIndex 13 chunkName 102891419676049410_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-10-02 06:41:11,656 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(581)) - pipeline Action CLOSE  on pipeline PipelineID=ace8bf30-6895-4552-8814-6e24f7c7e197.Reason : Unable to get Chunks directory.
2019-10-02 06:41:11,657 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(581)) - pipeline Action CLOSE  on pipeline PipelineID=ace8bf30-6895-4552-8814-6e24f7c7e197.Reason : Log already failed at index 13 for task WriteLog:13: (t:1, i:13), STATEMACHINELOGENTRY, client-68F2E3C0C491, cid=10
2019-10-02 06:41:11,663 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: ace8bf30-6895-4552-8814-6e24f7c7e197, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-10-02 06:41:11,663 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: ace8bf30-6895-4552-8814-6e24f7c7e197, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 06:41:11,664 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #2
2019-10-02 06:41:11,665 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: ace8bf30-6895-4552-8814-6e24f7c7e197, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-02 06:41:11,668 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #1
2019-10-02 06:41:11,668 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #2
2019-10-02 06:41:12,884 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(581)) - pipeline Action CLOSE  on pipeline PipelineID=ace8bf30-6895-4552-8814-6e24f7c7e197.Reason : Log already failed at index 13 for task WriteLog:13: (t:1, i:13), STATEMACHINELOGENTRY, client-68F2E3C0C491, cid=10
2019-10-02 06:41:12,885 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: ace8bf30-6895-4552-8814-6e24f7c7e197, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] from datanode cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}. Reason : Log already failed at index 13 for task WriteLog:13: (t:1, i:13), STATEMACHINELOGENTRY, client-68F2E3C0C491, cid=10
2019-10-02 06:41:12,886 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: ace8bf30-6895-4552-8814-6e24f7c7e197, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
2019-10-02 06:41:15,814 [SCM Heartbeat Processing Thread - 0] ERROR node.NodeStateManager (NodeStateManager.java:checkNodesHealth(626)) - Total time spend processing datanode HB's is greater than configured values for datanode heartbeats. Please adjust the heartbeat configs. Time Spend on HB processing: 0 seconds Datanode heartbeat Interval: 100 seconds.
2019-10-02 06:41:21,687 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: remove    LEADER cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197:t1, leader=cf91a886-62ea-44f9-8463-e98b3334d51b, voted=cf91a886-62ea-44f9-8463-e98b3334d51b, raftlog=cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-SegmentedRaftLog:OPENED:c12,f12,i15, conf=0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null RUNNING
2019-10-02 06:41:21,689 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197: shutdown
2019-10-02 06:41:21,690 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E24F7C7E197,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:21,691 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderState
2019-10-02 06:41:21,691 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-PendingRequests: sendNotLeaderResponses
2019-10-02 06:41:21,698 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-StateMachineUpdater: set stopIndex = 12
2019-10-02 06:41:21,700 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197: closes. applyIndex: 12
2019-10-02 06:41:21,708 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 06:41:21,709 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E24F7C7E197-SegmentedRaftLogWorker close()
2019-10-02 06:41:22,127 [grpc-default-executor-0] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 1 is synced with bcsId 6.
2019-10-02 06:41:22,128 [grpc-default-executor-0] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 1 is synced with bcsId 6.
2019-10-02 06:41:22,151 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(169)) - Moving container #1 to QUASI_CLOSED state, datanode cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null} reported QUASI_CLOSED replica.
2019-10-02 06:41:22,164 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: ace8bf30-6895-4552-8814-6e24f7c7e197, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-02 06:41:22,176 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-A233013FD5FC:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] returns group-A233013FD5FC:java.util.concurrent.CompletableFuture@6f8e91e1[Not completed]
2019-10-02 06:41:22,178 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-A233013FD5FC:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] with ContainerStateMachine:uninitialized
2019-10-02 06:41:22,178 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:41:22,179 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:41:22,179 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:41:22,179 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:41:22,179 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:41:22,179 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: ConfigurationManager, init=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null, confs=<EMPTY_MAP>
2019-10-02 06:41:22,179 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:41:22,180 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:41:22,180 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/66ec6088-51ca-4cd4-bd75-a233013fd5fc does not exist. Creating ...
2019-10-02 06:41:22,192 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/66ec6088-51ca-4cd4-bd75-a233013fd5fc/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:41:22,205 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/66ec6088-51ca-4cd4-bd75-a233013fd5fc has been successfully formatted.
2019-10-02 06:41:22,205 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-A233013FD5FC: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 06:41:22,205 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:41:22,206 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:41:22,206 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:41:22,206 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:41:22,206 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:41:22,206 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:41:22,206 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/66ec6088-51ca-4cd4-bd75-a233013fd5fc
2019-10-02 06:41:22,206 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:41:22,206 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:41:22,207 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:41:22,207 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:41:22,207 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:41:22,207 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:41:22,207 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:41:22,207 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:41:22,207 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:41:22,207 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:41:22,208 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 06:41:22,208 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:41:22,208 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:41:22,208 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:41:22,208 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:41:22,211 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: start as a follower, conf=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:41:22,211 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 06:41:22,212 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:41:22,212 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A233013FD5FC,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:22,224 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 66ec6088-51ca-4cd4-bd75-a233013fd5fc, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 06:41:22,745 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(274)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: cf91a886-62ea-44f9-8463-e98b3334d51b: group-6E24F7C7E197 not found. on the pipeline Pipeline[ Id: ace8bf30-6895-4552-8814-6e24f7c7e197, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-10-02 06:41:22,895 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: remove group-6E24F7C7E197:null
2019-10-02 06:41:22,906 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(67)) - Pipeline destroy failed for pipeline=PipelineID=ace8bf30-6895-4552-8814-6e24f7c7e197 dn=cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}
2019-10-02 06:41:22,908 [RatisPipelineUtilsThread] ERROR pipeline.SCMPipelineManager (Scheduler.java:lambda$schedule$1(70)) - Destroy pipeline failed for pipeline:Pipeline[ Id: ace8bf30-6895-4552-8814-6e24f7c7e197, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=ace8bf30-6895-4552-8814-6e24f7c7e197 not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:132)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.removePipeline(PipelineStateMap.java:322)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.removePipeline(PipelineStateManager.java:107)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.removePipeline(SCMPipelineManager.java:427)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.destroyPipeline(SCMPipelineManager.java:413)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.lambda$finalizeAndDestroyPipeline$0(SCMPipelineManager.java:322)
	at org.apache.hadoop.hdds.utils.Scheduler.lambda$schedule$1(Scheduler.java:68)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-10-02 06:41:27,367 [Thread-205] INFO  impl.FollowerState (FollowerState.java:run(108)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-FollowerState: change to CANDIDATE, lastRpcTime:5155ms, electionTimeout:5155ms
2019-10-02 06:41:27,370 [Thread-205] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:41:27,370 [Thread-205] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 06:41:27,371 [Thread-205] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderElection
2019-10-02 06:41:31,216 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5: begin an election at term 1 for -1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:41:31,218 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderElection
2019-10-02 06:41:31,218 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 06:41:31,218 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: change Leader from null to cf91a886-62ea-44f9-8463-e98b3334d51b at term 1 for becomeLeader, leader elected after 9012ms
2019-10-02 06:41:31,219 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 06:41:31,219 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 06:41:31,219 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 06:41:31,220 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 06:41:31,220 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 06:41:31,220 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 06:41:31,226 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderState
2019-10-02 06:41:31,226 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 06:41:31,228 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:41:31,267 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/66ec6088-51ca-4cd4-bd75-a233013fd5fc/current/log_inprogress_0
2019-10-02 06:41:31,906 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(274)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.RaftRetryFailureException: Failed RaftClientRequest:client-54A72CDB4C6B->cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC, cid=14, seq=1*, RW, org.apache.hadoop.hdds.scm.XceiverClientRatis$$Lambda$357/437098149@28a46c6a for 10 attempts with RetryLimited(maxAttempts=10, sleepTime=1000ms) on the pipeline Pipeline[ Id: 66ec6088-51ca-4cd4-bd75-a233013fd5fc, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 0, uncommitted data length is 5 retry count 0
2019-10-02 06:41:31,913 [IPC Server handler 10 on 44998] WARN  block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(192)) - Pipeline creation failed for type:RATIS factor:ONE. Retrying get pipelines call once.
org.apache.hadoop.hdds.scm.pipeline.InsufficientDatanodesException: Cannot create pipeline of factor 1 using 0 nodes.
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.create(RatisPipelineProvider.java:153)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineFactory.create(PipelineFactory.java:58)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.createPipeline(SCMPipelineManager.java:155)
	at org.apache.hadoop.hdds.scm.block.BlockManagerImpl.allocateBlock(BlockManagerImpl.java:190)
	at org.apache.hadoop.hdds.scm.server.SCMBlockProtocolServer.allocateBlock(SCMBlockProtocolServer.java:182)
	at org.apache.hadoop.hdds.scm.protocol.ScmBlockLocationProtocolServerSideTranslatorPB.allocateScmBlock(ScmBlockLocationProtocolServerSideTranslatorPB.java:159)
	at org.apache.hadoop.hdds.scm.protocol.ScmBlockLocationProtocolServerSideTranslatorPB.processMessage(ScmBlockLocationProtocolServerSideTranslatorPB.java:117)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.hdds.scm.protocol.ScmBlockLocationProtocolServerSideTranslatorPB.send(ScmBlockLocationProtocolServerSideTranslatorPB.java:98)
	at org.apache.hadoop.hdds.protocol.proto.ScmBlockLocationProtocolProtos$ScmBlockLocationProtocolService$2.callBlockingMethod(ScmBlockLocationProtocolProtos.java:13157)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-02 06:41:31,914 [IPC Server handler 10 on 44998] INFO  block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(198)) - Could not find available pipeline of type:RATIS and factor:ONE even after retrying
2019-10-02 06:41:31,914 [IPC Server handler 10 on 44998] ERROR block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(222)) - Unable to allocate a block for the size: 4194304, type: RATIS, factor: ONE
2019-10-02 06:41:31,918 [main] ERROR io.BlockOutputStreamEntryPool (BlockOutputStreamEntryPool.java:allocateBlockIfNeeded(299)) - Try to allocate more blocks for write failed, already allocated 0 blocks for this write.
INTERNAL_ERROR org.apache.hadoop.ozone.om.exceptions.OMException: Allocated 0 blocks. Requested 1 blocks
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.handleError(OzoneManagerProtocolClientSideTranslatorPB.java:732)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.allocateBlock(OzoneManagerProtocolClientSideTranslatorPB.java:764)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.tracing.TraceAllMethod.invoke(TraceAllMethod.java:66)
	at com.sun.proxy.$Proxy37.allocateBlock(Unknown Source)
	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntryPool.allocateNewBlock(BlockOutputStreamEntryPool.java:248)
	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntryPool.allocateBlockIfNeeded(BlockOutputStreamEntryPool.java:296)
	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleWrite(KeyOutputStream.java:198)
	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleRetry(KeyOutputStream.java:375)
	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleException(KeyOutputStream.java:324)
	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:449)
	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:473)
	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
	at org.apache.hadoop.ozone.client.rpc.TestContainerStateMachineFailures.testContainerStateMachineFailures(TestContainerStateMachineFailures.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
2019-10-02 06:41:31,958 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-02 06:41:34,769 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=66ec6088-51ca-4cd4-bd75-a233013fd5fc]
2019-10-02 06:41:34,771 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: 66ec6088-51ca-4cd4-bd75-a233013fd5fc, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 06:41:34,771 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 66ec6088-51ca-4cd4-bd75-a233013fd5fc, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-02 06:41:34,772 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-10-02 06:41:36,926 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-10-02 06:41:36,928 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - cf91a886-62ea-44f9-8463-e98b3334d51b: close
2019-10-02 06:41:36,930 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: shutdown
2019-10-02 06:41:36,930 [ForkJoinPool.commonPool-worker-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: shutdown
2019-10-02 06:41:36,931 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A56EFA61320D,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:36,931 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-665EB0A3A74D,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:36,931 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderState
2019-10-02 06:41:36,931 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderState
2019-10-02 06:41:36,932 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-PendingRequests: sendNotLeaderResponses
2019-10-02 06:41:36,932 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-PendingRequests: sendNotLeaderResponses
2019-10-02 06:41:36,933 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-StateMachineUpdater: set stopIndex = 0
2019-10-02 06:41:36,933 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-StateMachineUpdater: set stopIndex = 0
2019-10-02 06:41:36,940 [main] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: closes. applyIndex: 0
2019-10-02 06:41:36,940 [ForkJoinPool.commonPool-worker-0] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: closes. applyIndex: 0
2019-10-02 06:41:36,940 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 06:41:36,940 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 06:41:36,942 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLogWorker close()
2019-10-02 06:41:36,942 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLogWorker close()
2019-10-02 06:41:36,944 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: shutdown
2019-10-02 06:41:36,946 [ForkJoinPool.commonPool-worker-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: shutdown
2019-10-02 06:41:36,946 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A233013FD5FC,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:36,946 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E06664E9903,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:36,946 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderState
2019-10-02 06:41:36,946 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderState
2019-10-02 06:41:36,947 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-PendingRequests: sendNotLeaderResponses
2019-10-02 06:41:36,947 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-PendingRequests: sendNotLeaderResponses
2019-10-02 06:41:36,948 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-StateMachineUpdater: set stopIndex = 0
2019-10-02 06:41:36,948 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-StateMachineUpdater: set stopIndex = 0
2019-10-02 06:41:36,949 [ForkJoinPool.commonPool-worker-0] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: closes. applyIndex: 0
2019-10-02 06:41:36,949 [main] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: closes. applyIndex: 0
2019-10-02 06:41:36,949 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 06:41:36,950 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 06:41:36,952 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker close()
2019-10-02 06:41:36,952 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLogWorker close()
2019-10-02 06:41:36,956 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown server with port 33278 now
2019-10-02 06:41:36,961 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown server with port 33278 successfully
2019-10-02 06:41:36,967 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-02 06:41:36,994 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-10-02 06:41:36,998 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-02 06:41:37,004 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@cdb2d95{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-02 06:41:37,012 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@122d6c22{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-02 06:41:37,012 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@252dc8c4{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-02 06:41:37,013 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7ff35a3f{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-02 06:41:37,016 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-10-02 06:41:37,018 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-02 06:41:37,052 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2228-gv788-2265516943 ip:192.168.151.100
2019-10-02 06:41:37,055 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/containers : 4096 
2019-10-02 06:41:37,055 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-02 06:41:37,056 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/containers/hdds to VolumeSet
2019-10-02 06:41:37,056 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@6abdec0e
2019-10-02 06:41:37,057 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@6abdec0e
2019-10-02 06:41:37,094 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-02 06:41:37,094 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-02 06:41:37,094 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33278 (custom)
2019-10-02 06:41:37,095 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-02 06:41:37,095 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:41:37,095 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-02 06:41:37,095 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-02 06:41:37,096 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:41:37,096 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - cf91a886-62ea-44f9-8463-e98b3334d51b: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/7b7de5c0-c90d-4eed-be3d-6e06664e9903
2019-10-02 06:41:37,097 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-6E06664E9903:[] returns group-6E06664E9903:java.util.concurrent.CompletableFuture@1e236278[Not completed]
2019-10-02 06:41:37,098 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - cf91a886-62ea-44f9-8463-e98b3334d51b: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/66ec6088-51ca-4cd4-bd75-a233013fd5fc
2019-10-02 06:41:37,098 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-A233013FD5FC:[] returns group-A233013FD5FC:java.util.concurrent.CompletableFuture@44fff386[Not completed]
2019-10-02 06:41:37,098 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - cf91a886-62ea-44f9-8463-e98b3334d51b: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/6be6893e-201d-45f2-860d-665eb0a3a74d
2019-10-02 06:41:37,100 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-665EB0A3A74D:[] returns group-665EB0A3A74D:java.util.concurrent.CompletableFuture@1fc713c9[Not completed]
2019-10-02 06:41:37,107 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - cf91a886-62ea-44f9-8463-e98b3334d51b: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/bf44aafb-835a-4d3c-a768-a56efa61320d
2019-10-02 06:41:37,109 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-A56EFA61320D:[] returns group-A56EFA61320D:java.util.concurrent.CompletableFuture@7301eebe[Not completed]
2019-10-02 06:41:37,112 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-6E06664E9903:[] with ContainerStateMachine:uninitialized
2019-10-02 06:41:37,113 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:34325
2019-10-02 06:41:37,113 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:41:37,114 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:41:37,114 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:41:37,114 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:41:37,115 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:41:37,115 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-10-02 06:41:37,115 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:41:37,116 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:41:37,117 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-02 06:41:37,118 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-02 06:41:37,121 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-02 06:41:37,122 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-02 06:41:37,122 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-02 06:41:37,122 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-02 06:41:37,124 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 34325
2019-10-02 06:41:37,124 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-02 06:41:37,129 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@6848a051{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-02 06:41:37,129 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5740ff5e{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-02 06:41:37,165 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@37854b34{/,file:///tmp/jetty-0.0.0.0-34325-hddsDatanode-_-any-2721857417628293310.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-02 06:41:37,166 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@48eb001a{HTTP/1.1,[http/1.1]}{0.0.0.0:34325}
2019-10-02 06:41:37,167 [main] INFO  server.Server (Server.java:doStart(419)) - Started @58591ms
2019-10-02 06:41:37,167 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-02 06:41:37,168 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:34325
2019-10-02 06:41:37,168 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:41:37,170 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6d5ca31b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-02 06:41:38,091 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/7b7de5c0-c90d-4eed-be3d-6e06664e9903/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:41:38,096 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-6E06664E9903: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 06:41:38,097 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:41:38,097 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:41:38,097 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:41:38,097 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:41:38,097 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:41:38,097 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:41:38,098 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/7b7de5c0-c90d-4eed-be3d-6e06664e9903
2019-10-02 06:41:38,098 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:41:38,098 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:41:38,098 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:41:38,098 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:41:38,098 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:41:38,098 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:41:38,098 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:41:38,099 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:41:38,099 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:41:38,099 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:41:38,106 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:41:38,107 [pool-42-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(140)) - Successfully read 1 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/7b7de5c0-c90d-4eed-be3d-6e06664e9903/current/log_inprogress_0
2019-10-02 06:41:38,107 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2019-10-02 06:41:38,131 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:41:38,131 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:41:38,131 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:41:38,132 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:41:38,134 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-A233013FD5FC:[] with ContainerStateMachine:uninitialized
2019-10-02 06:41:38,134 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:41:38,134 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:41:38,134 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:41:38,135 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:41:38,135 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:41:38,135 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-10-02 06:41:38,135 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:41:38,135 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:41:38,147 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/66ec6088-51ca-4cd4-bd75-a233013fd5fc/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:41:38,148 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-A233013FD5FC: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 06:41:38,148 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:41:38,148 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:41:38,148 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:41:38,149 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:41:38,149 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:41:38,149 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:41:38,149 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/66ec6088-51ca-4cd4-bd75-a233013fd5fc
2019-10-02 06:41:38,149 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:41:38,149 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:41:38,149 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:41:38,149 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:41:38,150 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:41:38,150 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:41:38,150 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:41:38,150 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:41:38,150 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:41:38,150 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:41:38,151 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:41:38,151 [pool-42-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(140)) - Successfully read 1 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/66ec6088-51ca-4cd4-bd75-a233013fd5fc/current/log_inprogress_0
2019-10-02 06:41:38,152 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2019-10-02 06:41:38,169 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:41:38,178 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:41:38,178 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:41:38,178 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:41:38,179 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:41:38,182 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-665EB0A3A74D:[] with ContainerStateMachine:uninitialized
2019-10-02 06:41:38,182 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:41:38,182 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:41:38,182 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:41:38,183 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:41:38,183 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:41:38,183 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-10-02 06:41:38,183 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:41:38,183 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:41:38,196 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/6be6893e-201d-45f2-860d-665eb0a3a74d/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:41:38,197 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-665EB0A3A74D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 06:41:38,197 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:41:38,198 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:41:38,198 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:41:38,198 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:41:38,198 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:41:38,198 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:41:38,199 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/6be6893e-201d-45f2-860d-665eb0a3a74d
2019-10-02 06:41:38,199 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:41:38,199 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:41:38,199 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:41:38,199 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:41:38,200 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:41:38,200 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:41:38,200 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:41:38,200 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:41:38,201 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:41:38,201 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:41:38,202 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:41:38,202 [pool-42-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(140)) - Successfully read 1 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/6be6893e-201d-45f2-860d-665eb0a3a74d/current/log_inprogress_0
2019-10-02 06:41:38,202 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2019-10-02 06:41:38,232 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:41:38,232 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:41:38,232 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:41:38,232 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:41:38,235 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-A56EFA61320D:[] with ContainerStateMachine:uninitialized
2019-10-02 06:41:38,235 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:41:38,235 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:41:38,235 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:41:38,235 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:41:38,236 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:41:38,236 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-10-02 06:41:38,236 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:41:38,236 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:41:38,249 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/bf44aafb-835a-4d3c-a768-a56efa61320d/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:41:38,249 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-A56EFA61320D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 06:41:38,249 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:41:38,250 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:41:38,250 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:41:38,250 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:41:38,250 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:41:38,250 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:41:38,250 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/bf44aafb-835a-4d3c-a768-a56efa61320d
2019-10-02 06:41:38,250 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:41:38,251 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:41:38,251 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:41:38,251 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:41:38,251 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:41:38,251 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:41:38,251 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:41:38,251 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:41:38,252 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:41:38,252 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:41:38,252 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:41:38,253 [pool-42-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(140)) - Successfully read 1 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/bf44aafb-835a-4d3c-a768-a56efa61320d/current/log_inprogress_0
2019-10-02 06:41:38,253 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2019-10-02 06:41:38,277 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:41:38,277 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:41:38,277 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:41:38,277 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:41:39,169 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:41:39,173 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-10-02 06:41:39,174 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-10-02 06:41:39,174 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(417)) - Starting XceiverServerRatis cf91a886-62ea-44f9-8463-e98b3334d51b at port 33278
2019-10-02 06:41:39,187 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: start as a follower, conf=0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:41:39,188 [ForkJoinPool.commonPool-worker-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: start as a follower, conf=0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:41:39,188 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-10-02 06:41:39,188 [ForkJoinPool.commonPool-worker-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-10-02 06:41:39,188 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:41:39,188 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:41:39,189 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-665EB0A3A74D,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:39,189 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E06664E9903,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:39,191 [ForkJoinPool.commonPool-worker-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: start as a follower, conf=0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:41:39,192 [ForkJoinPool.commonPool-worker-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-10-02 06:41:39,193 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: start as a follower, conf=0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:41:39,193 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:41:39,194 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-10-02 06:41:39,194 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A56EFA61320D,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:39,194 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:41:39,195 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A233013FD5FC,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:39,196 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start RPC server
2019-10-02 06:41:39,198 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - cf91a886-62ea-44f9-8463-e98b3334d51b: GrpcService started, listening on 0.0.0.0/0.0.0.0:33278
2019-10-02 06:41:40,170 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:41:41,170 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:41:41,201 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: remove  FOLLOWER cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D:t1, leader=null, voted=cf91a886-62ea-44f9-8463-e98b3334d51b, raftlog=cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null RUNNING
2019-10-02 06:41:41,201 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: shutdown
2019-10-02 06:41:41,201 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A56EFA61320D,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:41,202 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:41:41,202 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-StateMachineUpdater: set stopIndex = -1
2019-10-02 06:41:41,202 [Thread-243] INFO  impl.FollowerState (FollowerState.java:run(117)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-02 06:41:41,202 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D: closes. applyIndex: -1
2019-10-02 06:41:41,204 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 06:41:41,205 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A56EFA61320D-SegmentedRaftLogWorker close()
2019-10-02 06:41:41,220 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: remove  FOLLOWER cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D:t1, leader=null, voted=cf91a886-62ea-44f9-8463-e98b3334d51b, raftlog=cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null RUNNING
2019-10-02 06:41:41,221 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: shutdown
2019-10-02 06:41:41,221 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-665EB0A3A74D,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:41,221 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:41:41,222 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-StateMachineUpdater: set stopIndex = -1
2019-10-02 06:41:41,222 [Thread-242] INFO  impl.FollowerState (FollowerState.java:run(117)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-02 06:41:41,222 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D: closes. applyIndex: -1
2019-10-02 06:41:41,224 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 06:41:41,224 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-665EB0A3A74D-SegmentedRaftLogWorker close()
2019-10-02 06:41:41,239 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: remove  FOLLOWER cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903:t1, leader=null, voted=cf91a886-62ea-44f9-8463-e98b3334d51b, raftlog=cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null RUNNING
2019-10-02 06:41:41,239 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: shutdown
2019-10-02 06:41:41,239 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6E06664E9903,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:41,239 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:41:41,240 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-StateMachineUpdater: set stopIndex = -1
2019-10-02 06:41:41,240 [Thread-241] INFO  impl.FollowerState (FollowerState.java:run(117)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-02 06:41:41,240 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903: closes. applyIndex: -1
2019-10-02 06:41:41,242 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 06:41:41,243 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-6E06664E9903-SegmentedRaftLogWorker close()
2019-10-02 06:41:42,171 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:41:43,171 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:41:43,195 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-D0D940F2CA70:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] returns group-D0D940F2CA70:java.util.concurrent.CompletableFuture@2f44879b[Not completed]
2019-10-02 06:41:43,200 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-D0D940F2CA70:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] with ContainerStateMachine:uninitialized
2019-10-02 06:41:43,200 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:41:43,200 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:41:43,201 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:41:43,201 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:41:43,201 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:41:43,201 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70: ConfigurationManager, init=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null, confs=<EMPTY_MAP>
2019-10-02 06:41:43,201 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:41:43,202 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:41:43,202 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70 does not exist. Creating ...
2019-10-02 06:41:44,170 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(84)) - Container #3 does not exist in datanode. Container close failed.
2019-10-02 06:41:44,172 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-02 06:41:44,346 [Thread-244] INFO  impl.FollowerState (FollowerState.java:run(108)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-FollowerState: change to CANDIDATE, lastRpcTime:5152ms, electionTimeout:5151ms
2019-10-02 06:41:44,346 [Thread-244] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:41:44,347 [Thread-244] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-02 06:41:44,347 [Thread-244] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderElection
2019-10-02 06:41:44,591 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:41:45,102 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6: begin an election at term 2 for 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:41:45,103 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderElection
2019-10-02 06:41:45,104 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-10-02 06:41:45,104 [pool-42-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70 has been successfully formatted.
2019-10-02 06:41:45,104 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: change Leader from null to cf91a886-62ea-44f9-8463-e98b3334d51b at term 2 for becomeLeader, leader elected after 6955ms
2019-10-02 06:41:45,104 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 06:41:45,105 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-D0D940F2CA70: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 06:41:45,105 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 06:41:45,105 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:41:45,105 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:41:45,105 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 06:41:45,106 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:41:45,106 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 06:41:45,106 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:41:45,106 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 06:41:45,106 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:41:45,107 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 06:41:45,107 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:41:45,107 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70
2019-10-02 06:41:45,107 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderState
2019-10-02 06:41:45,108 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:41:45,108 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:41:45,109 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:41:45,109 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:41:45,109 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:41:45,110 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(390)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-10-02 06:41:45,110 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:41:45,110 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:41:45,110 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:41:45,110 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:41:45,113 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:41:45,114 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 06:41:45,114 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:41:45,114 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(531)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/66ec6088-51ca-4cd4-bd75-a233013fd5fc/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/66ec6088-51ca-4cd4-bd75-a233013fd5fc/current/log_0-0
2019-10-02 06:41:45,115 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:41:45,115 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: set configuration 1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 1
2019-10-02 06:41:45,115 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:41:45,117 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:41:45,123 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70: start as a follower, conf=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:41:45,123 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 06:41:45,123 [pool-42-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:41:45,124 [pool-42-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D0D940F2CA70,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:45,160 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 0b0a8c04-a2b9-495d-a81b-d0d940f2ca70, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 06:41:45,169 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: remove    LEADER cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC:t2, leader=cf91a886-62ea-44f9-8463-e98b3334d51b, voted=cf91a886-62ea-44f9-8463-e98b3334d51b, raftlog=cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null RUNNING
2019-10-02 06:41:45,170 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: shutdown
2019-10-02 06:41:45,170 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A233013FD5FC,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:41:45,170 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderState
2019-10-02 06:41:45,170 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-PendingRequests: sendNotLeaderResponses
2019-10-02 06:41:45,170 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-StateMachineUpdater: set stopIndex = -1
2019-10-02 06:41:45,171 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC: closes. applyIndex: -1
2019-10-02 06:41:45,975 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker] WARN  segmented.SegmentedRaftLogOutputStream (SegmentedRaftLogOutputStream.java:<init>(77)) - Hit IOException while creating log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/66ec6088-51ca-4cd4-bd75-a233013fd5fc/current/log_inprogress_1, delete the partial file.
2019-10-02 06:41:45,976 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-A233013FD5FC-SegmentedRaftLogWorker close()
2019-10-02 06:41:45,988 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 66ec6088-51ca-4cd4-bd75-a233013fd5fc, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-02 06:41:50,199 [Thread-256] INFO  impl.FollowerState (FollowerState.java:run(108)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-FollowerState: change to CANDIDATE, lastRpcTime:5075ms, electionTimeout:5075ms
2019-10-02 06:41:50,200 [Thread-256] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:41:50,200 [Thread-256] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 06:41:50,200 [Thread-256] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderElection
2019-10-02 06:41:50,217 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7: begin an election at term 1 for -1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:41:50,217 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderElection
2019-10-02 06:41:50,218 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 06:41:50,218 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70: change Leader from null to cf91a886-62ea-44f9-8463-e98b3334d51b at term 1 for becomeLeader, leader elected after 5113ms
2019-10-02 06:41:50,219 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 06:41:50,219 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 06:41:50,220 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 06:41:50,220 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 06:41:50,220 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 06:41:50,221 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 06:41:50,226 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderState
2019-10-02 06:41:50,228 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 06:41:50,230 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:41:50,268 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/current/log_inprogress_0
2019-10-02 06:41:51,430 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-D0D940F2CA70: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/sm/snapshot.1_1
2019-10-02 06:41:51,435 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-D0D940F2CA70: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/sm/snapshot.1_1 time:4
2019-10-02 06:41:51,435 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 06:41:51,435 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-02 06:41:51,436 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-D0D940F2CA70: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/sm/snapshot.1_1
2019-10-02 06:41:51,439 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-D0D940F2CA70: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/sm/snapshot.1_1 time:4
2019-10-02 06:41:51,439 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 06:41:51,440 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-10-02 06:41:51,489 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-D0D940F2CA70: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/sm/snapshot.1_3
2019-10-02 06:41:51,494 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-D0D940F2CA70: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/sm/snapshot.1_3 time:5
2019-10-02 06:41:51,494 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater: Took a snapshot at index 3
2019-10-02 06:41:51,494 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 3
2019-10-02 06:41:51,495 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-D0D940F2CA70: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/sm/snapshot.1_3
2019-10-02 06:41:51,497 [pool-41-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(234)) - Chunks path does not exist
2019-10-02 06:41:51,497 [pool-41-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: 715eb1a9c9884ace:715eb1a9c9884ace:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-10-02 06:41:51,498 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-D0D940F2CA70: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/sm/snapshot.1_3 time:3
2019-10-02 06:41:51,498 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater: Took a snapshot at index 3
2019-10-02 06:41:51,498 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
06:41:51.498 [grpc-default-executor-1] ERROR DNAudit - user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 4 locID: 102891422034296837 bcsId: 0,size=10]} | ret=FAILURE
org.apache.hadoop.hdds.scm.container.common.helpers.ContainerNotOpenException: Container 4 in UNHEALTHY state
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:434) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:319) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:569) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$7(RaftServerProxy.java:333) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$5(RaftServerProxy.java:328) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:109) ~[ratis-common-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$6(RaftServerProxy.java:328) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:981) ~[?:1.8.0_212]
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2124) ~[?:1.8.0_212]
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:327) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:333) ~[ratis-server-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:220) ~[ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:326) ~[ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.util.SlidingWindow$Server.processRequestsFromHead(SlidingWindow.java:429) [ratis-common-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.util.SlidingWindow$Server.receivedRequest(SlidingWindow.java:421) [ratis-common-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:345) [ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:240) [ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:168) [ratis-grpc-0.5.0-201fc85-SNAPSHOT.jar:0.5.0-201fc85-SNAPSHOT]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
06:41:51.506 [pool-41-thread-2] ERROR DNAudit - user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 4 locID: 102891422034296837 bcsId: 3} | ret=FAILURE
java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:330) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:405) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:413) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:448) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-10-02 06:41:51,507 [pool-41-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(468)) - group-D0D940F2CA70: writeChunk writeStateMachineData failed: blockIdcontainerID: 4
localID: 102891422034296837
blockCommitSequenceId: 3
 logIndex 5 chunkName 102891422034296837_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-10-02 06:41:51,507 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #4
2019-10-02 06:41:51,507 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #4 is in OPEN state, but the datanode cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-10-02 06:41:51,508 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(581)) - pipeline Action CLOSE  on pipeline PipelineID=0b0a8c04-a2b9-495d-a81b-d0d940f2ca70.Reason : Unable to get Chunks directory.
2019-10-02 06:41:51,509 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 0b0a8c04-a2b9-495d-a81b-d0d940f2ca70, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-10-02 06:41:51,509 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: 0b0a8c04-a2b9-495d-a81b-d0d940f2ca70, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 06:41:51,510 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 0b0a8c04-a2b9-495d-a81b-d0d940f2ca70, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-02 06:42:01,522 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: remove    LEADER cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70:t1, leader=cf91a886-62ea-44f9-8463-e98b3334d51b, voted=cf91a886-62ea-44f9-8463-e98b3334d51b, raftlog=cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-SegmentedRaftLog:OPENED:c4,f4,i5, conf=0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null RUNNING
2019-10-02 06:42:01,523 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70: shutdown
2019-10-02 06:42:01,524 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D0D940F2CA70,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:42:01,524 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderState
2019-10-02 06:42:01,525 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-PendingRequests: sendNotLeaderResponses
2019-10-02 06:42:01,529 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater: set stopIndex = 4
2019-10-02 06:42:01,529 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-D0D940F2CA70: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/sm/snapshot.1_3
2019-10-02 06:42:01,552 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-D0D940F2CA70: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/sm/snapshot.1_3 time:23
2019-10-02 06:42:01,552 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater: Took a snapshot at index 3
2019-10-02 06:42:01,553 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-02 06:42:01,553 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-D0D940F2CA70: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/sm/snapshot.1_3
2019-10-02 06:42:01,565 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-D0D940F2CA70: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/0b0a8c04-a2b9-495d-a81b-d0d940f2ca70/sm/snapshot.1_3 time:12
2019-10-02 06:42:01,565 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater: Took a snapshot at index 3
2019-10-02 06:42:01,565 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-10-02 06:42:01,566 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70: closes. applyIndex: 4
2019-10-02 06:42:01,568 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 06:42:01,570 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-D0D940F2CA70-SegmentedRaftLogWorker close()
2019-10-02 06:42:01,575 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 0b0a8c04-a2b9-495d-a81b-d0d940f2ca70, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-02 06:42:01,581 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-9AAB4E4E3E58:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] returns group-9AAB4E4E3E58:java.util.concurrent.CompletableFuture@6df38a4c[Not completed]
2019-10-02 06:42:01,584 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-9AAB4E4E3E58:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] with ContainerStateMachine:uninitialized
2019-10-02 06:42:01,584 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:42:01,585 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:42:01,585 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:42:01,585 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:42:01,585 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:42:01,585 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: ConfigurationManager, init=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null, confs=<EMPTY_MAP>
2019-10-02 06:42:01,586 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:42:01,586 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:42:01,586 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58 does not exist. Creating ...
2019-10-02 06:42:01,599 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:42:01,613 [pool-42-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58 has been successfully formatted.
2019-10-02 06:42:01,613 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-9AAB4E4E3E58: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 06:42:01,613 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:42:01,613 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:42:01,614 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:42:01,614 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:42:01,614 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:42:01,614 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:42:01,614 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58
2019-10-02 06:42:01,615 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:42:01,615 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:42:01,615 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:42:01,615 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:42:01,615 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:42:01,615 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:42:01,616 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:42:01,616 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:42:01,616 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:42:01,616 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:42:01,617 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 06:42:01,617 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:42:01,617 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:42:01,617 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:42:01,618 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:42:01,621 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: start as a follower, conf=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:42:01,621 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 06:42:01,621 [pool-42-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:42:01,622 [pool-42-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AAB4E4E3E58,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:42:01,630 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: af4fe226-1b8b-49c4-a677-9aab4e4e3e58, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 06:42:03,541 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(274)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: cf91a886-62ea-44f9-8463-e98b3334d51b: group-D0D940F2CA70 not found. on the pipeline Pipeline[ Id: 0b0a8c04-a2b9-495d-a81b-d0d940f2ca70, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-10-02 06:42:06,752 [Thread-277] INFO  impl.FollowerState (FollowerState.java:run(108)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-FollowerState: change to CANDIDATE, lastRpcTime:5130ms, electionTimeout:5130ms
2019-10-02 06:42:06,753 [Thread-277] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:42:06,753 [Thread-277] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 06:42:06,754 [Thread-277] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderElection
2019-10-02 06:42:07,052 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8: begin an election at term 1 for -1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:42:07,053 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderElection
2019-10-02 06:42:07,054 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 06:42:07,054 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: change Leader from null to cf91a886-62ea-44f9-8463-e98b3334d51b at term 1 for becomeLeader, leader elected after 5440ms
2019-10-02 06:42:07,054 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 06:42:07,054 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 06:42:07,055 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 06:42:07,055 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 06:42:07,055 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 06:42:07,055 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 06:42:07,059 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderState
2019-10-02 06:42:07,059 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 06:42:07,060 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection8] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:42:07,116 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/current/log_inprogress_0
2019-10-02 06:42:07,714 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-9AAB4E4E3E58: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/sm/snapshot.1_1
2019-10-02 06:42:07,717 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-9AAB4E4E3E58: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/sm/snapshot.1_1 time:3
2019-10-02 06:42:07,718 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 06:42:07,718 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-02 06:42:07,773 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-9AAB4E4E3E58: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/sm/snapshot.1_4
2019-10-02 06:42:07,780 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-9AAB4E4E3E58: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/sm/snapshot.1_4 time:7
2019-10-02 06:42:07,781 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 06:42:07,781 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-10-02 06:42:07,890 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-02 06:42:10,728 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=af4fe226-1b8b-49c4-a677-9aab4e4e3e58]
2019-10-02 06:42:10,729 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: af4fe226-1b8b-49c4-a677-9aab4e4e3e58, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 06:42:10,729 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: af4fe226-1b8b-49c4-a677-9aab4e4e3e58, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-02 06:42:10,730 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #5
2019-10-02 06:42:12,794 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-10-02 06:42:12,796 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - cf91a886-62ea-44f9-8463-e98b3334d51b: close
2019-10-02 06:42:12,796 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: shutdown
2019-10-02 06:42:12,797 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AAB4E4E3E58,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:42:12,797 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderState
2019-10-02 06:42:12,797 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-PendingRequests: sendNotLeaderResponses
2019-10-02 06:42:12,801 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: set stopIndex = 4
2019-10-02 06:42:12,802 [main] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: closes. applyIndex: 4
2019-10-02 06:42:12,803 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 06:42:12,804 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker close()
2019-10-02 06:42:12,805 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown server with port 33278 now
2019-10-02 06:42:12,806 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown server with port 33278 successfully
2019-10-02 06:42:12,817 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-02 06:42:12,834 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-10-02 06:42:12,836 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-02 06:42:12,837 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@37854b34{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-02 06:42:12,838 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@48eb001a{HTTP/1.1,[http/1.1]}{0.0.0.0:34325}
2019-10-02 06:42:12,839 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5740ff5e{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-02 06:42:12,839 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@6848a051{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-02 06:42:12,840 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-10-02 06:42:12,842 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-02 06:42:12,846 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2228-gv788-2265516943 ip:192.168.151.100
2019-10-02 06:42:12,848 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/containers : 4096 
2019-10-02 06:42:12,848 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-02 06:42:12,848 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/containers/hdds to VolumeSet
2019-10-02 06:42:12,849 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@2152ab30
2019-10-02 06:42:12,849 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@2152ab30
2019-10-02 06:42:12,877 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-02 06:42:12,877 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-02 06:42:12,877 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33278 (custom)
2019-10-02 06:42:12,877 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-02 06:42:12,878 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:42:12,878 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-02 06:42:12,878 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-02 06:42:12,879 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:42:12,879 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - cf91a886-62ea-44f9-8463-e98b3334d51b: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58
2019-10-02 06:42:12,879 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-9AAB4E4E3E58:[] returns group-9AAB4E4E3E58:java.util.concurrent.CompletableFuture@766a49c7[Not completed]
2019-10-02 06:42:12,881 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:34325
2019-10-02 06:42:12,883 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-9AAB4E4E3E58:[] with ContainerStateMachine:uninitialized
2019-10-02 06:42:12,883 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:42:12,884 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:42:12,884 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:42:12,884 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:42:12,884 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:42:12,884 [pool-54-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-10-02 06:42:12,884 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:42:12,884 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:42:12,885 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-02 06:42:12,885 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-02 06:42:12,887 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-02 06:42:12,888 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-02 06:42:12,888 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-02 06:42:12,888 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-02 06:42:12,889 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 34325
2019-10-02 06:42:12,889 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-02 06:42:12,891 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@cb39552{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-02 06:42:12,891 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2a53f215{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-02 06:42:12,897 [pool-54-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:42:12,900 [pool-54-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-9AAB4E4E3E58: Setting the last applied index to (t:1, i:4)
2019-10-02 06:42:12,905 [pool-54-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:42:12,906 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:42:12,906 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:42:12,906 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:42:12,906 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:42:12,906 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:42:12,906 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:42:12,906 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58
2019-10-02 06:42:12,906 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:42:12,907 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:42:12,907 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:42:12,907 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:42:12,907 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:42:12,907 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:42:12,907 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:42:12,907 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:42:12,907 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:42:12,907 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:42:12,908 [pool-54-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:42:12,909 [pool-54-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(140)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/current/log_inprogress_0
2019-10-02 06:42:12,910 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
2019-10-02 06:42:12,936 [pool-54-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLog: commitIndex: updateToMax old=4, new=3, updated? false
2019-10-02 06:42:12,936 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:42:12,937 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:42:12,937 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:42:12,937 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:42:12,939 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@5d1e0fbb{/,file:///tmp/jetty-0.0.0.0-34325-hddsDatanode-_-any-8941590264089607335.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-02 06:42:12,940 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2eed37f4{HTTP/1.1,[http/1.1]}{0.0.0.0:34325}
2019-10-02 06:42:12,941 [main] INFO  server.Server (Server.java:doStart(419)) - Started @94365ms
2019-10-02 06:42:12,941 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-02 06:42:12,942 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:34325
2019-10-02 06:42:12,942 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:42:12,943 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6d031d89] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-02 06:42:13,942 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:42:14,943 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:42:14,944 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-10-02 06:42:14,944 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-10-02 06:42:14,945 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(417)) - Starting XceiverServerRatis cf91a886-62ea-44f9-8463-e98b3334d51b at port 33278
2019-10-02 06:42:14,951 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: start as a follower, conf=0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:42:14,951 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-10-02 06:42:14,952 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:42:14,952 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AAB4E4E3E58,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:42:14,953 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start RPC server
2019-10-02 06:42:14,954 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - cf91a886-62ea-44f9-8463-e98b3334d51b: GrpcService started, listening on 0.0.0.0/0.0.0.0:33278
2019-10-02 06:42:15,943 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:42:16,944 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:42:17,944 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:42:18,945 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-02 06:42:18,955 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-0C8D640CA98B:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] returns group-0C8D640CA98B:java.util.concurrent.CompletableFuture@33c43547[Not completed]
2019-10-02 06:42:18,956 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-0C8D640CA98B:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] with ContainerStateMachine:uninitialized
2019-10-02 06:42:18,957 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:42:18,957 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:42:18,957 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:42:18,957 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:42:18,957 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:42:18,957 [pool-54-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B: ConfigurationManager, init=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null, confs=<EMPTY_MAP>
2019-10-02 06:42:18,958 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:42:18,958 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:42:18,958 [pool-54-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b does not exist. Creating ...
2019-10-02 06:42:18,971 [pool-54-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:42:18,974 [pool-54-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b has been successfully formatted.
2019-10-02 06:42:18,975 [pool-54-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-0C8D640CA98B: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 06:42:18,975 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:42:18,975 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:42:18,975 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:42:18,975 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:42:18,975 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:42:18,976 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:42:18,976 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b
2019-10-02 06:42:18,976 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:42:18,976 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:42:18,976 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:42:18,976 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:42:18,977 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:42:18,977 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:42:18,977 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:42:18,977 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:42:18,977 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:42:18,977 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:42:18,978 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 06:42:18,978 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:42:18,978 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:42:18,978 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:42:18,978 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:42:18,981 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B: start as a follower, conf=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:42:18,981 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 06:42:18,982 [pool-54-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:42:18,982 [pool-54-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C8D640CA98B,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:42:18,988 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 06:42:19,945 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-02 06:42:19,953 [main] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID:  : Message: Cannot close container #4 while in UNHEALTHY state. : Result: CONTAINER_UNHEALTHY
06:42:19.954 [main] ERROR DNAudit - user=null | ip=null | op=CLOSE_CONTAINER {containerID=4} | ret=FAILURE
java.lang.Exception: Cannot close container #4 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:330) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.client.rpc.TestContainerStateMachineFailures.testUnhealthyContainer(TestContainerStateMachineFailures.java:274) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_212]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_212]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_212]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_212]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47) [junit-4.11.jar:?]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.11.jar:?]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271) [junit-4.11.jar:?]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70) [junit-4.11.jar:?]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309) [junit-4.11.jar:?]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
2019-10-02 06:42:19,961 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #4
2019-10-02 06:42:20,148 [Thread-306] INFO  impl.FollowerState (FollowerState.java:run(108)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-FollowerState: change to CANDIDATE, lastRpcTime:5196ms, electionTimeout:5196ms
2019-10-02 06:42:20,148 [Thread-306] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:42:20,149 [Thread-306] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-02 06:42:20,149 [Thread-306] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderElection
2019-10-02 06:42:20,164 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9: begin an election at term 2 for 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:42:20,164 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderElection
2019-10-02 06:42:20,164 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-10-02 06:42:20,164 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: change Leader from null to cf91a886-62ea-44f9-8463-e98b3334d51b at term 2 for becomeLeader, leader elected after 7258ms
2019-10-02 06:42:20,164 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 06:42:20,164 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 06:42:20,165 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 06:42:20,165 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 06:42:20,165 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 06:42:20,165 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 06:42:20,165 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderState
2019-10-02 06:42:20,166 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(390)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-10-02 06:42:20,167 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(531)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/current/log_0-4
2019-10-02 06:42:20,167 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-LeaderElection9] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: set configuration 5: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 5
2019-10-02 06:42:20,203 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/current/log_inprogress_5
2019-10-02 06:42:20,215 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-9AAB4E4E3E58: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/sm/snapshot.1_4
2019-10-02 06:42:20,227 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-9AAB4E4E3E58: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/sm/snapshot.1_4 time:12
2019-10-02 06:42:20,228 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 06:42:20,228 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 06:42:20,228 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-9AAB4E4E3E58: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/sm/snapshot.1_4
2019-10-02 06:42:20,247 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-9AAB4E4E3E58: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/sm/snapshot.1_4 time:19
2019-10-02 06:42:20,247 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 06:42:20,248 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 06:42:20,738 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: remove    LEADER cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58:t2, leader=cf91a886-62ea-44f9-8463-e98b3334d51b, voted=cf91a886-62ea-44f9-8463-e98b3334d51b, raftlog=cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null RUNNING
2019-10-02 06:42:20,739 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: shutdown
2019-10-02 06:42:20,739 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AAB4E4E3E58,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:42:20,739 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderState
2019-10-02 06:42:20,739 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-PendingRequests: sendNotLeaderResponses
2019-10-02 06:42:20,742 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: set stopIndex = 6
2019-10-02 06:42:20,743 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-9AAB4E4E3E58: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/sm/snapshot.1_4
2019-10-02 06:42:20,755 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-9AAB4E4E3E58: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/sm/snapshot.1_4 time:13
2019-10-02 06:42:20,755 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 06:42:20,755 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 06:42:20,756 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-9AAB4E4E3E58: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/sm/snapshot.1_4
2019-10-02 06:42:20,768 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-9AAB4E4E3E58: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/af4fe226-1b8b-49c4-a677-9aab4e4e3e58/sm/snapshot.1_4 time:13
2019-10-02 06:42:20,768 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 06:42:20,768 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-10-02 06:42:20,769 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58: closes. applyIndex: 6
2019-10-02 06:42:20,769 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 06:42:20,770 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-9AAB4E4E3E58-SegmentedRaftLogWorker close()
2019-10-02 06:42:23,398 [grpc-default-executor-1] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 5 is synced with bcsId 3.
2019-10-02 06:42:23,399 [grpc-default-executor-1] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 5 is synced with bcsId 3.
2019-10-02 06:42:23,418 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(169)) - Moving container #5 to QUASI_CLOSED state, datanode cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null} reported QUASI_CLOSED replica.
2019-10-02 06:42:23,422 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: af4fe226-1b8b-49c4-a677-9aab4e4e3e58, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-02 06:42:24,047 [Thread-310] INFO  impl.FollowerState (FollowerState.java:run(108)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-FollowerState: change to CANDIDATE, lastRpcTime:5065ms, electionTimeout:5065ms
2019-10-02 06:42:24,048 [Thread-310] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:42:24,048 [Thread-310] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-02 06:42:24,048 [Thread-310] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderElection
2019-10-02 06:42:24,063 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10: begin an election at term 1 for -1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:42:24,063 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderElection
2019-10-02 06:42:24,063 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-02 06:42:24,064 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B: change Leader from null to cf91a886-62ea-44f9-8463-e98b3334d51b at term 1 for becomeLeader, leader elected after 5088ms
2019-10-02 06:42:24,064 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-02 06:42:24,064 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-02 06:42:24,064 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-02 06:42:24,064 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-02 06:42:24,065 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-02 06:42:24,065 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-02 06:42:24,068 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start LeaderState
2019-10-02 06:42:24,069 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-02 06:42:24,070 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-LeaderElection10] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B: set configuration 0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null at 0
2019-10-02 06:42:24,104 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(574)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b/current/log_inprogress_0
2019-10-02 06:42:27,980 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-0C8D640CA98B: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b/sm/snapshot.1_1
2019-10-02 06:42:28,004 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-0C8D640CA98B: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b/sm/snapshot.1_1 time:25
2019-10-02 06:42:28,005 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater: Took a snapshot at index 1
2019-10-02 06:42:28,005 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-10-02 06:42:31,508 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-0C8D640CA98B: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b/sm/snapshot.1_4
2019-10-02 06:42:31,521 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-0C8D640CA98B: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b/sm/snapshot.1_4 time:14
2019-10-02 06:42:31,522 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater: Took a snapshot at index 4
2019-10-02 06:42:31,522 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-10-02 06:42:38,459 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(293)) - group-0C8D640CA98B: Taking a snapshot at:(t:1, i:5) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b/sm/snapshot.1_5
2019-10-02 06:42:38,475 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:getStorageContainerLocationClient(234)) - Creating StorageContainerLocationProtocol RPC client with address /0.0.0.0:42503
2019-10-02 06:42:41,307 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(304)) - group-0C8D640CA98B: Finished taking a snapshot at:(t:1, i:5) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b/sm/snapshot.1_5 time:2848
2019-10-02 06:42:41,309 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater: Took a snapshot at index 5
2019-10-02 06:42:41,309 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 5
2019-10-02 06:42:41,311 [RatisApplyTransactionExecutor 6] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID: 2f1791019ebf68a9:2f1791019ebf68a9:0:0 : Message: Error while creating/ updating .container file. ContainerID: 6 : Result: CONTAINER_FILES_CREATE_ERROR
2019-10-02 06:42:41,311 [RatisApplyTransactionExecutor 6] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(908)) - Unexpected error while marking container 6 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 6
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:237)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:257)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:356)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:298)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:903)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:312)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:405)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:413)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$6(ContainerStateMachine.java:723)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:726)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:222)
	... 13 more
06:42:41.313 [RatisApplyTransactionExecutor 6] ERROR DNAudit - user=null | ip=null | op=CLOSE_CONTAINER {containerID=6} | ret=FAILURE
java.lang.Exception: Error while creating/ updating .container file. ContainerID: 6
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:330) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:405) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:413) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$6(ContainerStateMachine.java:723) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-10-02 06:42:41,314 [RatisApplyTransactionExecutor 6] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$applyTransaction$7(745)) - gid group-0C8D640CA98B : ApplyTransaction failed. cmd CloseContainer logIndex 8 msg : Error while creating/ updating .container file. ContainerID: 6 Container Result: CONTAINER_FILES_CREATE_ERROR
2019-10-02 06:42:41,314 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #6
2019-10-02 06:42:41,319 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] ERROR impl.StateMachineUpdater (StateMachineUpdater.java:run(182)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater: the StateMachineUpdater hits Throwable
java.util.concurrent.ExecutionException: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 6
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
	at org.apache.ratis.server.impl.StateMachineUpdater.checkAndTakeSnapshot(StateMachineUpdater.java:244)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:166)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 6
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$7(ContainerStateMachine.java:744)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1595)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2019-10-02 06:42:41,320 [RatisApplyTransactionExecutor 6] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(581)) - pipeline Action CLOSE  on pipeline PipelineID=9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b.Reason : Ratis Transaction failure in datanode cf91a886-62ea-44f9-8463-e98b3334d51b with role LEADER .Triggering pipeline close action.
2019-10-02 06:42:41,322 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B: shutdown
2019-10-02 06:42:41,322 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C8D640CA98B,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:42:41,323 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown LeaderState
2019-10-02 06:42:41,323 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-PendingRequests: sendNotLeaderResponses
2019-10-02 06:42:41,323 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}. Reason : Ratis Transaction failure in datanode cf91a886-62ea-44f9-8463-e98b3334d51b with role LEADER .Triggering pipeline close action.
2019-10-02 06:42:41,324 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: 9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 06:42:41,330 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-StateMachineUpdater: set stopIndex = 8
2019-10-02 06:42:41,332 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-02 06:42:51,348 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: remove    LEADER cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B:t1, leader=cf91a886-62ea-44f9-8463-e98b3334d51b, voted=cf91a886-62ea-44f9-8463-e98b3334d51b, raftlog=cf91a886-62ea-44f9-8463-e98b3334d51b@group-0C8D640CA98B-SegmentedRaftLog:OPENED:c8,f9,i9, conf=0: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null CLOSING
2019-10-02 06:42:58,662 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(67)) - Pipeline destroy failed for pipeline=PipelineID=9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b dn=cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}
2019-10-02 06:42:58,663 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 9fdb0bb9-223f-4a5c-bd9f-0c8d640ca98b, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-10-02 06:42:58,676 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - cf91a886-62ea-44f9-8463-e98b3334d51b: addNew group-B0A4AB768417:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] returns group-B0A4AB768417:java.util.concurrent.CompletableFuture@6e16dff9[Not completed]
2019-10-02 06:42:58,679 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - cf91a886-62ea-44f9-8463-e98b3334d51b: new RaftServerImpl for group-B0A4AB768417:[cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278] with ContainerStateMachine:uninitialized
2019-10-02 06:42:58,679 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-02 06:42:58,680 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-02 06:42:58,680 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-02 06:42:58,680 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-02 06:42:58,680 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-02 06:42:58,680 [pool-54-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-B0A4AB768417: ConfigurationManager, init=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null, confs=<EMPTY_MAP>
2019-10-02 06:42:58,681 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis] (custom)
2019-10-02 06:42:58,681 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-02 06:42:58,682 [pool-54-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/e1ef6906-fe6b-4f48-be81-b0a4ab768417 does not exist. Creating ...
2019-10-02 06:42:58,695 [pool-54-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/e1ef6906-fe6b-4f48-be81-b0a4ab768417/in_use.lock acquired by nodename 31004@pr-hdds-2228-gv788-2265516943
2019-10-02 06:42:58,697 [main] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(287)) - Failed to take snapshot  for group-0C8D640CA98B as the stateMachine is unhealthy. The last applied index is at (t:1, i:6)
2019-10-02 06:42:58,698 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(314)) - Shutting down the Mini Ozone Cluster
2019-10-02 06:42:58,698 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(330)) - Stopping the Mini Ozone Cluster
2019-10-02 06:42:58,698 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(400)) - Stopping the OzoneManager
2019-10-02 06:42:58,698 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 44615
2019-10-02 06:42:58,703 [IPC Server listener on 44615] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 44615
2019-10-02 06:42:58,703 [main] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-10-02 06:42:58,705 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-02 06:42:58,708 [pool-54-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/e1ef6906-fe6b-4f48-be81-b0a4ab768417 has been successfully formatted.
2019-10-02 06:42:58,708 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-02 06:42:58,712 [pool-54-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-B0A4AB768417: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-02 06:42:58,713 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-02 06:42:58,713 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-02 06:42:58,713 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-10-02 06:42:58,715 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-02 06:42:58,717 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-02 06:42:58,718 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:42:58,718 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-02 06:42:58,718 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new cf91a886-62ea-44f9-8463-e98b3334d51b@group-B0A4AB768417-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/ratis/e1ef6906-fe6b-4f48-be81-b0a4ab768417
2019-10-02 06:42:58,718 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-02 06:42:58,719 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-02 06:42:58,719 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-02 06:42:58,719 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-02 06:42:58,719 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-02 06:42:58,719 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-02 06:42:58,719 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@7df60067{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-02 06:42:58,719 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-02 06:42:58,720 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-02 06:42:58,720 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-02 06:42:58,720 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-02 06:42:58,720 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1cbb3d3b{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-02 06:42:58,721 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-B0A4AB768417-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-02 06:42:58,721 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@58cec85b{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-02 06:42:58,721 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-02 06:42:58,722 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-10-02 06:42:58,722 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@57540fd0{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-02 06:42:58,722 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-02 06:42:58,722 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-02 06:42:58,727 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(377)) - Stopping the HddsDatanodes
2019-10-02 06:42:58,727 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-B0A4AB768417: start as a follower, conf=-1: [cf91a886-62ea-44f9-8463-e98b3334d51b:192.168.151.100:33278], old=null
2019-10-02 06:42:58,727 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-B0A4AB768417: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-02 06:42:58,728 [pool-54-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - cf91a886-62ea-44f9-8463-e98b3334d51b: start FollowerState
2019-10-02 06:42:58,728 [pool-54-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B0A4AB768417,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:42:58,735 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-02 06:42:58,736 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: e1ef6906-fe6b-4f48-be81-b0a4ab768417, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 06:43:01,605 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=e1ef6906-fe6b-4f48-be81-b0a4ab768417]
2019-10-02 06:43:01,606 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(315)) - destroying pipeline:Pipeline[ Id: e1ef6906-fe6b-4f48-be81-b0a4ab768417, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-02 06:43:01,606 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: e1ef6906-fe6b-4f48-be81-b0a4ab768417, Nodes: cf91a886-62ea-44f9-8463-e98b3334d51b{ip: 192.168.151.100, host: pr-hdds-2228-gv788-2265516943, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-10-02 06:43:03,729 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-10-02 06:43:03,730 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - cf91a886-62ea-44f9-8463-e98b3334d51b: close
2019-10-02 06:43:03,730 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-B0A4AB768417: shutdown
2019-10-02 06:43:03,730 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B0A4AB768417,id=cf91a886-62ea-44f9-8463-e98b3334d51b
2019-10-02 06:43:03,731 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown FollowerState
2019-10-02 06:43:03,731 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-B0A4AB768417-StateMachineUpdater: set stopIndex = -1
2019-10-02 06:43:03,731 [Thread-346] INFO  impl.FollowerState (FollowerState.java:run(117)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-B0A4AB768417-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-02 06:43:03,734 [main] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-B0A4AB768417: closes. applyIndex: -1
2019-10-02 06:43:03,736 [cf91a886-62ea-44f9-8463-e98b3334d51b@group-B0A4AB768417-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-B0A4AB768417-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-02 06:43:03,736 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - cf91a886-62ea-44f9-8463-e98b3334d51b@group-B0A4AB768417-SegmentedRaftLogWorker close()
2019-10-02 06:43:03,738 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown server with port 33278 now
2019-10-02 06:43:03,739 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - cf91a886-62ea-44f9-8463-e98b3334d51b: shutdown server with port 33278 successfully
2019-10-02 06:43:03,754 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd863a1f-5a99-46cc-8fc4-f29120e596c2/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-02 06:43:03,771 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-10-02 06:43:03,773 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-02 06:43:03,775 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@5d1e0fbb{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-02 06:43:03,775 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2eed37f4{HTTP/1.1,[http/1.1]}{0.0.0.0:34325}
2019-10-02 06:43:03,776 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2a53f215{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-02 06:43:03,776 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@cb39552{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-02 06:43:03,777 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(392)) - Stopping the StorageContainerManager
2019-10-02 06:43:03,777 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(808)) - Stopping Replication Manager Service.
2019-10-02 06:43:03,777 [main] INFO  container.ReplicationManager (ReplicationManager.java:stop(203)) - Stopping Replication Monitor Thread.
2019-10-02 06:43:03,777 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(815)) - Stopping Lease Manager of the command watchers
2019-10-02 06:43:03,778 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(822)) - Stopping datanode service RPC server
2019-10-02 06:43:03,778 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-10-02 06:43:03,778 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 39893
2019-10-02 06:43:03,778 [IPC Server listener on 39893] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 39893
2019-10-02 06:43:03,779 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-02 06:43:03,808 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-10-02 06:43:03,808 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(830)) - Stopping block service RPC server
2019-10-02 06:43:03,808 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-02 06:43:03,808 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 44998
2019-10-02 06:43:03,810 [IPC Server listener on 44998] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 44998
2019-10-02 06:43:03,810 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(837)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-02 06:43:03,810 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-02 06:43:03,811 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(158)) - Stopping the RPC server for Client Protocol
2019-10-02 06:43:03,811 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 42503
2019-10-02 06:43:03,812 [IPC Server listener on 42503] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 42503
2019-10-02 06:43:03,812 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Storage Container Manager HTTP server.
2019-10-02 06:43:03,812 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-02 06:43:03,814 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@5cc5b667{/,null,UNAVAILABLE}{/scm}
2019-10-02 06:43:03,816 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@4eeea57d{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-02 06:43:03,816 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@25a6944c{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-02 06:43:03,816 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@64ba3208{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-02 06:43:03,818 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(855)) - Stopping Block Manager Service.
2019-10-02 06:43:03,818 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-10-02 06:43:03,818 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-10-02 06:43:03,819 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(877)) - Stopping SCM Event Queue.
2019-10-02 06:43:03,832 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-10-02 06:43:03,841 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2019-10-02 06:43:03,842 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
